<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yaze: src/app/gui/canvas/canvas.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../yaze.ico"/></td>
  <td id="projectalign">
   <div id="projectname">yaze<span id="projectnumber">&#160;0.3.2</span>
   </div>
   <div id="projectbrief">Link to the Past ROM Editor</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('da/dbb/canvas_8cc_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">canvas.cc</div></div>
</div><!--header-->
<div class="contents">
<a href="../../da/dbb/canvas_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="../../d4/dcf/canvas_8h.html">canvas.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d83/bpp__format__manager_8h.html">app/gfx/util/bpp_format_manager.h</a>&quot;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &quot;<a class="code" href="../../da/dcb/bitmap_8h.html">app/gfx/core/bitmap.h</a>&quot;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="../../dd/db2/performance__profiler_8h.html">app/gfx/debug/performance/performance_profiler.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/d12/style_8h.html">app/gui/core/style.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d39/canvas__utils_8h.html">app/gui/canvas/canvas_utils.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="../../df/de8/canvas__automation__api_8h.html">app/gui/canvas/canvas_automation_api.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;imgui/imgui.h&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d3/dbf/namespaceyaze_1_1gui.html">yaze::gui</a> {</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">// Define constructors and destructor in .cc to avoid incomplete type issues with unique_ptr</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">// Default constructor</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">   19</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>() : renderer_(nullptr) { <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>(); }</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// Legacy constructors (renderer is optional for backward compatibility)</span></div>
<div class="foldopen" id="foldopen00022" data-start="{" data-end="}">
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aafa336f512f1f51ae7735293d847eef7">   22</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    : renderer_(nullptr), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>}</div>
</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="foldopen" id="foldopen00027" data-start="{" data-end="}">
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a35dd1b42d0cbd01e3a8c52856dfcefa0">   27</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, ImVec2 canvas_size)</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    : renderer_(nullptr), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>}</div>
</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="foldopen" id="foldopen00034" data-start="{" data-end="}">
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aca3baeceb419904c0c79d4c11619aeb2">   34</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, ImVec2 canvas_size, <a class="code hl_enumeration" href="../../d3/dbf/namespaceyaze_1_1gui.html#aa7b9cc1741455bb4ffc5ba758912a465">CanvasGridSize</a> grid_size)</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    : renderer_(nullptr), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa2edd88e58963b4157244d319cc2c1b6">SetGridSize</a>(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8ab4eaba6694e3b41eb961b30d9ba0fa">grid_size</a>);</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>}</div>
</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="foldopen" id="foldopen00042" data-start="{" data-end="}">
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4ce0ed62d0a344360c162936dfb1dcaa">   42</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, ImVec2 canvas_size, <a class="code hl_enumeration" href="../../d3/dbf/namespaceyaze_1_1gui.html#aa7b9cc1741455bb4ffc5ba758912a465">CanvasGridSize</a> grid_size, <span class="keywordtype">float</span> global_scale)</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    : renderer_(nullptr), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a26794e293b9d996abc70409d6aebfd8e">global_scale</a>;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa2edd88e58963b4157244d319cc2c1b6">SetGridSize</a>(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8ab4eaba6694e3b41eb961b30d9ba0fa">grid_size</a>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>}</div>
</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">// New constructors with renderer support (for migration to IRenderer pattern)</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a634e9d338fd426b61a8e5ce657bd6682">   52</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<a class="code hl_interface" href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">gfx::IRenderer</a>* renderer) : renderer_(renderer) { <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>(); }</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="foldopen" id="foldopen00054" data-start="{" data-end="}">
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a59785048dd38398d2f8a85ef3f33cbef">   54</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<a class="code hl_interface" href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">gfx::IRenderer</a>* renderer, <span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>) </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    : renderer_(renderer), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>}</div>
</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="foldopen" id="foldopen00059" data-start="{" data-end="}">
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a58532af7ce969abf591dac08b991692d">   59</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<a class="code hl_interface" href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">gfx::IRenderer</a>* renderer, <span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, ImVec2 canvas_size)</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    : renderer_(renderer), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>}</div>
</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="foldopen" id="foldopen00066" data-start="{" data-end="}">
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af768a606fdbb68fac822cca36fca4572">   66</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<a class="code hl_interface" href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">gfx::IRenderer</a>* renderer, <span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, ImVec2 canvas_size, <a class="code hl_enumeration" href="../../d3/dbf/namespaceyaze_1_1gui.html#aa7b9cc1741455bb4ffc5ba758912a465">CanvasGridSize</a> grid_size)</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    : renderer_(renderer), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa2edd88e58963b4157244d319cc2c1b6">SetGridSize</a>(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8ab4eaba6694e3b41eb961b30d9ba0fa">grid_size</a>);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>}</div>
</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span> </div>
<div class="foldopen" id="foldopen00074" data-start="{" data-end="}">
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae957b1c4cf5ee9302e85adeaca7dcb2d">   74</a></span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">Canvas::Canvas</a>(<a class="code hl_interface" href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">gfx::IRenderer</a>* renderer, <span class="keyword">const</span> std::string&amp; <span class="keywordtype">id</span>, ImVec2 canvas_size, <a class="code hl_enumeration" href="../../d3/dbf/namespaceyaze_1_1gui.html#aa7b9cc1741455bb4ffc5ba758912a465">CanvasGridSize</a> grid_size, <span class="keywordtype">float</span> global_scale)</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    : renderer_(renderer), canvas_id_(id), context_id_(id + <span class="stringliteral">&quot;Context&quot;</span>) {</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">InitializeDefaults</a>();</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a26794e293b9d996abc70409d6aebfd8e">global_scale</a>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa2edd88e58963b4157244d319cc2c1b6">SetGridSize</a>(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8ab4eaba6694e3b41eb961b30d9ba0fa">grid_size</a>);</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>}</div>
</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6e620185806a42d017fec9091565d0d9">Canvas::~Canvas</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="keyword">using </span>ImGui::GetContentRegionAvail;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="keyword">using </span>ImGui::GetCursorScreenPos;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="keyword">using </span>ImGui::GetIO;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keyword">using </span>ImGui::GetWindowDrawList;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">using </span>ImGui::IsItemActive;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keyword">using </span>ImGui::IsItemHovered;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="keyword">using </span>ImGui::IsMouseClicked;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="keyword">using </span>ImGui::IsMouseDragging;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keyword">using </span>ImGui::Text;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#a074b2ff8f8c07459d6dbdc5cac6b68cb">   95</a></span><span class="keyword">constexpr</span> uint32_t <a class="code hl_variable" href="../../d3/dbf/namespaceyaze_1_1gui.html#a074b2ff8f8c07459d6dbdc5cac6b68cb">kRectangleColor</a> = IM_COL32(32, 32, 32, 255);</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#a052158d35957768a382590f5af89e34e">   96</a></span><span class="keyword">constexpr</span> uint32_t <a class="code hl_variable" href="../../d3/dbf/namespaceyaze_1_1gui.html#a052158d35957768a382590f5af89e34e">kWhiteColor</a> = IM_COL32(255, 255, 255, 255);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#ac8d8a407cf4b76e12a012f326008d58a">   98</a></span><span class="keyword">constexpr</span> ImGuiButtonFlags <a class="code hl_variable" href="../../d3/dbf/namespaceyaze_1_1gui.html#ac8d8a407cf4b76e12a012f326008d58a">kMouseFlags</a> =</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    ImGuiButtonFlags_MouseButtonLeft | ImGuiButtonFlags_MouseButtonRight;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="foldopen" id="foldopen00101" data-start="{" data-end="}">
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="../../d4/d8a/namespaceyaze_1_1gui_1_1anonymous__namespace_02canvas_8cc_03.html">  101</a></span><span class="keyword">namespace </span>{</div>
<div class="foldopen" id="foldopen00102" data-start="{" data-end="}">
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="../../d4/d8a/namespaceyaze_1_1gui_1_1anonymous__namespace_02canvas_8cc_03.html#af4dff81b2ea92c55430eef4844079a96">  102</a></span>ImVec2 <a class="code hl_function" href="../../d4/d8a/namespaceyaze_1_1gui_1_1anonymous__namespace_02canvas_8cc_03.html#af4dff81b2ea92c55430eef4844079a96">AlignPosToGrid</a>(ImVec2 pos, <span class="keywordtype">float</span> scale) {</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  <span class="keywordflow">return</span> ImVec2(std::floor(pos.x / scale) * scale,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                std::floor(pos.y / scale) * scale);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>}</div>
</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>}  <span class="comment">// namespace</span></div>
</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment">// Canvas class implementation begins here</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="foldopen" id="foldopen00110" data-start="{" data-end="}">
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">  110</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">Canvas::InitializeDefaults</a>() {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <span class="comment">// Initialize configuration with sensible defaults</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = 32.0f;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 1.0f;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = ImVec2(0, 0);</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a744d38bbfb315c5c8570b67a05846297">clamp_rect_to_local_maps</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>  <span class="comment">// Initialize selection state</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acff9ff29e359d683290dacf352b541d9">selection_</a>.<a class="code hl_function" href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#ac56a0c5832c16671b0d959909b229bdf">Clear</a>();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>  <span class="comment">// Initialize palette editor</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a> = std::make_unique&lt;PaletteEditorWidget&gt;();</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>  <span class="comment">// Initialize interaction handler</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a91ca540f081331cba2823f3c51ed3c7d">interaction_handler_</a>.<a class="code hl_function" href="../../d2/dd8/classyaze_1_1gui_1_1CanvasInteractionHandler.html#afa5de90880b5637ebaa7578d11fce4ff">Initialize</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>  <span class="comment">// Initialize enhanced components</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3453f1f5a0906844d99b8140d3f89c06">InitializeEnhancedComponents</a>();</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>  <span class="comment">// Initialize legacy compatibility variables to match config</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a733e3fb0b8a77203e5d616f6f16e0118">custom_canvas_size_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a85e0d584077ee567f57be6ebf8661f8c">select_rect_active_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acff9ff29e359d683290dacf352b541d9">selection_</a>.<a class="code hl_variable" href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#a662a5c1f704255c79a1c88e67d1ef7fb">select_rect_active</a>;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a264e8936d5fbfced7cae5fa971608e67">selected_tile_pos_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acff9ff29e359d683290dacf352b541d9">selection_</a>.<a class="code hl_variable" href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#a0a0e6bc2dfade1768cafedd61b036788">selected_tile_pos</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>}</div>
</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="foldopen" id="foldopen00148" data-start="{" data-end="}">
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aed199b3747d8584c7d92e1cebb27734b">  148</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aed199b3747d8584c7d92e1cebb27734b">Canvas::Cleanup</a>() {</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a>.reset();</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acff9ff29e359d683290dacf352b541d9">selection_</a>.<a class="code hl_function" href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#ac56a0c5832c16671b0d959909b229bdf">Clear</a>();</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  <span class="comment">// Stop performance monitoring before cleanup to prevent segfault</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>) {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>-&gt;StopMonitoring();</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  }</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  <span class="comment">// Cleanup enhanced components</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>.reset();</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>.reset();</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>.reset();</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>.reset();</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>}</div>
</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="foldopen" id="foldopen00164" data-start="{" data-end="}">
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3453f1f5a0906844d99b8140d3f89c06">  164</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3453f1f5a0906844d99b8140d3f89c06">Canvas::InitializeEnhancedComponents</a>() {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>  <span class="comment">// Initialize modals system</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a> = std::make_unique&lt;CanvasModals&gt;();</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>  <span class="comment">// Initialize context menu system</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a> = std::make_unique&lt;CanvasContextMenu&gt;();</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>-&gt;Initialize(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  <span class="comment">// Initialize usage tracker (optional, controlled by config.enable_metrics)</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#aa2440b91d5cef79e7cdc5740559e052f">enable_metrics</a>) {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a> = std::make_shared&lt;CanvasUsageTracker&gt;();</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>-&gt;Initialize(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>-&gt;StartSession();</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="comment">// Initialize performance integration</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a> =</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        std::make_shared&lt;CanvasPerformanceIntegration&gt;();</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>-&gt;Initialize(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>-&gt;SetUsageTracker(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>-&gt;StartMonitoring();</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>  }</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>}</div>
</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="foldopen" id="foldopen00187" data-start="{" data-end="}">
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2c0a2c1c5fbad059544ee6f213ca8404">  187</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2c0a2c1c5fbad059544ee6f213ca8404">Canvas::SetUsageMode</a>(<a class="code hl_enumeration" href="../../d3/dbf/namespaceyaze_1_1gui.html#a159721a8406b66a2669077797eca213e">CanvasUsage</a> usage) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>-&gt;SetUsageMode(usage);</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>  }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>) {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>-&gt;SetUsageMode(usage);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>  }</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8e661c95db1779d8b42ee25bf275b975">usage_mode</a> = usage;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>}</div>
</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span> </div>
<div class="foldopen" id="foldopen00197" data-start="{" data-end="}">
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9ef803ef3c9ec8b28e5353f0c857587a">  197</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9ef803ef3c9ec8b28e5353f0c857587a">Canvas::RecordCanvasOperation</a>(<span class="keyword">const</span> std::string&amp; operation_name,</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>                                   <span class="keywordtype">double</span> time_ms) {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>) {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>-&gt;RecordOperation(operation_name, time_ms);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>  }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>) {</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>-&gt;RecordOperation(operation_name, time_ms,</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>                                              <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab86428a6a25e27cd5831df82bc84dfea">usage_mode</a>());</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>  }</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>}</div>
</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span> </div>
<div class="foldopen" id="foldopen00208" data-start="{" data-end="}">
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7256519367040d4d2e0382a36b8225ab">  208</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7256519367040d4d2e0382a36b8225ab">Canvas::ShowPerformanceUI</a>() {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>) {</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">performance_integration_</a>-&gt;RenderPerformanceUI();</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  }</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>}</div>
</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="foldopen" id="foldopen00214" data-start="{" data-end="}">
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a64b049de2095df4d057d454a2a1ff568">  214</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a64b049de2095df4d057d454a2a1ff568">Canvas::ShowUsageReport</a>() {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    std::string report = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>-&gt;ExportUsageReport();</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="comment">// Show report in a modal or window</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>      <span class="comment">// Create a simple text display modal</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>      ImGui::OpenPopup(<span class="stringliteral">&quot;Canvas Usage Report&quot;</span>);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>      <span class="keywordflow">if</span> (ImGui::BeginPopupModal(<span class="stringliteral">&quot;Canvas Usage Report&quot;</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>                                 ImGuiWindowFlags_AlwaysAutoResize)) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        ImGui::Text(<span class="stringliteral">&quot;Canvas Usage Report&quot;</span>);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        ImGui::Separator();</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        ImGui::TextWrapped(<span class="stringliteral">&quot;%s&quot;</span>, report.c_str());</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        ImGui::Separator();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;Close&quot;</span>)) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>          ImGui::CloseCurrentPopup();</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        ImGui::EndPopup();</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>      }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    }</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>}</div>
</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="foldopen" id="foldopen00236" data-start="{" data-end="}">
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9291e00e6da810c8dc2f1238a1b76d86">  236</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9291e00e6da810c8dc2f1238a1b76d86">Canvas::InitializePaletteEditor</a>(<a class="code hl_class" href="../../d6/d30/classyaze_1_1Rom.html">Rom</a>* rom) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a10d1e521eb838b0028ccf6d37e30e569">rom_</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0ba39fb84005e13025eb4eb4910eea7e">rom</a>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a>) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a>-&gt;Initialize(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0ba39fb84005e13025eb4eb4910eea7e">rom</a>);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>  }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>}</div>
</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="foldopen" id="foldopen00243" data-start="{" data-end="}">
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac1daa3cbdc73426ff6bbd23ec8940b72">  243</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac1daa3cbdc73426ff6bbd23ec8940b72">Canvas::ShowPaletteEditor</a>() {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a> &amp;&amp; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="keyword">auto</span> mutable_palette = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a6569297508f48d61c983ddda166099f7">mutable_palette</a>();</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a>-&gt;ShowPaletteEditor(*mutable_palette,</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                                       <span class="stringliteral">&quot;Canvas Palette Editor&quot;</span>);</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>}</div>
</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="foldopen" id="foldopen00251" data-start="{" data-end="}">
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af9c0f63b04ba61b63def6c58c135cb13">  251</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af9c0f63b04ba61b63def6c58c135cb13">Canvas::ShowColorAnalysis</a>() {</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a> &amp;&amp; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a>-&gt;ShowColorAnalysis(*<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>, <span class="stringliteral">&quot;Canvas Color Analysis&quot;</span>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>}</div>
</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="foldopen" id="foldopen00257" data-start="{" data-end="}">
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af94595435767e1938a6ec370cd9aaa5e">  257</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af94595435767e1938a6ec370cd9aaa5e">Canvas::ApplyROMPalette</a>(<span class="keywordtype">int</span> group_index, <span class="keywordtype">int</span> palette_index) {</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a> &amp;&amp; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">palette_editor_</a>-&gt;ApplyROMPalette(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>, group_index, palette_index);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>}</div>
</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">// Size reporting methods for table integration</span></div>
<div class="foldopen" id="foldopen00265" data-start="{" data-end="}">
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a694922bd86e7076a343deb4bafed62bf">  265</a></span>ImVec2 <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a694922bd86e7076a343deb4bafed62bf">Canvas::GetMinimumSize</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a65389748566b25ee130b4994ced4fa78">CanvasUtils::CalculateMinimumCanvasSize</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>,</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>                                                 <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>}</div>
</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="foldopen" id="foldopen00270" data-start="{" data-end="}">
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">  270</a></span>ImVec2 <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">Canvas::GetPreferredSize</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#abe23e23eed53addb8e822f1ebf1e5709">CanvasUtils::CalculatePreferredCanvasSize</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>,</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                                                   <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>}</div>
</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="foldopen" id="foldopen00275" data-start="{" data-end="}">
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5f05764181cdc69da1defbf76e82eb9f">  275</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5f05764181cdc69da1defbf76e82eb9f">Canvas::ReserveTableSpace</a>(<span class="keyword">const</span> std::string&amp; label) {</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>  ImVec2 size = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> ? <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">GetPreferredSize</a>() : <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a1284021a5bd3ac8263f10246b37af928">CanvasUtils::ReserveCanvasSpace</a>(size, label);</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>}</div>
</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="foldopen" id="foldopen00280" data-start="{" data-end="}">
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a330050195f09c32c785c00e5038c4564">  280</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a330050195f09c32c785c00e5038c4564">Canvas::BeginTableCanvas</a>(<span class="keyword">const</span> std::string&amp; label) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    ImVec2 preferred_size = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">GetPreferredSize</a>();</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a12bbd9b2031d2139978766cf9f57e73d">CanvasUtils::SetNextCanvasSize</a>(preferred_size, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>  }</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>  <span class="comment">// Begin child window that properly reports size to tables</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>  std::string child_id = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a> + <span class="stringliteral">&quot;_TableChild&quot;</span>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>  ImVec2 child_size = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> ? ImVec2(0, 0) : <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span> </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <span class="keywordtype">bool</span> result =</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      ImGui::BeginChild(child_id.c_str(), child_size,</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                        <span class="keyword">true</span>,  <span class="comment">// Always show border for table integration</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                        ImGuiWindowFlags_AlwaysVerticalScrollbar);</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span> </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>  <span class="keywordflow">if</span> (!label.empty()) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    ImGui::Text(<span class="stringliteral">&quot;%s&quot;</span>, label.c_str());</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  }</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>}</div>
</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="foldopen" id="foldopen00302" data-start="{" data-end="}">
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbf50b711654fee5cc4e80800ee528f2">  302</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbf50b711654fee5cc4e80800ee528f2">Canvas::EndTableCanvas</a>() {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  ImGui::EndChild();</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>}</div>
</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment">// Improved interaction detection methods</span></div>
<div class="foldopen" id="foldopen00307" data-start="{" data-end="}">
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c04739d0cf3ab21f5dbe2b2745c938c">  307</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c04739d0cf3ab21f5dbe2b2745c938c">Canvas::HasValidSelection</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>  <span class="keywordflow">return</span> !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.empty() &amp;&amp; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.size() &gt;= 2;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>}</div>
</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="foldopen" id="foldopen00311" data-start="{" data-end="}">
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a0509dbe235a1abe00b030d035ce9cd">  311</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a0509dbe235a1abe00b030d035ce9cd">Canvas::WasClicked</a>(ImGuiMouseButton button)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>  <span class="keywordflow">return</span> ImGui::IsItemClicked(button) &amp;&amp; <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c04739d0cf3ab21f5dbe2b2745c938c">HasValidSelection</a>();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>}</div>
</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="foldopen" id="foldopen00315" data-start="{" data-end="}">
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a1e6a4fcba5a225fdcfee67429bf163f7">  315</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a1e6a4fcba5a225fdcfee67429bf163f7">Canvas::WasDoubleClicked</a>(ImGuiMouseButton button)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  <span class="keywordflow">return</span> ImGui::IsItemHovered() &amp;&amp; ImGui::IsMouseDoubleClicked(button) &amp;&amp;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>         <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c04739d0cf3ab21f5dbe2b2745c938c">HasValidSelection</a>();</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>}</div>
</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="foldopen" id="foldopen00320" data-start="{" data-end="}">
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aba1fe648bda619aeeed190b14e71f4ca">  320</a></span>ImVec2 <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aba1fe648bda619aeeed190b14e71f4ca">Canvas::GetLastClickPosition</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c04739d0cf3ab21f5dbe2b2745c938c">HasValidSelection</a>()) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>[0];  <span class="comment">// Return the first point of the selection</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <span class="keywordflow">return</span> ImVec2(-1, -1);  <span class="comment">// Invalid position</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>}</div>
</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="comment">// ==================== Modern ImGui-Style Interface ====================</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span> </div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9414ed2befd16bf4e340eb8f9593ec04">  329</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9414ed2befd16bf4e340eb8f9593ec04">Canvas::Begin</a>(ImVec2 canvas_size) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>  <span class="comment">// Modern ImGui-style begin - combines DrawBackground + DrawContextMenu</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">DrawContextMenu</a>();</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>}</div>
</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="foldopen" id="foldopen00335" data-start="{" data-end="}">
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab73d91d9c1aef0f332a88f18d34ffbc">  335</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab73d91d9c1aef0f332a88f18d34ffbc">Canvas::End</a>() {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>  <span class="comment">// Modern ImGui-style end - automatically draws grid and overlay</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">DrawGrid</a>();</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>  }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>  </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>  <span class="comment">// Render any persistent popups from context menu actions</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">RenderPersistentPopups</a>();</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>}</div>
</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="comment">// ==================== Legacy Interface ====================</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span> </div>
<div class="foldopen" id="foldopen00348" data-start="{" data-end="}">
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a82770403b306b5a6459b5bc62efe26d4">  348</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a82770403b306b5a6459b5bc62efe26d4">Canvas::UpdateColorPainter</a>(<a class="code hl_interface" href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">gfx::IRenderer</a>* <span class="comment">/*renderer*/</span>, <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">gfx::Bitmap</a>&amp; bitmap, <span class="keyword">const</span> ImVec4&amp; color,</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                                <span class="keyword">const</span> std::function&lt;<span class="keywordtype">void</span>()&gt;&amp; event,</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                                <span class="keywordtype">int</span> tile_size, <span class="keywordtype">float</span> scale) {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = scale;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = scale;  <span class="comment">// Legacy compatibility</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">DrawContextMenu</a>();</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">DrawBitmap</a>(bitmap, 2, scale);</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4e859171161c1ef5364b1f13238400c9">DrawSolidTilePainter</a>(color, tile_size)) {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    event();</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#addf78f3f1f063b4e0d7dd0f872ca9ee0">UpdateTexture</a>();</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>  }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">DrawGrid</a>();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>}</div>
</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="foldopen" id="foldopen00364" data-start="{" data-end="}">
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f0afe4ee88fbd9ab6c6cbacff908763">  364</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f0afe4ee88fbd9ab6c6cbacff908763">Canvas::UpdateInfoGrid</a>(ImVec2 bg_size, <span class="keywordtype">float</span> grid_size, <span class="keywordtype">int</span> label_id) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = <span class="keyword">true</span>;  <span class="comment">// Legacy compatibility</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>(bg_size);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acf740fd97bf204b2d5e35ab0d3c024ef">DrawInfoGrid</a>(<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8ab4eaba6694e3b41eb961b30d9ba0fa">grid_size</a>, 8, label_id);</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>}</div>
</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="foldopen" id="foldopen00372" data-start="{" data-end="}">
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">  372</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">Canvas::DrawBackground</a>(ImVec2 canvas_size) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a> = GetWindowDrawList();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>  <span class="comment">// Phase 1: Calculate geometry using new helper</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a> = <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a863eddda05bd4b2a4a46e91d82b63e2e">CalculateCanvasGeometry</a>(</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>, <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>, </div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>      GetCursorScreenPos(),</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>      GetContentRegionAvail());</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>  </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>  <span class="comment">// Sync legacy fields for backward compatibility</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>.<a class="code hl_variable" href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#ad6506a3eb2b21be2be42df1f4a3d6f5e">canvas_p0</a>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">canvas_p1_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>.<a class="code hl_variable" href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#abf897f9dd320b2124e95a1fe2e843e26">canvas_p1</a>;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>.<a class="code hl_variable" href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#a6cfe095d49ac285431cc6529eb4fc45d">canvas_sz</a>;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>.<a class="code hl_variable" href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#ae51b5b9e7f56f0806f808c00e763f9f0">scrolling</a>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>  </div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>  <span class="comment">// Update config if explicit size provided</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>.x != 0) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">canvas_size</a>;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>  }</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>  </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>  <span class="comment">// Phase 1: Render background using helper</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a7c49e7d753aaceb0ca0bed6ca72539b3">RenderCanvasBackground</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span> </div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>  ImGui::InvisibleButton(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>.c_str(), <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>.<a class="code hl_variable" href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#a968fcdb19e0f8c240212c6343cec9af8">scaled_size</a>, <a class="code hl_variable" href="../../d3/dbf/namespaceyaze_1_1gui.html#ac8d8a407cf4b76e12a012f326008d58a">kMouseFlags</a>);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>  <span class="comment">// CRITICAL FIX: Always update hover mouse position when hovering over canvas</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  <span class="comment">// This fixes the regression where CheckForCurrentMap() couldn&#39;t track hover</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>  <span class="comment">// Phase 1: Use geometry helper for mouse calculation</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  <span class="keywordflow">if</span> (IsItemHovered()) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">mouse_pos_in_canvas_</a> = <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a6530b6b6701fe86c25c4077c45996b0e">CalculateMouseInCanvas</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>, io.MousePos);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#a80eaa2f7a27f556bb0ee93ccad895565">mouse_pos_in_canvas</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">mouse_pos_in_canvas_</a>;  <span class="comment">// Sync to state</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#a68c0284b7ec29572c263bebd71fde0b9">is_hovered</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">is_hovered_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#a68c0284b7ec29572c263bebd71fde0b9">is_hovered</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">is_hovered_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>  }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  <span class="comment">// Pan handling (Phase 1: Use geometry helper)</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> &amp;&amp; IsItemHovered()) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_active = IsItemActive();  <span class="comment">// Held</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="comment">// Pan (we use a zero mouse threshold when there&#39;s no context menu)</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">float</span> mouse_threshold_for_pan =</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>            <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a> ? -1.0f : 0.0f;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        is_active &amp;&amp;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        IsMouseDragging(ImGuiMouseButton_Right, mouse_threshold_for_pan)) {</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>      <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a3b5cd7813df0ff86846f91de0a717b98">ApplyScrollDelta</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>, io.MouseDelta);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>.<a class="code hl_variable" href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#ae51b5b9e7f56f0806f808c00e763f9f0">scrolling</a>;  <span class="comment">// Sync legacy field</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">scrolling</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>;  <span class="comment">// Sync config</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    }</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>  }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>}</div>
</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="foldopen" id="foldopen00428" data-start="{" data-end="}">
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">  428</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">Canvas::DrawContextMenu</a>() {</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>  <span class="keyword">const</span> ImVec2 scaled_sz(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>.x * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>,</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>                         <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>.y * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x,</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);  <span class="comment">// Lock scrolled origin</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>  <span class="comment">// Update canvas state for enhanced components</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">usage_tracker_</a>-&gt;UpdateCanvasState(</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a>,</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a>);</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span> </div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  <span class="comment">// Use enhanced context menu if available</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a> snapshot;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a>;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a>;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a>;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">scrolling</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>-&gt;SetCanvasState(</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a>,</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a>,</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>);</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">context_menu_</a>-&gt;Render(</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad812f985e60b60cc9b1da50d8733bd9e">context_id_</a>, mouse_pos, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a10d1e521eb838b0028ccf6d37e30e569">rom_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>,</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a> ? <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a6569297508f48d61c983ddda166099f7">mutable_palette</a>() : <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        [<span class="keyword">this</span>](<a class="code hl_enumeration" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2">CanvasContextMenu::Command</a> command,</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>               <span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; updated_config) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>          <span class="keywordflow">switch</span> (command) {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a378239eb2ff973b425c75d2c9728e6f7">CanvasContextMenu::Command::kResetView</a>:</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>              <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a095a9be0f47665c1a3f245bbd5e414c8">ResetView</a>();</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2afcebf6414497514c7ff13c4c70093669">CanvasContextMenu::Command::kZoomToFit</a>:</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>                <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a99e03e6e92d9c18c2e0ac6af8d4535f1">SetZoomToFit</a>(*<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>);</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>              }</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a04296f2325bb84e9144aa0301685e702">CanvasContextMenu::Command::kZoomIn</a>:</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>              <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aea29739230a109525cc72c81e1bdad29">SetGlobalScale</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> * 1.25f);</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a6e2dec46c8c196bcd35f0358d48599b8">CanvasContextMenu::Command::kZoomOut</a>:</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>              <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aea29739230a109525cc72c81e1bdad29">SetGlobalScale</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> * 0.8f);</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a14cbe6410d806b939d9472f84d0ed62d">CanvasContextMenu::Command::kToggleGrid</a>:</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a> = !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a728336c8309efd3e95f12fb296cbe082">CanvasContextMenu::Command::kToggleHexLabels</a>:</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a> = !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>;</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a5410c01f84a796b8719db05243deb5e9">CanvasContextMenu::Command::kToggleCustomLabels</a>:</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>;</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2aa0f77e15898b4aada03857f8c3895e38">CanvasContextMenu::Command::kToggleContextMenu</a>:</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a> = !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a510499fdffba8cb678a0298da6469976">CanvasContextMenu::Command::kToggleAutoResize</a>:</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> = !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a45ff522dd1a6dbb9b6295e73dcedf2e3">CanvasContextMenu::Command::kToggleDraggable</a>:</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> = !<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2ad53628e738254f0535debbbd2635e015">CanvasContextMenu::Command::kSetGridStep</a>:</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = updated_config.grid_step;</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a1dcc163c8bb073e5c0799c3717a9be81">CanvasContextMenu::Command::kSetScale</a>:</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = updated_config.global_scale;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a07211b0885642e92e198a86c6a7ea40d">CanvasContextMenu::Command::kOpenAdvancedProperties</a>:</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a> modal_config = updated_config;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>                modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a14e6a31ae1801e84c0f82a4ce11ffd4f">on_config_changed</a> =</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>                    [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; cfg) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>                      <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a571f9bb9b9fe640c32faf5f20447a463">ApplyConfigSnapshot</a>(cfg);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>                    };</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a176425f0ff65d9c075a6160f72f19f11">on_scale_changed</a> =</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                    [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; cfg) {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                      <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e96bf4dafa16332ca384cf1db94533a">ApplyScaleSnapshot</a>(cfg);</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                    };</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>-&gt;ShowAdvancedProperties(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>, modal_config,</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>                                                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>);</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>              }</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2adb2f702656a6dfe0118b5a2b4b562619">CanvasContextMenu::Command::kOpenScalingControls</a>:</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>              <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>                <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a> modal_config = updated_config;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>                modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a14e6a31ae1801e84c0f82a4ce11ffd4f">on_config_changed</a> =</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>                    [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; cfg) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>                      <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a571f9bb9b9fe640c32faf5f20447a463">ApplyConfigSnapshot</a>(cfg);</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                    };</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a176425f0ff65d9c075a6160f72f19f11">on_scale_changed</a> =</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                    [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; cfg) {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                      <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e96bf4dafa16332ca384cf1db94533a">ApplyScaleSnapshot</a>(cfg);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                    };</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>-&gt;ShowScalingControls(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>, modal_config, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>);</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>              }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>          }</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        },</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        snapshot, <span class="keyword">this</span>);  <span class="comment">// Phase 4: Pass Canvas* for editor menu integration</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span> </div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>) {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>-&gt;Render();</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    }</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>  }</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span> </div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>  <span class="comment">// Draw enhanced property dialogs</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e822e10120e1e3c3808b591fc671d9c">ShowAdvancedCanvasProperties</a>();</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a191373c06075c339d693bf05d56cde27">ShowScalingControls</a>();</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>}</div>
</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="foldopen" id="foldopen00563" data-start="{" data-end="}">
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aedbab756f76637720ad321007996c571">  563</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aedbab756f76637720ad321007996c571">Canvas::DrawContextMenuItem</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../dd/d7b/structyaze_1_1gui_1_1CanvasMenuItem.html">gui::CanvasMenuItem</a>&amp; item) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>  <span class="comment">// Phase 4: Use RenderMenuItem from canvas_menu.h for consistent rendering</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  <span class="keyword">auto</span> popup_callback = [<span class="keyword">this</span>](<span class="keyword">const</span> std::string&amp; id, std::function&lt;void()&gt; callback) {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0a39e5762cc395ee6445b76e140f3b53">popup_registry_</a>.<a class="code hl_function" href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#afbcf953454978fcabe240ff19c968581">Open</a>(<span class="keywordtype">id</span>, callback);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>  };</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>  </div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#ab2866873cfa51ad6e48f5e97c9e44f4e">gui::RenderMenuItem</a>(item, popup_callback);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>}</div>
</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="foldopen" id="foldopen00572" data-start="{" data-end="}">
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8c0bac1bdb69610616ad6168d5dd11c7">  572</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8c0bac1bdb69610616ad6168d5dd11c7">Canvas::AddContextMenuItem</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../dd/d7b/structyaze_1_1gui_1_1CanvasMenuItem.html">gui::CanvasMenuItem</a>&amp; item) {</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>  <span class="comment">// Phase 4: Add to editor menu definition</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  <span class="comment">// Items are added to a default section with editor-specific priority</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">editor_menu_</a>.<a class="code hl_variable" href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">sections</a>.empty()) {</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <a class="code hl_struct" href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html">CanvasMenuSection</a> section;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    section.<a class="code hl_variable" href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html#afa8d0be879479d38e580e4f75b375fca">priority</a> = <a class="code hl_enumvalue" href="../../d3/dbf/namespaceyaze_1_1gui.html#a272bb717f538dc0c0c9c14f5fd4b37d2a6ceed1a222bc3d8d670462f6d6820a9a">MenuSectionPriority::kEditorSpecific</a>;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    section.<a class="code hl_variable" href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html#af943d7c2f9a65c0d85386bc3af8ac0f2">separator_after</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">editor_menu_</a>.<a class="code hl_variable" href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">sections</a>.push_back(section);</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>  }</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>  <span class="comment">// Add to the last section (or create new if the last isn&#39;t editor-specific)</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>  <span class="keyword">auto</span>&amp; last_section = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">editor_menu_</a>.<a class="code hl_variable" href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">sections</a>.back();</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>  <span class="keywordflow">if</span> (last_section.priority != <a class="code hl_enumvalue" href="../../d3/dbf/namespaceyaze_1_1gui.html#a272bb717f538dc0c0c9c14f5fd4b37d2a6ceed1a222bc3d8d670462f6d6820a9a">MenuSectionPriority::kEditorSpecific</a>) {</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <a class="code hl_struct" href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html">CanvasMenuSection</a> new_section;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    new_section.<a class="code hl_variable" href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html#afa8d0be879479d38e580e4f75b375fca">priority</a> = <a class="code hl_enumvalue" href="../../d3/dbf/namespaceyaze_1_1gui.html#a272bb717f538dc0c0c9c14f5fd4b37d2a6ceed1a222bc3d8d670462f6d6820a9a">MenuSectionPriority::kEditorSpecific</a>;</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>    new_section.<a class="code hl_variable" href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html#af943d7c2f9a65c0d85386bc3af8ac0f2">separator_after</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">editor_menu_</a>.<a class="code hl_variable" href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">sections</a>.push_back(new_section);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">editor_menu_</a>.<a class="code hl_variable" href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">sections</a>.back().items.push_back(item);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    last_section.items.push_back(item);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>  }</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>}</div>
</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span> </div>
<div class="foldopen" id="foldopen00595" data-start="{" data-end="}">
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a74827d7e0b23e8ac44c3d491c2ae17ac">  595</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a74827d7e0b23e8ac44c3d491c2ae17ac">Canvas::ClearContextMenuItems</a>() {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">editor_menu_</a>.<a class="code hl_variable" href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">sections</a>.clear();</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>}</div>
</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="foldopen" id="foldopen00599" data-start="{" data-end="}">
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad50564c00150868be642a235e281bd9e">  599</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad50564c00150868be642a235e281bd9e">Canvas::OpenPersistentPopup</a>(<span class="keyword">const</span> std::string&amp; popup_id, </div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>                                std::function&lt;<span class="keywordtype">void</span>()&gt; render_callback) {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>  <span class="comment">// Phase 4: Simplified popup management (no legacy synchronization)</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0a39e5762cc395ee6445b76e140f3b53">popup_registry_</a>.<a class="code hl_function" href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#afbcf953454978fcabe240ff19c968581">Open</a>(popup_id, render_callback);</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>}</div>
</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="foldopen" id="foldopen00605" data-start="{" data-end="}">
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9babb2c083250ece9a84c4d836aef00d">  605</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9babb2c083250ece9a84c4d836aef00d">Canvas::ClosePersistentPopup</a>(<span class="keyword">const</span> std::string&amp; popup_id) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>  <span class="comment">// Phase 4: Simplified popup management (no legacy synchronization)</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0a39e5762cc395ee6445b76e140f3b53">popup_registry_</a>.<a class="code hl_function" href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#a110243ba73bc96a4e088eb59182bd395">Close</a>(popup_id);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>}</div>
</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span> </div>
<div class="foldopen" id="foldopen00610" data-start="{" data-end="}">
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">  610</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">Canvas::RenderPersistentPopups</a>() {</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>  <span class="comment">// Phase 4: Simplified rendering (no legacy synchronization)</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0a39e5762cc395ee6445b76e140f3b53">popup_registry_</a>.<a class="code hl_function" href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#a3dba024601c5be5ce6b620b1b104c31d">RenderAll</a>();</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>}</div>
</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="foldopen" id="foldopen00615" data-start="{" data-end="}">
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a99e03e6e92d9c18c2e0ac6af8d4535f1">  615</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a99e03e6e92d9c18c2e0ac6af8d4535f1">Canvas::SetZoomToFit</a>(<span class="keyword">const</span> <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">gfx::Bitmap</a>&amp; bitmap) {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>  <span class="keywordflow">if</span> (!bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>())</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>  ImVec2 available = ImGui::GetContentRegionAvail();</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>  <span class="keywordtype">float</span> scale_x = available.x / bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>();</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>  <span class="keywordtype">float</span> scale_y = available.y / bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>();</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = std::min(scale_x, scale_y);</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span> </div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  <span class="comment">// Ensure minimum readable scale</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> &lt; 0.25f)</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 0.25f;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span> </div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;  <span class="comment">// Legacy compatibility</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <span class="comment">// Center the view</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = ImVec2(0, 0);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>}</div>
</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span> </div>
<div class="foldopen" id="foldopen00634" data-start="{" data-end="}">
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a095a9be0f47665c1a3f245bbd5e414c8">  634</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a095a9be0f47665c1a3f245bbd5e414c8">Canvas::ResetView</a>() {</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 1.0f;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = 1.0f;  <span class="comment">// Legacy compatibility</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = ImVec2(0, 0);</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>}</div>
</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="foldopen" id="foldopen00640" data-start="{" data-end="}">
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a571f9bb9b9fe640c32faf5f20447a463">  640</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a571f9bb9b9fe640c32faf5f20447a463">Canvas::ApplyConfigSnapshot</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; snapshot) {</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>;</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>;</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">custom_canvas_size</a> =</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>      snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.x &gt; 0 &amp;&amp; snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.y &gt; 0;</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>;</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>;</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">scrolling</a>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>}</div>
</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="foldopen" id="foldopen00664" data-start="{" data-end="}">
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e96bf4dafa16332ca384cf1db94533a">  664</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e96bf4dafa16332ca384cf1db94533a">Canvas::ApplyScaleSnapshot</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; snapshot) {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = snapshot.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">scrolling</a>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>}</div>
</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span> </div>
<div class="foldopen" id="foldopen00670" data-start="{" data-end="}">
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c4c7b27651a4090ba8c40a58d6939dc">  670</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c4c7b27651a4090ba8c40a58d6939dc">Canvas::DrawTilePainter</a>(<span class="keyword">const</span> <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">Bitmap</a>&amp; bitmap, <span class="keywordtype">int</span> size, <span class="keywordtype">float</span> scale) {</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_hovered = IsItemHovered();</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">is_hovered_</a> = is_hovered;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>  <span class="comment">// Lock scrolled origin</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>  <span class="keyword">const</span> <span class="keyword">auto</span> scaled_size = size * scale;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>  <span class="comment">// Erase the hover when the mouse is not in the canvas window.</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>  <span class="keywordflow">if</span> (!is_hovered) {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>  }</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span> </div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>  <span class="comment">// Reset the previous tile hover</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.empty()) {</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>  }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>  <span class="comment">// Calculate the coordinates of the mouse</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>  ImVec2 paint_pos = AlignPosToGrid(mouse_pos, scaled_size);</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">mouse_pos_in_canvas_</a> = paint_pos;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>  <span class="keyword">auto</span> paint_pos_end =</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>      ImVec2(paint_pos.x + scaled_size, paint_pos.y + scaled_size);</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(paint_pos);</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(paint_pos_end);</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span> </div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>  <span class="keywordflow">if</span> (bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>()) {</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddImage((ImTextureID)(intptr_t)bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a1e0a0f5b9fa6f85be594cc99f757383b">texture</a>(),</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>                         ImVec2(origin.x + paint_pos.x, origin.y + paint_pos.y),</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>                         ImVec2(origin.x + paint_pos.x + scaled_size,</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>                                origin.y + paint_pos.y + scaled_size));</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  }</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span> </div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>  <span class="keywordflow">if</span> (IsMouseClicked(ImGuiMouseButton_Left) &amp;&amp;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>      ImGui::IsMouseDragging(ImGuiMouseButton_Left)) {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="comment">// Draw the currently selected tile on the overworld here</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="comment">// Save the coordinates of the selected tile.</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af09c65753661048e2cf78d8fb9572eaa">drawn_tile_pos_</a> = paint_pos;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>  }</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>}</div>
</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span> </div>
<div class="foldopen" id="foldopen00716" data-start="{" data-end="}">
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4b04fb517b545c49c5cb538439d316bb">  716</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4b04fb517b545c49c5cb538439d316bb">Canvas::DrawTilemapPainter</a>(<a class="code hl_struct" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html">gfx::Tilemap</a>&amp; tilemap, <span class="keywordtype">int</span> current_tile) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_hovered = IsItemHovered();</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">is_hovered_</a> = is_hovered;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <span class="comment">// Safety check: ensure tilemap is properly initialized</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  <span class="keywordflow">if</span> (!tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>() || tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a> &lt;= 0) {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>  }</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span> </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  <span class="keyword">const</span> <span class="keyword">auto</span> scaled_size = tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a> * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span> </div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>  <span class="keywordflow">if</span> (!is_hovered) {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>  }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.empty()) {</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  }</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>  ImVec2 paint_pos = AlignPosToGrid(mouse_pos, scaled_size);</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">mouse_pos_in_canvas_</a> = paint_pos;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span> </div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(paint_pos);</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>      ImVec2(paint_pos.x + scaled_size, paint_pos.y + scaled_size));</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span> </div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  <span class="comment">// CRITICAL FIX: Disable tile cache system to prevent crashes</span></div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>  <span class="comment">// Just draw a simple preview tile using the atlas directly</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  <span class="keywordflow">if</span> (tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>() &amp;&amp; tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a1e0a0f5b9fa6f85be594cc99f757383b">texture</a>()) {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <span class="comment">// Draw the tile directly from the atlas without caching</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    <span class="keywordtype">int</span> tiles_per_row = tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>() / tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>;</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">if</span> (tiles_per_row &gt; 0) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>      <span class="keywordtype">int</span> tile_x = (current_tile % tiles_per_row) * tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>      <span class="keywordtype">int</span> tile_y = (current_tile / tiles_per_row) * tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a489e0417effb0e66c8ca478f237fbad1">y</a>;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>      <span class="comment">// Simple bounds check</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>      <span class="keywordflow">if</span> (tile_x &gt;= 0 &amp;&amp; tile_x &lt; tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>() &amp;&amp; tile_y &gt;= 0 &amp;&amp;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>          tile_y &lt; tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>()) {</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        <span class="comment">// Draw directly from atlas texture</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        ImVec2 uv0 =</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            ImVec2(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tile_x) / tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(),</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>                   <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tile_y) / tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        ImVec2 uv1 = ImVec2(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tile_x + tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>) /</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                                tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(),</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                            <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tile_y + tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a489e0417effb0e66c8ca478f237fbad1">y</a>) /</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                                tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddImage(</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>            (ImTextureID)(intptr_t)tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a1e0a0f5b9fa6f85be594cc99f757383b">texture</a>(),</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            ImVec2(origin.x + paint_pos.x, origin.y + paint_pos.y),</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            ImVec2(origin.x + paint_pos.x + scaled_size,</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>                   origin.y + paint_pos.y + scaled_size),</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            uv0, uv1);</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>      }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    }</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>  }</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>  <span class="keywordflow">if</span> (IsMouseClicked(ImGuiMouseButton_Left) ||</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>      ImGui::IsMouseDragging(ImGuiMouseButton_Left)) {</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af09c65753661048e2cf78d8fb9572eaa">drawn_tile_pos_</a> = paint_pos;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>  }</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>}</div>
</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="foldopen" id="foldopen00787" data-start="{" data-end="}">
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4e859171161c1ef5364b1f13238400c9">  787</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4e859171161c1ef5364b1f13238400c9">Canvas::DrawSolidTilePainter</a>(<span class="keyword">const</span> ImVec4&amp; color, <span class="keywordtype">int</span> tile_size) {</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_hovered = IsItemHovered();</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">is_hovered_</a> = is_hovered;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>  <span class="comment">// Lock scrolled origin</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>  <span class="keyword">auto</span> scaled_tile_size = tile_size * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>  <span class="keyword">static</span> <span class="keywordtype">bool</span> is_dragging = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>  <span class="keyword">static</span> ImVec2 start_drag_pos;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span> </div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>  <span class="comment">// Erase the hover when the mouse is not in the canvas window.</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keywordflow">if</span> (!is_hovered) {</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>  }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="comment">// Reset the previous tile hover</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.empty()) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>  }</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span> </div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>  <span class="comment">// Calculate the coordinates of the mouse</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>  ImVec2 paint_pos = AlignPosToGrid(mouse_pos, scaled_tile_size);</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">mouse_pos_in_canvas_</a> = paint_pos;</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span> </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>  <span class="comment">// Clamp the size to a grid</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>  paint_pos.x = std::clamp(paint_pos.x, 0.0f, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>.x * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>  paint_pos.y = std::clamp(paint_pos.y, 0.0f, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>.y * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>);</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(paint_pos);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>      ImVec2(paint_pos.x + scaled_tile_size, paint_pos.y + scaled_tile_size));</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddRectFilled(</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>      ImVec2(origin.x + paint_pos.x + 1, origin.y + paint_pos.y + 1),</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>      ImVec2(origin.x + paint_pos.x + scaled_tile_size,</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>             origin.y + paint_pos.y + scaled_tile_size),</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>      IM_COL32(color.x * 255, color.y * 255, color.z * 255, 255));</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  <span class="keywordflow">if</span> (IsMouseClicked(ImGuiMouseButton_Left)) {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    is_dragging = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    start_drag_pos = paint_pos;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>  }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span> </div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  <span class="keywordflow">if</span> (is_dragging &amp;&amp; ImGui::IsMouseReleased(ImGuiMouseButton_Left)) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    is_dragging = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af09c65753661048e2cf78d8fb9572eaa">drawn_tile_pos_</a> = start_drag_pos;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>  }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span> </div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>}</div>
</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span> </div>
<div class="foldopen" id="foldopen00841" data-start="{" data-end="}">
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a83a73b54866f99c7950fbf79c3b7b9e5">  841</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a83a73b54866f99c7950fbf79c3b7b9e5">Canvas::DrawTileOnBitmap</a>(<span class="keywordtype">int</span> tile_size, <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">gfx::Bitmap</a>* bitmap,</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>                              ImVec4 color) {</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>  <span class="keyword">const</span> ImVec2 position = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af09c65753661048e2cf78d8fb9572eaa">drawn_tile_pos_</a>;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>  <span class="keywordtype">int</span> tile_index_x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(position.x / <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>) / tile_size;</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>  <span class="keywordtype">int</span> tile_index_y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(position.y / <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>) / tile_size;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span> </div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>  ImVec2 start_position(tile_index_x * tile_size, tile_index_y * tile_size);</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span> </div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>  <span class="comment">// Update the bitmap&#39;s pixel data based on the start_position and color</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; tile_size; ++y) {</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; tile_size; ++x) {</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>      <span class="comment">// Calculate the actual pixel index in the bitmap</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>      <span class="keywordtype">int</span> pixel_index =</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>          (start_position.y + y) * bitmap-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>() + (start_position.x + x);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span> </div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>      <span class="comment">// Write the color to the pixel</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      bitmap-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a748139853655afc687cf9668eeb01443">WriteColor</a>(pixel_index, color);</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>  }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>}</div>
</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span> </div>
<div class="foldopen" id="foldopen00862" data-start="{" data-end="}">
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6a667bbd9d7981b0904555ea75c90e46">  862</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6a667bbd9d7981b0904555ea75c90e46">Canvas::DrawTileSelector</a>(<span class="keywordtype">int</span> size, <span class="keywordtype">int</span> size_y) {</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_hovered = IsItemHovered();</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">is_hovered_</a> = is_hovered;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>  <span class="keywordflow">if</span> (size_y == 0) {</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    size_y = size;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>  }</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>  <span class="keywordflow">if</span> (is_hovered &amp;&amp; IsMouseClicked(ImGuiMouseButton_Left)) {</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.empty()) {</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.clear();</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    ImVec2 painter_pos = AlignPosToGrid(mouse_pos, size);</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span> </div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(painter_pos);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>.push_back(ImVec2(painter_pos.x + size, painter_pos.y + size_y));</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">mouse_pos_in_canvas_</a> = painter_pos;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>  }</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>  <span class="keywordflow">if</span> (is_hovered &amp;&amp; ImGui::IsMouseDoubleClicked(ImGuiMouseButton_Left)) {</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>  }</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>}</div>
</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span> </div>
<div class="foldopen" id="foldopen00890" data-start="{" data-end="}">
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab27210853ee82941262e4fa43ffdc378">  890</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab27210853ee82941262e4fa43ffdc378">Canvas::DrawSelectRect</a>(<span class="keywordtype">int</span> current_map, <span class="keywordtype">int</span> tile_size, <span class="keywordtype">float</span> scale) {</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>  <a class="code hl_class" href="../../d7/ddb/classyaze_1_1gfx_1_1ScopedTimer.html">gfx::ScopedTimer</a> timer(<span class="stringliteral">&quot;canvas_select_rect&quot;</span>);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span> </div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>  <span class="keyword">static</span> ImVec2 drag_start_pos;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> scaled_size = tile_size * scale;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>  <span class="keyword">static</span> <span class="keywordtype">bool</span> dragging = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> small_map_size = 0x200;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span> </div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>  <span class="comment">// Only handle mouse events if the canvas is hovered</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_hovered = IsItemHovered();</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>  <span class="keywordflow">if</span> (!is_hovered) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>  }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span> </div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>  <span class="comment">// Calculate superX and superY accounting for world offset</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>  <span class="keywordtype">int</span> superY, superX;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>  <span class="keywordflow">if</span> (current_map &lt; 0x40) {</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="comment">// Light World</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    superY = current_map / 8;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    superX = current_map % 8;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (current_map &lt; 0x80) {</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="comment">// Dark World</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    superY = (current_map - 0x40) / 8;</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    superX = (current_map - 0x40) % 8;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <span class="comment">// Special World</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    superY = (current_map - 0x80) / 8;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    superX = (current_map - 0x80) % 8;</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>  }</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span> </div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>  <span class="comment">// Handle right click for single tile selection</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>  <span class="keywordflow">if</span> (IsMouseClicked(ImGuiMouseButton_Right)) {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    ImVec2 painter_pos = AlignPosToGrid(mouse_pos, scaled_size);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="keywordtype">int</span> painter_x = painter_pos.x;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <span class="keywordtype">int</span> painter_y = painter_pos.y;</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span> </div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="keyword">auto</span> tile16_x = (painter_x % small_map_size) / (small_map_size / 0x20);</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <span class="keyword">auto</span> tile16_y = (painter_y % small_map_size) / (small_map_size / 0x20);</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="keywordtype">int</span> index_x = superX * 0x20 + tile16_x;</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <span class="keywordtype">int</span> index_y = superY * 0x20 + tile16_y;</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a264e8936d5fbfced7cae5fa971608e67">selected_tile_pos_</a> = ImVec2(index_x, index_y);</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.clear();</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a85e0d584077ee567f57be6ebf8661f8c">select_rect_active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <span class="comment">// Start drag position for rectangle selection</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    drag_start_pos = AlignPosToGrid(mouse_pos, scaled_size);</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>  }</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span> </div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>  <span class="comment">// Calculate the rectangle&#39;s top-left and bottom-right corners</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>  ImVec2 drag_end_pos = AlignPosToGrid(mouse_pos, scaled_size);</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>  <span class="keywordflow">if</span> (ImGui::IsMouseDragging(ImGuiMouseButton_Right)) {</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="comment">// FIX: Origin used to be canvas_p0_, revert if there is regression.</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="keyword">auto</span> start = ImVec2(origin.x + drag_start_pos.x,</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>                        origin.y + drag_start_pos.y);</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <span class="keyword">auto</span> end = ImVec2(origin.x + drag_end_pos.x + tile_size,</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>                      origin.y + drag_end_pos.y + tile_size);</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddRect(start, end, <a class="code hl_variable" href="../../d3/dbf/namespaceyaze_1_1gui.html#a052158d35957768a382590f5af89e34e">kWhiteColor</a>);</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    dragging = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>  }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>  <span class="keywordflow">if</span> (dragging &amp;&amp; !ImGui::IsMouseDown(ImGuiMouseButton_Right)) {</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="comment">// Release dragging mode</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    dragging = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span> </div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    <span class="comment">// Calculate the bounds of the rectangle in terms of 16x16 tile indices</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    <span class="keyword">constexpr</span> <span class="keywordtype">int</span> tile16_size = 16;</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keywordtype">int</span> start_x = std::floor(drag_start_pos.x / scaled_size) * tile16_size;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <span class="keywordtype">int</span> start_y = std::floor(drag_start_pos.y / scaled_size) * tile16_size;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordtype">int</span> end_x = std::floor(drag_end_pos.x / scaled_size) * tile16_size;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    <span class="keywordtype">int</span> end_y = std::floor(drag_end_pos.y / scaled_size) * tile16_size;</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <span class="comment">// Swap the start and end positions if they are in the wrong order</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <span class="keywordflow">if</span> (start_x &gt; end_x)</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>      std::swap(start_x, end_x);</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <span class="keywordflow">if</span> (start_y &gt; end_y)</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>      std::swap(start_y, end_y);</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span> </div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af7b95c6c5a82d79926e00105dcc1cb14">selected_tiles_</a>.clear();</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af7b95c6c5a82d79926e00105dcc1cb14">selected_tiles_</a>.reserve(((end_x - start_x) / tile16_size + 1) *</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>                            ((end_y - start_y) / tile16_size + 1));</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <span class="comment">// Number of tiles per local map (since each tile is 16x16)</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <span class="keyword">constexpr</span> <span class="keywordtype">int</span> tiles_per_local_map = small_map_size / 16;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span> </div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="comment">// Loop through the tiles in the rectangle and store their positions</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = start_y; y &lt;= end_y; y += tile16_size) {</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = start_x; x &lt;= end_x; x += tile16_size) {</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>        <span class="comment">// Determine which local map (512x512) the tile is in</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>        <span class="keywordtype">int</span> local_map_x = (x / small_map_size) % 8;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>        <span class="keywordtype">int</span> local_map_y = (y / small_map_size) % 8;</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span> </div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <span class="comment">// Calculate the tile&#39;s position within its local map</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <span class="keywordtype">int</span> tile16_x = (x % small_map_size) / tile16_size;</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        <span class="keywordtype">int</span> tile16_y = (y % small_map_size) / tile16_size;</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span> </div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>        <span class="comment">// Calculate the index within the overall map structure</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        <span class="keywordtype">int</span> index_x = local_map_x * tiles_per_local_map + tile16_x;</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>        <span class="keywordtype">int</span> index_y = local_map_y * tiles_per_local_map + tile16_y;</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span> </div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af7b95c6c5a82d79926e00105dcc1cb14">selected_tiles_</a>.emplace_back(index_x, index_y);</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>      }</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    }</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <span class="comment">// Clear and add the calculated rectangle points</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.clear();</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.push_back(drag_start_pos);</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.push_back(drag_end_pos);</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a85e0d584077ee567f57be6ebf8661f8c">select_rect_active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>  }</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>}</div>
</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span> </div>
<div class="foldopen" id="foldopen01004" data-start="{" data-end="}">
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d"> 1004</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">Canvas::DrawBitmap</a>(<a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">Bitmap</a>&amp; bitmap, <span class="keywordtype">int</span> border_offset, <span class="keywordtype">float</span> scale) {</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>  <span class="keywordflow">if</span> (!bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>()) {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>  }</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a> = &amp;bitmap;</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span> </div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>  <span class="comment">// Update content size for table integration</span></div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = ImVec2(bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(), bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span> </div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>  <span class="comment">// Phase 1: Use rendering helper</span></div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#ab4565095cc49784e0219d94003da8fe3">RenderBitmapOnCanvas</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>, bitmap, border_offset, scale);</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>}</div>
</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="foldopen" id="foldopen01017" data-start="{" data-end="}">
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a38a471697e1d89d166cece6a4aee4596"> 1017</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">Canvas::DrawBitmap</a>(<a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">Bitmap</a>&amp; bitmap, <span class="keywordtype">int</span> x_offset, <span class="keywordtype">int</span> y_offset, <span class="keywordtype">float</span> scale,</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                        <span class="keywordtype">int</span> alpha) {</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>  <span class="keywordflow">if</span> (!bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>()) {</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>  }</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a> = &amp;bitmap;</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span> </div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>  <span class="comment">// Update content size for table integration</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>  <span class="comment">// CRITICAL: Store UNSCALED bitmap size as content - scale is applied during rendering</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = ImVec2(bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(), bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span> </div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>  <span class="comment">// Phase 1: Use rendering helper</span></div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#ab4565095cc49784e0219d94003da8fe3">RenderBitmapOnCanvas</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>, bitmap, x_offset, y_offset, scale, alpha);</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>}</div>
</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span> </div>
<div class="foldopen" id="foldopen01032" data-start="{" data-end="}">
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9c2e6dbeda2b24065e0a535aa40c4cec"> 1032</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">Canvas::DrawBitmap</a>(<a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">Bitmap</a>&amp; bitmap, ImVec2 dest_pos, ImVec2 dest_size,</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                        ImVec2 src_pos, ImVec2 src_size) {</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>  <span class="keywordflow">if</span> (!bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>()) {</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  }</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a> = &amp;bitmap;</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>  <span class="comment">// Update content size for table integration</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = ImVec2(bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(), bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span> </div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>  <span class="comment">// Phase 1: Use rendering helper</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#ab4565095cc49784e0219d94003da8fe3">RenderBitmapOnCanvas</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">state_</a>.<a class="code hl_variable" href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">geometry</a>, bitmap, dest_pos, dest_size, src_pos, src_size);</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>}</div>
</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span> </div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span><span class="comment">// TODO: Add parameters for sizing and positioning</span></div>
<div class="foldopen" id="foldopen01047" data-start="{" data-end="}">
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad7081d52f5a736dde87a62caf2ce63dc"> 1047</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad7081d52f5a736dde87a62caf2ce63dc">Canvas::DrawBitmapTable</a>(<span class="keyword">const</span> BitmapTable&amp; gfx_bin) {</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, value] : gfx_bin) {</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    <span class="keywordtype">int</span> offset = 0x40 * (key + 1);</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    <span class="keywordtype">int</span> top_left_y = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + 2;</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    <span class="keywordflow">if</span> (key &gt;= 1) {</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>      top_left_y = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + 0x40 * key;</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>    }</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddImage((ImTextureID)(intptr_t)value.texture(),</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>                         ImVec2(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + 2, top_left_y),</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>                         ImVec2(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + 0x100, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + offset));</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>  }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>}</div>
</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span> </div>
<div class="foldopen" id="foldopen01060" data-start="{" data-end="}">
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac43b436728dbc8fcef7b618f00345727"> 1060</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac43b436728dbc8fcef7b618f00345727">Canvas::DrawOutline</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h) {</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a8ceb52571f7d28aff6121cd21779e3e3">CanvasUtils::DrawCanvasOutline</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>, x, y, w, h,</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>                                 IM_COL32(255, 255, 255, 200));</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>}</div>
</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span> </div>
<div class="foldopen" id="foldopen01065" data-start="{" data-end="}">
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2995122ee4e7d273cddb9bbc2b4bbade"> 1065</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2995122ee4e7d273cddb9bbc2b4bbade">Canvas::DrawOutlineWithColor</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, ImVec4 color) {</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a9c72df99a1c2eebb453ed22f39d92b95">CanvasUtils::DrawCanvasOutlineWithColor</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>, x,</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>                                          y, w, h, color);</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>}</div>
</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span> </div>
<div class="foldopen" id="foldopen01070" data-start="{" data-end="}">
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac6d2a15c340e837634f462b3311ad9a6"> 1070</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2995122ee4e7d273cddb9bbc2b4bbade">Canvas::DrawOutlineWithColor</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, uint32_t color) {</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a8ceb52571f7d28aff6121cd21779e3e3">CanvasUtils::DrawCanvasOutline</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>, x, y, w, h,</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>                                 color);</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>}</div>
</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span> </div>
<div class="foldopen" id="foldopen01075" data-start="{" data-end="}">
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a32365cb3f67a4811818e01268c56aed0"> 1075</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a32365cb3f67a4811818e01268c56aed0">Canvas::DrawBitmapGroup</a>(std::vector&lt;int&gt;&amp; group, <a class="code hl_struct" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html">gfx::Tilemap</a>&amp; tilemap,</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>                             <span class="keywordtype">int</span> tile_size, <span class="keywordtype">float</span> scale, <span class="keywordtype">int</span> local_map_size,</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>                             ImVec2 total_map_size) {</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.size() != 2) {</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <span class="comment">// points_ should contain exactly two points</span></div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>  }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>  <span class="keywordflow">if</span> (group.empty()) {</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="comment">// group should not be empty</span></div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>  }</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span> </div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>  <span class="comment">// OPTIMIZATION: Use optimized rendering for large groups to improve performance</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>  <span class="keywordtype">bool</span> use_optimized_rendering =</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>      group.size() &gt; 128;  <span class="comment">// Optimize for large selections</span></div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span> </div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>  <span class="comment">// Use provided map sizes for proper boundary handling</span></div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> small_map = local_map_size;</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> large_map_width = total_map_size.x;</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> large_map_height = total_map_size.y;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span> </div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>  <span class="comment">// Pre-calculate common values to avoid repeated computation</span></div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> tile_scale = tile_size * scale;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> atlas_tiles_per_row = tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>() / tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span> </div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>  <span class="comment">// Top-left and bottom-right corners of the rectangle</span></div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>  ImVec2 rect_top_left = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>[0];</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>  ImVec2 rect_bottom_right = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>[1];</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span> </div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>  <span class="comment">// Calculate the start and end tiles in the grid</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>  <span class="keywordtype">int</span> start_tile_x =</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(rect_top_left.x / (tile_size * scale)));</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>  <span class="keywordtype">int</span> start_tile_y =</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(rect_top_left.y / (tile_size * scale)));</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>  <span class="keywordtype">int</span> end_tile_x =</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(rect_bottom_right.x / (tile_size * scale)));</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>  <span class="keywordtype">int</span> end_tile_y =</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor(rect_bottom_right.y / (tile_size * scale)));</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span> </div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>  <span class="keywordflow">if</span> (start_tile_x &gt; end_tile_x)</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    std::swap(start_tile_x, end_tile_x);</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>  <span class="keywordflow">if</span> (start_tile_y &gt; end_tile_y)</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    std::swap(start_tile_y, end_tile_y);</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>  <span class="comment">// Calculate the size of the rectangle in 16x16 grid form</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>  <span class="keywordtype">int</span> rect_width = (end_tile_x - start_tile_x) * tile_size;</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>  <span class="keywordtype">int</span> rect_height = (end_tile_y - start_tile_y) * tile_size;</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span> </div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>  <span class="keywordtype">int</span> tiles_per_row = rect_width / tile_size;</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>  <span class="keywordtype">int</span> tiles_per_col = rect_height / tile_size;</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span> </div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; tiles_per_col + 1; ++y) {</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; tiles_per_row + 1; ++x) {</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>      <span class="comment">// Check bounds to prevent access violations</span></div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>      <span class="keywordflow">if</span> (i &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(group.size())) {</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>      }</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span> </div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>      <span class="keywordtype">int</span> tile_id = group[i];</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span> </div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>      <span class="comment">// Check if tile_id is within the range of tile16_individual_</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>      <span class="keyword">auto</span> tilemap_size = tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a96c1a0624b30cf8883b2f4718609fb62">map_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>      <span class="keywordflow">if</span> (tile_id &gt;= 0 &amp;&amp; tile_id &lt; tilemap_size) {</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <span class="comment">// Calculate the position of the tile within the rectangle</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>        <span class="keywordtype">int</span> tile_pos_x = (x + start_tile_x) * tile_size * scale;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        <span class="keywordtype">int</span> tile_pos_y = (y + start_tile_y) * tile_size * scale;</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span> </div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <span class="comment">// OPTIMIZATION: Use pre-calculated values for better performance with large selections</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="keywordflow">if</span> (tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>() &amp;&amp; tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a1e0a0f5b9fa6f85be594cc99f757383b">texture</a>() &amp;&amp;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>            atlas_tiles_per_row &gt; 0) {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>          <span class="keywordtype">int</span> atlas_tile_x =</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>              (tile_id % atlas_tiles_per_row) * tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>          <span class="keywordtype">int</span> atlas_tile_y =</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>              (tile_id / atlas_tiles_per_row) * tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a489e0417effb0e66c8ca478f237fbad1">y</a>;</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span> </div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>          <span class="comment">// Simple bounds check</span></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>          <span class="keywordflow">if</span> (atlas_tile_x &gt;= 0 &amp;&amp; atlas_tile_x &lt; tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>() &amp;&amp;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>              atlas_tile_y &gt;= 0 &amp;&amp; atlas_tile_y &lt; tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>()) {</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span> </div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            <span class="comment">// Calculate UV coordinates once for efficiency</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> atlas_width = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>());</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> atlas_height =</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>            ImVec2 uv0 =</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>                ImVec2(atlas_tile_x / atlas_width, atlas_tile_y / atlas_height);</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>            ImVec2 uv1 =</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>                ImVec2((atlas_tile_x + tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a>) / atlas_width,</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>                       (atlas_tile_y + tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a489e0417effb0e66c8ca478f237fbad1">y</a>) / atlas_height);</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span> </div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>            <span class="comment">// Calculate screen positions</span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>            <span class="keywordtype">float</span> screen_x = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x + tile_pos_x;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>            <span class="keywordtype">float</span> screen_y = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y + tile_pos_y;</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>            <span class="keywordtype">float</span> screen_w = tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">x</a> * scale;</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>            <span class="keywordtype">float</span> screen_h = tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">tile_size</a>.<a class="code hl_variable" href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a489e0417effb0e66c8ca478f237fbad1">y</a> * scale;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span> </div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>            <span class="comment">// Use higher alpha for large selections to make them more visible</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            uint32_t alpha_color = use_optimized_rendering</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                                       ? IM_COL32(255, 255, 255, 200)</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                                       : IM_COL32(255, 255, 255, 150);</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span> </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>            <span class="comment">// Draw from atlas texture with optimized parameters</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddImage(</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>                (ImTextureID)(intptr_t)tilemap.<a class="code hl_variable" href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">atlas</a>.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a1e0a0f5b9fa6f85be594cc99f757383b">texture</a>(),</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>                ImVec2(screen_x, screen_y),</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>                ImVec2(screen_x + screen_w, screen_y + screen_h), uv0, uv1,</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>                alpha_color);</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>          }</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        }</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>      }</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>      i++;</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    }</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>    <span class="comment">// Break outer loop if we&#39;ve run out of tiles</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>    <span class="keywordflow">if</span> (i &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(group.size())) {</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    }</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>  }</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span> </div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>  <span class="comment">// Performance optimization completed - tiles are now rendered with pre-calculated values</span></div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span> </div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>  <span class="comment">// Reposition rectangle to follow mouse, but clamp to prevent wrapping across map boundaries</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>  <span class="keyword">const</span> ImGuiIO&amp; io = GetIO();</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>  <span class="keyword">const</span> ImVec2 origin(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>  <span class="keyword">const</span> ImVec2 mouse_pos(io.MousePos.x - origin.x, io.MousePos.y - origin.y);</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span> </div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>  <span class="comment">// CRITICAL FIX: Clamp BEFORE grid alignment for smoother dragging behavior</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>  <span class="comment">// This prevents the rectangle from even attempting to cross boundaries during drag</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>  ImVec2 clamped_mouse_pos = mouse_pos;</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span> </div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a744d38bbfb315c5c8570b67a05846297">clamp_rect_to_local_maps</a>) {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>    <span class="comment">// Calculate which local map the mouse is in</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    <span class="keywordtype">int</span> mouse_local_map_x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(mouse_pos.x) / small_map;</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    <span class="keywordtype">int</span> mouse_local_map_y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(mouse_pos.y) / small_map;</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span> </div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    <span class="comment">// Calculate where the rectangle END would be if we place it at mouse position</span></div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    <span class="keywordtype">float</span> potential_end_x = mouse_pos.x + rect_width;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <span class="keywordtype">float</span> potential_end_y = mouse_pos.y + rect_height;</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span> </div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    <span class="comment">// Check if this would cross local map boundary (512x512 blocks)</span></div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    <span class="keywordtype">int</span> potential_end_map_x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(potential_end_x) / small_map;</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    <span class="keywordtype">int</span> potential_end_map_y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(potential_end_y) / small_map;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span> </div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    <span class="comment">// Clamp mouse position to prevent crossing during drag</span></div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <span class="keywordflow">if</span> (potential_end_map_x != mouse_local_map_x) {</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>      <span class="comment">// Would cross horizontal boundary - clamp mouse to safe zone</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>      <span class="keywordtype">float</span> max_mouse_x = (mouse_local_map_x + 1) * small_map - rect_width;</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>      clamped_mouse_pos.x = std::min(mouse_pos.x, max_mouse_x);</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    }</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span> </div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    <span class="keywordflow">if</span> (potential_end_map_y != mouse_local_map_y) {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>      <span class="comment">// Would cross vertical boundary - clamp mouse to safe zone</span></div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>      <span class="keywordtype">float</span> max_mouse_y = (mouse_local_map_y + 1) * small_map - rect_height;</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>      clamped_mouse_pos.y = std::min(mouse_pos.y, max_mouse_y);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    }</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>  }</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>  <span class="comment">// Now grid-align the clamped position</span></div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>  <span class="keyword">auto</span> new_start_pos = AlignPosToGrid(clamped_mouse_pos, tile_size * scale);</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span> </div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>  <span class="comment">// Additional safety: clamp to overall map bounds</span></div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>  new_start_pos.x =</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>      std::clamp(new_start_pos.x, 0.0f, large_map_width - rect_width);</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>  new_start_pos.y =</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>      std::clamp(new_start_pos.y, 0.0f, large_map_height - rect_height);</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span> </div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.clear();</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.push_back(new_start_pos);</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>.push_back(</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>      ImVec2(new_start_pos.x + rect_width, new_start_pos.y + rect_height));</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a85e0d584077ee567f57be6ebf8661f8c">select_rect_active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>}</div>
</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span> </div>
<div class="foldopen" id="foldopen01247" data-start="{" data-end="}">
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a790f3ebecc655c19929d6ede556e1fc1"> 1247</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a790f3ebecc655c19929d6ede556e1fc1">Canvas::DrawRect</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, ImVec4 color) {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a1366d6accda53f25cc1c5f8651161c4f">CanvasUtils::DrawCanvasRect</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>, x, y, w, h,</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>                              color, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>}</div>
</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span> </div>
<div class="foldopen" id="foldopen01252" data-start="{" data-end="}">
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aefabe74d546f971367a04b171e660645"> 1252</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aefabe74d546f971367a04b171e660645">Canvas::DrawText</a>(<span class="keyword">const</span> std::string&amp; text, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#ac0910f171a77137f82396c45cb1b02cc">CanvasUtils::DrawCanvasText</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>, text, x, y,</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>}</div>
</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="foldopen" id="foldopen01257" data-start="{" data-end="}">
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6d1500b9057ff6ce49a091be184180bc"> 1257</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6d1500b9057ff6ce49a091be184180bc">Canvas::DrawGridLines</a>(<span class="keywordtype">float</span> grid_step) {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#ae8a926ef1b98ec18dbe883e46074398b">CanvasUtils::DrawCanvasGridLines</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">canvas_p1_</a>,</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                                   <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>, grid_step, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>}</div>
</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span> </div>
<div class="foldopen" id="foldopen01262" data-start="{" data-end="}">
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acf740fd97bf204b2d5e35ab0d3c024ef"> 1262</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acf740fd97bf204b2d5e35ab0d3c024ef">Canvas::DrawInfoGrid</a>(<span class="keywordtype">float</span> grid_step, <span class="keywordtype">int</span> tile_id_offset, <span class="keywordtype">int</span> label_id) {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>  <span class="comment">// Draw grid + all lines in the canvas</span></div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;PushClipRect(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">canvas_p1_</a>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a>) {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> != 0.f)</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>      grid_step = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    grid_step *= <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>;  <span class="comment">// Apply global scale to grid step</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6d1500b9057ff6ce49a091be184180bc">DrawGridLines</a>(grid_step);</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a856a6868e0137cea8d710fea2a2592bf">DrawCustomHighlight</a>(grid_step);</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span> </div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a>) {</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>    }</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span> </div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    <span class="comment">// Draw the contents of labels on the grid</span></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    <span class="keywordflow">for</span> (<span class="keywordtype">float</span> x = fmodf(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, grid_step);</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>         x &lt; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>.x * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>; x += grid_step) {</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>      <span class="keywordflow">for</span> (<span class="keywordtype">float</span> y = fmodf(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y, grid_step);</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>           y &lt; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>.y * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>; y += grid_step) {</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="keywordtype">int</span> tile_x = (x - <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x) / grid_step;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>        <span class="keywordtype">int</span> tile_y = (y - <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y) / grid_step;</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>        <span class="keywordtype">int</span> tile_id = tile_x + (tile_y * tile_id_offset);</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>        <span class="keywordflow">if</span> (tile_id &gt;= <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a3abdc32c4acbb4619e4ab6a388ff60">labels_</a>[label_id].size()) {</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>        }</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>        std::string label = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a3abdc32c4acbb4619e4ab6a388ff60">labels_</a>[label_id][tile_id];</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;AddText(</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>            ImVec2(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.x + x + (grid_step / 2) - tile_id_offset,</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                   <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>.y + y + (grid_step / 2) - tile_id_offset),</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>            <a class="code hl_variable" href="../../d3/dbf/namespaceyaze_1_1gui.html#a052158d35957768a382590f5af89e34e">kWhiteColor</a>, label.data());</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>      }</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    }</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>  }</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>}</div>
</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span> </div>
<div class="foldopen" id="foldopen01299" data-start="{" data-end="}">
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a856a6868e0137cea8d710fea2a2592bf"> 1299</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a856a6868e0137cea8d710fea2a2592bf">Canvas::DrawCustomHighlight</a>(<span class="keywordtype">float</span> grid_step) {</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#adb4f27ec4f20442abe0b220c2ed71390">CanvasUtils::DrawCustomHighlight</a>(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>,</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>                                   <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a063a67d6eeb2a0f4dc22314214985922">highlight_tile_id</a>, grid_step);</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>}</div>
</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span> </div>
<div class="foldopen" id="foldopen01304" data-start="{" data-end="}">
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93"> 1304</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">Canvas::DrawGrid</a>(<span class="keywordtype">float</span> grid_step, <span class="keywordtype">int</span> tile_id_offset) {</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> != 0.f)</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    grid_step = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span> </div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>  <span class="comment">// Create render context for utilities</span></div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>  <a class="code hl_struct" href="../../d5/d10/structyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext.html">CanvasUtils::CanvasRenderContext</a> ctx = {</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>      .<a class="code hl_variable" href="../../d5/d10/structyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext.html#a7db1571e9647f173cd08cafc7cad0d75">draw_list</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>,</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>      .canvas_p0 = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>,</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>      .canvas_p1 = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">canvas_p1_</a>,</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>      .scrolling = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>,</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>      .global_scale = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>,</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>      .enable_grid = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>,</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>      .enable_hex_labels = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>,</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>      .grid_step = grid_step};</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span> </div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>  <span class="comment">// Use high-level utility function</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#ab00f5769eb96b749ecfe385571b5d486">CanvasUtils::DrawCanvasGrid</a>(ctx, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a063a67d6eeb2a0f4dc22314214985922">highlight_tile_id</a>);</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span> </div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>  <span class="comment">// Draw custom labels if enabled</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>) {</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;PushClipRect(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">canvas_p1_</a>, <span class="keyword">true</span>);</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>    <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a195c54ea0600ea6e367ee37e8c9aadca">CanvasUtils::DrawCanvasLabels</a>(ctx, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a3abdc32c4acbb4619e4ab6a388ff60">labels_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8e6a97e2175e0b989fb713ce0175ba45">current_labels_</a>,</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>                                  tile_id_offset);</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>-&gt;PopClipRect();</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>  }</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>}</div>
</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span> </div>
<div class="foldopen" id="foldopen01331" data-start="{" data-end="}">
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9"> 1331</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">Canvas::DrawOverlay</a>() {</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>  <span class="comment">// Create render context for utilities</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>  <a class="code hl_struct" href="../../d5/d10/structyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext.html">CanvasUtils::CanvasRenderContext</a> ctx = {</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>      .<a class="code hl_variable" href="../../d5/d10/structyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext.html#a7db1571e9647f173cd08cafc7cad0d75">draw_list</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">draw_list_</a>,</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>      .canvas_p0 = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">canvas_p0_</a>,</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>      .canvas_p1 = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">canvas_p1_</a>,</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>      .scrolling = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>,</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>      .global_scale = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>,</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>      .enable_grid = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>,</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>      .enable_hex_labels = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>,</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>      .grid_step = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>};</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span> </div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>  <span class="comment">// Use high-level utility function with local points (synchronized from interaction handler)</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>  <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a3179a79f843f6076dbf595c97da7342c">CanvasUtils::DrawCanvasOverlay</a>(ctx, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">points_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">selected_points_</a>);</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>  </div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>  <span class="comment">// Render any persistent popups from context menu actions</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>  <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">RenderPersistentPopups</a>();</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>}</div>
</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span> </div>
<div class="foldopen" id="foldopen01350" data-start="{" data-end="}">
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5ba6f22f74c3f3c3a955d9677d3a0b40"> 1350</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5ba6f22f74c3f3c3a955d9677d3a0b40">Canvas::DrawLayeredElements</a>() {</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>  <span class="comment">// Based on ImGui demo, should be adapted to use for OAM</span></div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>  ImDrawList* <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a> = ImGui::GetWindowDrawList();</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>  {</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    Text(<span class="stringliteral">&quot;Blue shape is drawn first: appears in back&quot;</span>);</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    Text(<span class="stringliteral">&quot;Red shape is drawn after: appears in front&quot;</span>);</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    ImVec2 p0 = ImGui::GetCursorScreenPos();</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;AddRectFilled(ImVec2(p0.x, p0.y), ImVec2(p0.x + 50, p0.y + 50),</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                             IM_COL32(0, 0, 255, 255));  <span class="comment">// Blue</span></div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;AddRectFilled(ImVec2(p0.x + 25, p0.y + 25),</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                             ImVec2(p0.x + 75, p0.y + 75),</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                             IM_COL32(255, 0, 0, 255));  <span class="comment">// Red</span></div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    ImGui::Dummy(ImVec2(75, 75));</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>  }</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>  ImGui::Separator();</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>  {</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    Text(<span class="stringliteral">&quot;Blue shape is drawn first, into channel 1: appears in front&quot;</span>);</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    Text(<span class="stringliteral">&quot;Red shape is drawn after, into channel 0: appears in back&quot;</span>);</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    ImVec2 p1 = ImGui::GetCursorScreenPos();</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span> </div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    <span class="comment">// Create 2 channels and draw a Blue shape THEN a Red shape.</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <span class="comment">// You can create any number of channels. Tables API use 1 channel per</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    <span class="comment">// column in order to better batch draw calls.</span></div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;ChannelsSplit(2);</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;ChannelsSetCurrent(1);</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;AddRectFilled(ImVec2(p1.x, p1.y), ImVec2(p1.x + 50, p1.y + 50),</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>                             IM_COL32(0, 0, 255, 255));  <span class="comment">// Blue</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;ChannelsSetCurrent(0);</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;AddRectFilled(ImVec2(p1.x + 25, p1.y + 25),</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>                             ImVec2(p1.x + 75, p1.y + 75),</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>                             IM_COL32(255, 0, 0, 255));  <span class="comment">// Red</span></div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span> </div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>    <span class="comment">// Flatten/reorder channels. Red shape is in channel 0 and it appears</span></div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <span class="comment">// below the Blue shape in channel 1. This works by copying draw indices</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    <span class="comment">// only (vertices are not copied).</span></div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>-&gt;ChannelsMerge();</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    ImGui::Dummy(ImVec2(75, 75));</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    Text(<span class="stringliteral">&quot;After reordering, contents of channel 0 appears below channel 1.&quot;</span>);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>  }</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>}</div>
</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span> </div>
<div class="foldopen" id="foldopen01391" data-start="{" data-end="}">
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#a329bfec318646ab338eae2167beee7a2"> 1391</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a329bfec318646ab338eae2167beee7a2">BeginCanvas</a>(<a class="code hl_class" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">Canvas</a>&amp; canvas, ImVec2 child_size) {</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a25424ecc8f2e33914dbac1c45aaaedbb">gui::BeginPadding</a>(1);</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span> </div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>  <span class="comment">// Use improved canvas sizing for table integration</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>  ImVec2 effective_size = child_size;</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>  <span class="keywordflow">if</span> (child_size.x == 0 &amp;&amp; child_size.y == 0) {</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <span class="comment">// Auto-size based on canvas configuration</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <span class="keywordflow">if</span> (canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa4d4c20d9aef8ec988d01047bcedd5ef">IsAutoResize</a>()) {</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>      effective_size = canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">GetPreferredSize</a>();</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>      effective_size = canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8121eeb4bbf14fe9f8b1c200adc4299b">GetCurrentSize</a>();</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    }</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>  }</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span> </div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>  ImGui::BeginChild(canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9b9d8f1c0e02fd488b1c8aced0ff0600">canvas_id</a>().c_str(), effective_size, <span class="keyword">true</span>,</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>                    ImGuiWindowFlags_AlwaysVerticalScrollbar);</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>  canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>();</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>  <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a703ce750767a17205f5f2fcfc3294a37">gui::EndPadding</a>();</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>  canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">DrawContextMenu</a>();</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>}</div>
</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span> </div>
<div class="foldopen" id="foldopen01412" data-start="{" data-end="}">
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#a16adfc7583097bf343bd2cc7065e445d"> 1412</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a16adfc7583097bf343bd2cc7065e445d">EndCanvas</a>(<a class="code hl_class" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">Canvas</a>&amp; canvas) {</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>  canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">DrawGrid</a>();</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>  canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>  ImGui::EndChild();</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>}</div>
</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span> </div>
<div class="foldopen" id="foldopen01418" data-start="{" data-end="}">
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#a359973f01787648b92a53d2aa84120a9"> 1418</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a359973f01787648b92a53d2aa84120a9">GraphicsBinCanvasPipeline</a>(<span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">int</span> tile_size,</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                               <span class="keywordtype">int</span> num_sheets_to_load, <span class="keywordtype">int</span> canvas_id,</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>                               <span class="keywordtype">bool</span> is_loaded, <a class="code hl_typedef" href="../../d0/d27/namespaceyaze_1_1gfx.html#ad59175cdad18379972f52c0aafa32d08">gfx::BitmapTable</a>&amp; graphics_bin) {</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>  <a class="code hl_class" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">gui::Canvas</a> canvas;</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>  <span class="keywordflow">if</span> (ImGuiID child_id =</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>          ImGui::GetID((ImTextureID)(intptr_t)(intptr_t)canvas_id);</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>      ImGui::BeginChild(child_id, ImGui::GetContentRegionAvail(), <span class="keyword">true</span>,</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>                        ImGuiWindowFlags_AlwaysVerticalScrollbar)) {</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>(ImVec2(width + 1, num_sheets_to_load * height + 1));</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">DrawContextMenu</a>();</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <span class="keywordflow">if</span> (is_loaded) {</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, value] : graphics_bin) {</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>        <span class="keywordtype">int</span> offset = height * (key + 1);</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>        <span class="keywordtype">int</span> top_left_y = canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab3664ce0fdd6afa2113d10dd55fa9d80">zero_point</a>().y + 2;</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>        <span class="keywordflow">if</span> (key &gt;= 1) {</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>          top_left_y = canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab3664ce0fdd6afa2113d10dd55fa9d80">zero_point</a>().y + height * key;</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>        }</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>        canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">draw_list</a>()-&gt;AddImage(</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>            (ImTextureID)(intptr_t)value.texture(),</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>            ImVec2(canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab3664ce0fdd6afa2113d10dd55fa9d80">zero_point</a>().x + 2, top_left_y),</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>            ImVec2(canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab3664ce0fdd6afa2113d10dd55fa9d80">zero_point</a>().x + 0x100,</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>                   canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab3664ce0fdd6afa2113d10dd55fa9d80">zero_point</a>().y + offset));</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>      }</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    }</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6a667bbd9d7981b0904555ea75c90e46">DrawTileSelector</a>(tile_size);</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">DrawGrid</a>(tile_size);</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    <span class="comment">// Phase 3: Render persistent popups (previously only available via End())</span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">RenderPersistentPopups</a>();</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>  }</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>  ImGui::EndChild();</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>}</div>
</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span> </div>
<div class="foldopen" id="foldopen01451" data-start="{" data-end="}">
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#a097a97de3f408828135e749498b16bd6"> 1451</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#a097a97de3f408828135e749498b16bd6">BitmapCanvasPipeline</a>(<a class="code hl_class" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">gui::Canvas</a>&amp; canvas, <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">gfx::Bitmap</a>&amp; bitmap, <span class="keywordtype">int</span> width,</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>                          <span class="keywordtype">int</span> height, <span class="keywordtype">int</span> tile_size, <span class="keywordtype">bool</span> is_loaded,</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>                          <span class="keywordtype">bool</span> scrollbar, <span class="keywordtype">int</span> canvas_id) {</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>  <span class="keyword">auto</span> draw_canvas = [&amp;](<a class="code hl_class" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">gui::Canvas</a>&amp; canvas, <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">gfx::Bitmap</a>&amp; bitmap, <span class="keywordtype">int</span> width,</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>                         <span class="keywordtype">int</span> height, <span class="keywordtype">int</span> tile_size, <span class="keywordtype">bool</span> is_loaded) {</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>(ImVec2(width + 1, height + 1));</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">DrawContextMenu</a>();</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">DrawBitmap</a>(bitmap, 2, is_loaded);</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6a667bbd9d7981b0904555ea75c90e46">DrawTileSelector</a>(tile_size);</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">DrawGrid</a>(tile_size);</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    <span class="comment">// Phase 3: Render persistent popups (previously only available via End())</span></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">RenderPersistentPopups</a>();</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>  };</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>  <span class="keywordflow">if</span> (scrollbar) {</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    <span class="keywordflow">if</span> (ImGuiID child_id =</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>            ImGui::GetID((ImTextureID)(intptr_t)(intptr_t)canvas_id);</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>        ImGui::BeginChild(child_id, ImGui::GetContentRegionAvail(), <span class="keyword">true</span>,</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>                          ImGuiWindowFlags_AlwaysVerticalScrollbar)) {</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>      draw_canvas(canvas, bitmap, width, height, tile_size, is_loaded);</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    }</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    ImGui::EndChild();</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    draw_canvas(canvas, bitmap, width, height, tile_size, is_loaded);</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>  }</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>}</div>
</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span> </div>
<div class="foldopen" id="foldopen01479" data-start="{" data-end="}">
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"><a class="line" href="../../d3/dbf/namespaceyaze_1_1gui.html#ac4c4a4ccedd870c65c05fe1f65c478a8"> 1479</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d3/dbf/namespaceyaze_1_1gui.html#ac4c4a4ccedd870c65c05fe1f65c478a8">TableCanvasPipeline</a>(<a class="code hl_class" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">gui::Canvas</a>&amp; canvas, <a class="code hl_class" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">gfx::Bitmap</a>&amp; bitmap,</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>                         <span class="keyword">const</span> std::string&amp; label, <span class="keywordtype">bool</span> auto_resize) {</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>  <span class="comment">// Configure canvas for table integration</span></div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>  canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae72757dbfaba6cf31d5d04835b676736">SetAutoResize</a>(auto_resize);</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span> </div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>  <span class="keywordflow">if</span> (auto_resize &amp;&amp; bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>()) {</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    <span class="comment">// Auto-calculate size based on bitmap content</span></div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>    ImVec2 content_size = ImVec2(bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(), bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>    ImVec2 preferred_size = <a class="code hl_function" href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#abe23e23eed53addb8e822f1ebf1e5709">CanvasUtils::CalculatePreferredCanvasSize</a>(</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>        content_size, canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aac148d465ee86d3d05505db4644f920e">GetGlobalScale</a>());</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a821b944bf8476a4f0f69b70e1174d69c">SetCanvasSize</a>(preferred_size);</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>  }</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span> </div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>  <span class="comment">// Begin table-aware canvas</span></div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>  <span class="keywordflow">if</span> (canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a330050195f09c32c785c00e5038c4564">BeginTableCanvas</a>(label)) {</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>    <span class="comment">// Draw the canvas content</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">DrawBackground</a>();</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">DrawContextMenu</a>();</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span> </div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    <span class="keywordflow">if</span> (bitmap.<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">is_active</a>()) {</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>      canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">DrawBitmap</a>(bitmap, 2, 2, canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aac148d465ee86d3d05505db4644f920e">GetGlobalScale</a>());</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    }</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">DrawGrid</a>();</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">DrawOverlay</a>();</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    <span class="comment">// Phase 3: Render persistent popups (previously only available via End())</span></div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">RenderPersistentPopups</a>();</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>  }</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>  canvas.<a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbf50b711654fee5cc4e80800ee528f2">EndTableCanvas</a>();</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>}</div>
</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span> </div>
<div class="foldopen" id="foldopen01510" data-start="{" data-end="}">
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e822e10120e1e3c3808b591fc671d9c"> 1510</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e822e10120e1e3c3808b591fc671d9c">Canvas::ShowAdvancedCanvasProperties</a>() {</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>  <span class="comment">// Use the new modal system if available</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>) {</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a> modal_config;</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>;</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a>;</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a>;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a>;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a>;</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a>;</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a>;</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">scrolling</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a14e6a31ae1801e84c0f82a4ce11ffd4f">on_config_changed</a> =</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>        [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; updated_config) {</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>          <span class="comment">// Update legacy variables when config changes</span></div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a> = updated_config.enable_grid;</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a> = updated_config.enable_hex_labels;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = updated_config.enable_custom_labels;</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>        };</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a176425f0ff65d9c075a6160f72f19f11">on_scale_changed</a> =</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>        [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; updated_config) {</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = updated_config.global_scale;</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = updated_config.scrolling;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>        };</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span> </div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>-&gt;ShowAdvancedProperties(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>, modal_config, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>);</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>  }</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span> </div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>  <span class="comment">// Fallback to legacy modal system</span></div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>  <span class="keywordflow">if</span> (ImGui::BeginPopupModal(<span class="stringliteral">&quot;Advanced Canvas Properties&quot;</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                             ImGuiWindowFlags_AlwaysAutoResize)) {</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>    ImGui::Text(<span class="stringliteral">&quot;Advanced Canvas Configuration&quot;</span>);</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    ImGui::Separator();</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span> </div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>    <span class="comment">// Canvas properties (read-only info)</span></div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>    ImGui::Text(<span class="stringliteral">&quot;Canvas Properties&quot;</span>);</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>    ImGui::Text(<span class="stringliteral">&quot;ID: %s&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>.c_str());</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>    ImGui::Text(<span class="stringliteral">&quot;Canvas Size: %.0f x %.0f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.x,</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.y);</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    ImGui::Text(<span class="stringliteral">&quot;Content Size: %.0f x %.0f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>.x,</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>.y);</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>    ImGui::Text(<span class="stringliteral">&quot;Global Scale: %.3f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    ImGui::Text(<span class="stringliteral">&quot;Grid Step: %.1f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>);</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span> </div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>.x &gt; 0 &amp;&amp; <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>.y &gt; 0) {</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>      ImVec2 min_size = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a694922bd86e7076a343deb4bafed62bf">GetMinimumSize</a>();</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>      ImVec2 preferred_size = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">GetPreferredSize</a>();</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>      ImGui::Text(<span class="stringliteral">&quot;Minimum Size: %.0f x %.0f&quot;</span>, min_size.x, min_size.y);</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>      ImGui::Text(<span class="stringliteral">&quot;Preferred Size: %.0f x %.0f&quot;</span>, preferred_size.x,</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>                  preferred_size.y);</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    }</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span> </div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>    <span class="comment">// Editable properties using new config system</span></div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    ImGui::Separator();</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>    ImGui::Text(<span class="stringliteral">&quot;View Settings&quot;</span>);</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>    <span class="keywordflow">if</span> (ImGui::Checkbox(<span class="stringliteral">&quot;Enable Grid&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>)) {</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    }</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>    <span class="keywordflow">if</span> (ImGui::Checkbox(<span class="stringliteral">&quot;Enable Hex Labels&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>)) {</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    }</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    <span class="keywordflow">if</span> (ImGui::Checkbox(<span class="stringliteral">&quot;Enable Custom Labels&quot;</span>,</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>                        &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>)) {</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>    }</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <span class="keywordflow">if</span> (ImGui::Checkbox(<span class="stringliteral">&quot;Enable Context Menu&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>)) {</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>    }</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>    <span class="keywordflow">if</span> (ImGui::Checkbox(<span class="stringliteral">&quot;Draggable&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>)) {</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    }</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <span class="keywordflow">if</span> (ImGui::Checkbox(<span class="stringliteral">&quot;Auto Resize for Tables&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>)) {</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>      <span class="comment">// Auto resize setting changed</span></div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>    }</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span> </div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>    <span class="comment">// Grid controls</span></div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    ImGui::Separator();</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    ImGui::Text(<span class="stringliteral">&quot;Grid Configuration&quot;</span>);</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <span class="keywordflow">if</span> (ImGui::SliderFloat(<span class="stringliteral">&quot;Grid Step&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>, 1.0f, 128.0f,</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>                           <span class="stringliteral">&quot;%.1f&quot;</span>)) {</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>    }</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span> </div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>    <span class="comment">// Scale controls</span></div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>    ImGui::Separator();</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>    ImGui::Text(<span class="stringliteral">&quot;Scale Configuration&quot;</span>);</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>    <span class="keywordflow">if</span> (ImGui::SliderFloat(<span class="stringliteral">&quot;Global Scale&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>, 0.1f, 10.0f,</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>                           <span class="stringliteral">&quot;%.2f&quot;</span>)) {</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    }</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    <span class="comment">// Scrolling controls</span></div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>    ImGui::Separator();</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    ImGui::Text(<span class="stringliteral">&quot;Scrolling Configuration&quot;</span>);</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>    ImGui::Text(<span class="stringliteral">&quot;Current Scroll: %.1f, %.1f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.x, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>.y);</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;Reset Scroll&quot;</span>)) {</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = ImVec2(0, 0);</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>    }</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;Center View&quot;</span>)) {</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = ImVec2(</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>            -(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>() * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> - <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.x) /</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>                2.0f,</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>            -(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>() * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> -</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>              <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.y) /</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>                2.0f);</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>      }</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    }</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span> </div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;Close&quot;</span>)) {</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>      ImGui::CloseCurrentPopup();</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    }</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>    ImGui::EndPopup();</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>  }</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>}</div>
</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span> </div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span><span class="comment">// Old ShowPaletteManager method removed - now handled by PaletteWidget</span></div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span> </div>
<div class="foldopen" id="foldopen01633" data-start="{" data-end="}">
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a191373c06075c339d693bf05d56cde27"> 1633</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a191373c06075c339d693bf05d56cde27">Canvas::ShowScalingControls</a>() {</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>  <span class="comment">// Use the new modal system if available</span></div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>) {</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a> modal_config;</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">canvas_sz_</a>;</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">content_size</a>;</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a>;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a>;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">enable_grid</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a>;</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">enable_hex_labels</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a>;</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">enable_custom_labels</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a>;</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">enable_context_menu</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a>;</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">is_draggable</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a>;</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">auto_resize</a>;</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">scrolling</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a>;</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a14e6a31ae1801e84c0f82a4ce11ffd4f">on_config_changed</a> =</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>        [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; updated_config) {</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>          <span class="comment">// Update legacy variables when config changes</span></div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">enable_grid_</a> = updated_config.enable_grid;</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">enable_hex_tile_labels_</a> = updated_config.enable_hex_labels;</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">enable_custom_labels_</a> = updated_config.enable_custom_labels;</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">enable_context_menu_</a> = updated_config.enable_context_menu;</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>        };</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>    modal_config.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a176425f0ff65d9c075a6160f72f19f11">on_scale_changed</a> =</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>        [<span class="keyword">this</span>](<span class="keyword">const</span> <a class="code hl_struct" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">CanvasConfig</a>&amp; updated_config) {</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">draggable_</a> = updated_config.is_draggable;</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = updated_config.grid_step;</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = updated_config.global_scale;</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>          <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">scrolling_</a> = updated_config.scrolling;</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>        };</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span> </div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">modals_</a>-&gt;ShowScalingControls(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a>, modal_config);</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>  }</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span> </div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>  <span class="comment">// Fallback to legacy modal system</span></div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>  <span class="keywordflow">if</span> (ImGui::BeginPopupModal(<span class="stringliteral">&quot;Scaling Controls&quot;</span>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>                             ImGuiWindowFlags_AlwaysAutoResize)) {</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    ImGui::Text(<span class="stringliteral">&quot;Canvas Scaling and Display Controls&quot;</span>);</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>    ImGui::Separator();</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span> </div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>    <span class="comment">// Global scale with new config system</span></div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    ImGui::Text(<span class="stringliteral">&quot;Global Scale: %.3f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>    <span class="keywordflow">if</span> (ImGui::SliderFloat(<span class="stringliteral">&quot;##GlobalScale&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>, 0.1f, 10.0f,</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>                           <span class="stringliteral">&quot;%.2f&quot;</span>)) {</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>    }</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span> </div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>    <span class="comment">// Preset scale buttons</span></div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>    ImGui::Text(<span class="stringliteral">&quot;Preset Scales:&quot;</span>);</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;0.25x&quot;</span>)) {</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 0.25f;</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>    }</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;0.5x&quot;</span>)) {</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 0.5f;</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>    }</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;1x&quot;</span>)) {</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 1.0f;</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>    }</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;2x&quot;</span>)) {</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 2.0f;</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    }</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;4x&quot;</span>)) {</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 4.0f;</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    }</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;8x&quot;</span>)) {</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a> = 8.0f;</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">global_scale_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>;</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>    }</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span> </div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>    <span class="comment">// Grid configuration</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>    ImGui::Separator();</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    ImGui::Text(<span class="stringliteral">&quot;Grid Configuration&quot;</span>);</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>    ImGui::Text(<span class="stringliteral">&quot;Grid Step: %.1f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>);</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <span class="keywordflow">if</span> (ImGui::SliderFloat(<span class="stringliteral">&quot;##GridStep&quot;</span>, &amp;<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>, 1.0f, 128.0f,</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>                           <span class="stringliteral">&quot;%.1f&quot;</span>)) {</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;  <span class="comment">// Legacy sync</span></div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    }</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span> </div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>    <span class="comment">// Grid size presets</span></div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    ImGui::Text(<span class="stringliteral">&quot;Grid Presets:&quot;</span>);</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;8x8&quot;</span>)) {</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = 8.0f;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>    }</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;16x16&quot;</span>)) {</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = 16.0f;</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>    }</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;32x32&quot;</span>)) {</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = 32.0f;</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>    }</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    ImGui::SameLine();</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;64x64&quot;</span>)) {</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a> = 64.0f;</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">custom_step_</a> = <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">grid_step</a>;</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    }</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span> </div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>    <span class="comment">// Canvas size info</span></div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>    ImGui::Separator();</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>    ImGui::Text(<span class="stringliteral">&quot;Canvas Information&quot;</span>);</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    ImGui::Text(<span class="stringliteral">&quot;Canvas Size: %.0f x %.0f&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.x,</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.y);</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>    ImGui::Text(<span class="stringliteral">&quot;Scaled Size: %.0f x %.0f&quot;</span>,</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.x * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>,</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>                <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.y * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>);</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>      ImGui::Text(<span class="stringliteral">&quot;Bitmap Size: %d x %d&quot;</span>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(), <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>      ImGui::Text(</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>          <span class="stringliteral">&quot;Effective Scale: %.3f x %.3f&quot;</span>,</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>          (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.x * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>) / <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(),</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>          (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">canvas_size</a>.y * <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">config_</a>.<a class="code hl_variable" href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">global_scale</a>) / <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>    }</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span> </div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    <span class="keywordflow">if</span> (ImGui::Button(<span class="stringliteral">&quot;Close&quot;</span>)) {</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>      ImGui::CloseCurrentPopup();</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    }</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    ImGui::EndPopup();</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>  }</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>}</div>
</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span> </div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span><span class="comment">// BPP format management methods</span></div>
<div class="foldopen" id="foldopen01768" data-start="{" data-end="}">
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9dd7730360615a9764c20ec5437fa232"> 1768</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9dd7730360615a9764c20ec5437fa232">Canvas::ShowBppFormatSelector</a>() {</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">bpp_format_ui_</a>) {</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">bpp_format_ui_</a> =</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        std::make_unique&lt;gui::BppFormatUI&gt;(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a> + <span class="stringliteral">&quot;_bpp_format&quot;</span>);</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>  }</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span> </div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">bpp_format_ui_</a>-&gt;RenderFormatSelector(</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a05432a1e204b43ea1cb4820449b7e0b8">palette</a>(),</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>        [<span class="keyword">this</span>](<a class="code hl_enumeration" href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120b">gfx::BppFormat</a> format) { ConvertBitmapFormat(format); });</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>  }</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>}</div>
</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span> </div>
<div class="foldopen" id="foldopen01781" data-start="{" data-end="}">
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2884c7ef3487caf1edecc0c51fba828e"> 1781</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2884c7ef3487caf1edecc0c51fba828e">Canvas::ShowBppAnalysis</a>() {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">bpp_format_ui_</a>) {</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">bpp_format_ui_</a> =</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        std::make_unique&lt;gui::BppFormatUI&gt;(<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a> + <span class="stringliteral">&quot;_bpp_format&quot;</span>);</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>  }</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span> </div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">bpp_format_ui_</a>-&gt;RenderAnalysisPanel(*<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a05432a1e204b43ea1cb4820449b7e0b8">palette</a>());</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>  }</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>}</div>
</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span> </div>
<div class="foldopen" id="foldopen01792" data-start="{" data-end="}">
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a365f84ef521f3eca2f506d767a805200"> 1792</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a365f84ef521f3eca2f506d767a805200">Canvas::ShowBppConversionDialog</a>() {</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab0bdc6f3d9fd75601e5cc03b5158e9ad">bpp_conversion_dialog_</a>) {</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab0bdc6f3d9fd75601e5cc03b5158e9ad">bpp_conversion_dialog_</a> = std::make_unique&lt;gui::BppConversionDialog&gt;(</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">canvas_id_</a> + <span class="stringliteral">&quot;_bpp_conversion&quot;</span>);</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>  }</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span> </div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>) {</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab0bdc6f3d9fd75601e5cc03b5158e9ad">bpp_conversion_dialog_</a>-&gt;Show(</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>        *<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a05432a1e204b43ea1cb4820449b7e0b8">palette</a>(),</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>        [<span class="keyword">this</span>](<a class="code hl_enumeration" href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120b">gfx::BppFormat</a> format, <span class="keywordtype">bool</span> <span class="comment">/*preserve_palette*/</span>) {</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>          ConvertBitmapFormat(format);</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>        });</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>  }</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span> </div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>  <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab0bdc6f3d9fd75601e5cc03b5158e9ad">bpp_conversion_dialog_</a>-&gt;Render();</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>}</div>
</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span> </div>
<div class="foldopen" id="foldopen01809" data-start="{" data-end="}">
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6bd0fc774adeb1b17b8baf0069065c5a"> 1809</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6bd0fc774adeb1b17b8baf0069065c5a">Canvas::ConvertBitmapFormat</a>(<a class="code hl_enumeration" href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120b">gfx::BppFormat</a> target_format) {</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>)</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span> </div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>  <a class="code hl_enumeration" href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120b">gfx::BppFormat</a> current_format = <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9b69540243d4cdc41ca299403c6df9b2">GetCurrentBppFormat</a>();</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>  <span class="keywordflow">if</span> (current_format == target_format) {</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// No conversion needed</span></div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>  }</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    <span class="comment">// Convert the bitmap data</span></div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>    <span class="keyword">auto</span> converted_data = <a class="code hl_function" href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#aa4801c6b5c08e38becdba8bee6a6a2f8">gfx::BppFormatManager::Get</a>().<a class="code hl_function" href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#a7c7ed56a91eb64c41b9e67af82dca9d5">ConvertFormat</a>(</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a2a93bfee737bef55dbf436f2605282ce">vector</a>(), current_format, target_format, <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(),</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>        <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span> </div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>    <span class="comment">// Update the bitmap with converted data</span></div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7a4eaa09fc2375d4fc438296ef20ac3d">set_data</a>(converted_data);</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span> </div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>    <span class="comment">// Update the renderer</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#addf78f3f1f063b4e0d7dd0f872ca9ee0">UpdateTexture</a>();</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span> </div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>  } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    SDL_Log(<span class="stringliteral">&quot;Failed to convert bitmap format: %s&quot;</span>, e.what());</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>  }</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>}</div>
</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span> </div>
<div class="foldopen" id="foldopen01837" data-start="{" data-end="}">
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9b69540243d4cdc41ca299403c6df9b2"> 1837</a></span><a class="code hl_enumeration" href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120b">gfx::BppFormat</a> <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9b69540243d4cdc41ca299403c6df9b2">Canvas::GetCurrentBppFormat</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>)</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120baeac574a432e2098d3983afde729fdde7">gfx::BppFormat::kBpp8</a>;</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span> </div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#aa4801c6b5c08e38becdba8bee6a6a2f8">gfx::BppFormatManager::Get</a>().<a class="code hl_function" href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#a678573c5ba599fdce7a0bc34515a0d93">DetectFormat</a>(</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>      <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a2a93bfee737bef55dbf436f2605282ce">vector</a>(), <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">width</a>(), <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">bitmap_</a>-&gt;<a class="code hl_function" href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">height</a>());</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>}</div>
</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span> </div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span><span class="comment">// Phase 4A: Canvas Automation API</span></div>
<div class="foldopen" id="foldopen01846" data-start="{" data-end="}">
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"><a class="line" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3a1933460e5c7b42214543bb1783b74c"> 1846</a></span><a class="code hl_class" href="../../dd/de4/classyaze_1_1gui_1_1CanvasAutomationAPI.html">CanvasAutomationAPI</a>* <a class="code hl_function" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3a1933460e5c7b42214543bb1783b74c">Canvas::GetAutomationAPI</a>() {</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adf04263e325823a23de72863170911df">automation_api_</a>) {</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>    <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adf04263e325823a23de72863170911df">automation_api_</a> = std::make_unique&lt;CanvasAutomationAPI&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>  }</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adf04263e325823a23de72863170911df">automation_api_</a>.get();</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>}</div>
</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span> </div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>}  <span class="comment">// namespace yaze::gui</span></div>
<div class="ttc" id="abitmap_8h_html"><div class="ttname"><a href="../../da/dcb/bitmap_8h.html">bitmap.h</a></div></div>
<div class="ttc" id="abpp__format__manager_8h_html"><div class="ttname"><a href="../../dc/d83/bpp__format__manager_8h.html">bpp_format_manager.h</a></div></div>
<div class="ttc" id="acanvas_8h_html"><div class="ttname"><a href="../../d4/dcf/canvas_8h.html">canvas.h</a></div></div>
<div class="ttc" id="acanvas__automation__api_8h_html"><div class="ttname"><a href="../../df/de8/canvas__automation__api_8h.html">canvas_automation_api.h</a></div></div>
<div class="ttc" id="acanvas__utils_8h_html"><div class="ttname"><a href="../../d1/d39/canvas__utils_8h.html">canvas_utils.h</a></div></div>
<div class="ttc" id="aclassyaze_1_1Rom_html"><div class="ttname"><a href="../../d6/d30/classyaze_1_1Rom.html">yaze::Rom</a></div><div class="ttdoc">The Rom class is used to load, save, and modify Rom data.</div><div class="ttdef"><b>Definition</b> <a href="../../da/de5/rom_8h_source.html#l00074">rom.h:74</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html">yaze::gfx::Bitmap</a></div><div class="ttdoc">Represents a bitmap image optimized for SNES ROM hacking.</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00066">bitmap.h:66</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a05432a1e204b43ea1cb4820449b7e0b8"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a05432a1e204b43ea1cb4820449b7e0b8">yaze::gfx::Bitmap::palette</a></div><div class="ttdeci">const SnesPalette &amp; palette() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00277">bitmap.h:277</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a1e0a0f5b9fa6f85be594cc99f757383b"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a1e0a0f5b9fa6f85be594cc99f757383b">yaze::gfx::Bitmap::texture</a></div><div class="ttdeci">TextureHandle texture() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00289">bitmap.h:289</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a2a93bfee737bef55dbf436f2605282ce"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a2a93bfee737bef55dbf436f2605282ce">yaze::gfx::Bitmap::vector</a></div><div class="ttdeci">const std::vector&lt; uint8_t &gt; &amp; vector() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00290">bitmap.h:290</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a5df0c9b0c6a7368e87893881c176c919"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a5df0c9b0c6a7368e87893881c176c919">yaze::gfx::Bitmap::is_active</a></div><div class="ttdeci">bool is_active() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00293">bitmap.h:293</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a6569297508f48d61c983ddda166099f7"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a6569297508f48d61c983ddda166099f7">yaze::gfx::Bitmap::mutable_palette</a></div><div class="ttdeci">SnesPalette * mutable_palette()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00278">bitmap.h:278</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a748139853655afc687cf9668eeb01443"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a748139853655afc687cf9668eeb01443">yaze::gfx::Bitmap::WriteColor</a></div><div class="ttdeci">void WriteColor(int position, const ImVec4 &amp;color)</div><div class="ttdoc">Write a color to a pixel at the given position.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d13/bitmap_8cc_source.html#l00522">bitmap.cc:522</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a7729f6c60dee1836a303ce39448febc3"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7729f6c60dee1836a303ce39448febc3">yaze::gfx::Bitmap::height</a></div><div class="ttdeci">int height() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00283">bitmap.h:283</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a7a4eaa09fc2375d4fc438296ef20ac3d"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a7a4eaa09fc2375d4fc438296ef20ac3d">yaze::gfx::Bitmap::set_data</a></div><div class="ttdeci">void set_data(const std::vector&lt; uint8_t &gt; &amp;data)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d13/bitmap_8cc_source.html#l00743">bitmap.cc:743</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_a8bf88ae41aef8eee49c560b96cf4d050"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#a8bf88ae41aef8eee49c560b96cf4d050">yaze::gfx::Bitmap::width</a></div><div class="ttdeci">int width() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00282">bitmap.h:282</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1Bitmap_html_addf78f3f1f063b4e0d7dd0f872ca9ee0"><div class="ttname"><a href="../../df/d0e/classyaze_1_1gfx_1_1Bitmap.html#addf78f3f1f063b4e0d7dd0f872ca9ee0">yaze::gfx::Bitmap::UpdateTexture</a></div><div class="ttdeci">void UpdateTexture()</div><div class="ttdoc">Updates the underlying SDL_Texture when it already exists.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d13/bitmap_8cc_source.html#l00246">bitmap.cc:246</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1BppFormatManager_html_a678573c5ba599fdce7a0bc34515a0d93"><div class="ttname"><a href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#a678573c5ba599fdce7a0bc34515a0d93">yaze::gfx::BppFormatManager::DetectFormat</a></div><div class="ttdeci">BppFormat DetectFormat(const std::vector&lt; uint8_t &gt; &amp;data, int width, int height)</div><div class="ttdoc">Detect BPP format from bitmap data.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d41/bpp__format__manager_8cc_source.html#l00189">bpp_format_manager.cc:189</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1BppFormatManager_html_a7c7ed56a91eb64c41b9e67af82dca9d5"><div class="ttname"><a href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#a7c7ed56a91eb64c41b9e67af82dca9d5">yaze::gfx::BppFormatManager::ConvertFormat</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; ConvertFormat(const std::vector&lt; uint8_t &gt; &amp;data, BppFormat from_format, BppFormat to_format, int width, int height)</div><div class="ttdoc">Convert bitmap data between BPP formats.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d41/bpp__format__manager_8cc_source.html#l00059">bpp_format_manager.cc:59</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1BppFormatManager_html_aa4801c6b5c08e38becdba8bee6a6a2f8"><div class="ttname"><a href="../../d0/d5c/classyaze_1_1gfx_1_1BppFormatManager.html#aa4801c6b5c08e38becdba8bee6a6a2f8">yaze::gfx::BppFormatManager::Get</a></div><div class="ttdeci">static BppFormatManager &amp; Get()</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d41/bpp__format__manager_8cc_source.html#l00014">bpp_format_manager.cc:14</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1IRenderer_html"><div class="ttname"><a href="../../d0/dca/classyaze_1_1gfx_1_1IRenderer.html">yaze::gfx::IRenderer</a></div><div class="ttdoc">Defines an abstract interface for all rendering operations.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d18/irenderer_8h_source.html#l00035">irenderer.h:35</a></div></div>
<div class="ttc" id="aclassyaze_1_1gfx_1_1ScopedTimer_html"><div class="ttname"><a href="../../d7/ddb/classyaze_1_1gfx_1_1ScopedTimer.html">yaze::gfx::ScopedTimer</a></div><div class="ttdoc">RAII timer for automatic timing management.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/db2/performance__profiler_8h_source.html#l00191">performance_profiler.h:191</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasAutomationAPI_html"><div class="ttname"><a href="../../dd/de4/classyaze_1_1gui_1_1CanvasAutomationAPI.html">yaze::gui::CanvasAutomationAPI</a></div><div class="ttdoc">Programmatic interface for controlling canvas operations.</div><div class="ttdef"><b>Definition</b> <a href="../../df/de8/canvas__automation__api_8h_source.html#l00022">canvas_automation_api.h:22</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2">yaze::gui::CanvasContextMenu::Command</a></div><div class="ttdeci">Command</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d2d/canvas__context__menu_8h_source.html#l00026">canvas_context_menu.h:26</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a04296f2325bb84e9144aa0301685e702"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a04296f2325bb84e9144aa0301685e702">yaze::gui::CanvasContextMenu::Command::kZoomIn</a></div><div class="ttdeci">@ kZoomIn</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a07211b0885642e92e198a86c6a7ea40d"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a07211b0885642e92e198a86c6a7ea40d">yaze::gui::CanvasContextMenu::Command::kOpenAdvancedProperties</a></div><div class="ttdeci">@ kOpenAdvancedProperties</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a14cbe6410d806b939d9472f84d0ed62d"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a14cbe6410d806b939d9472f84d0ed62d">yaze::gui::CanvasContextMenu::Command::kToggleGrid</a></div><div class="ttdeci">@ kToggleGrid</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a1dcc163c8bb073e5c0799c3717a9be81"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a1dcc163c8bb073e5c0799c3717a9be81">yaze::gui::CanvasContextMenu::Command::kSetScale</a></div><div class="ttdeci">@ kSetScale</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a378239eb2ff973b425c75d2c9728e6f7"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a378239eb2ff973b425c75d2c9728e6f7">yaze::gui::CanvasContextMenu::Command::kResetView</a></div><div class="ttdeci">@ kResetView</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a45ff522dd1a6dbb9b6295e73dcedf2e3"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a45ff522dd1a6dbb9b6295e73dcedf2e3">yaze::gui::CanvasContextMenu::Command::kToggleDraggable</a></div><div class="ttdeci">@ kToggleDraggable</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a510499fdffba8cb678a0298da6469976"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a510499fdffba8cb678a0298da6469976">yaze::gui::CanvasContextMenu::Command::kToggleAutoResize</a></div><div class="ttdeci">@ kToggleAutoResize</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a5410c01f84a796b8719db05243deb5e9"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a5410c01f84a796b8719db05243deb5e9">yaze::gui::CanvasContextMenu::Command::kToggleCustomLabels</a></div><div class="ttdeci">@ kToggleCustomLabels</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a6e2dec46c8c196bcd35f0358d48599b8"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a6e2dec46c8c196bcd35f0358d48599b8">yaze::gui::CanvasContextMenu::Command::kZoomOut</a></div><div class="ttdeci">@ kZoomOut</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2a728336c8309efd3e95f12fb296cbe082"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2a728336c8309efd3e95f12fb296cbe082">yaze::gui::CanvasContextMenu::Command::kToggleHexLabels</a></div><div class="ttdeci">@ kToggleHexLabels</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2aa0f77e15898b4aada03857f8c3895e38"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2aa0f77e15898b4aada03857f8c3895e38">yaze::gui::CanvasContextMenu::Command::kToggleContextMenu</a></div><div class="ttdeci">@ kToggleContextMenu</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2ad53628e738254f0535debbbd2635e015"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2ad53628e738254f0535debbbd2635e015">yaze::gui::CanvasContextMenu::Command::kSetGridStep</a></div><div class="ttdeci">@ kSetGridStep</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2adb2f702656a6dfe0118b5a2b4b562619"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2adb2f702656a6dfe0118b5a2b4b562619">yaze::gui::CanvasContextMenu::Command::kOpenScalingControls</a></div><div class="ttdeci">@ kOpenScalingControls</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasContextMenu_html_abd4975d9ce21d0c9b25bb67351ad29c2afcebf6414497514c7ff13c4c70093669"><div class="ttname"><a href="../../d0/d91/classyaze_1_1gui_1_1CanvasContextMenu.html#abd4975d9ce21d0c9b25bb67351ad29c2afcebf6414497514c7ff13c4c70093669">yaze::gui::CanvasContextMenu::Command::kZoomToFit</a></div><div class="ttdeci">@ kZoomToFit</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1CanvasInteractionHandler_html_afa5de90880b5637ebaa7578d11fce4ff"><div class="ttname"><a href="../../d2/dd8/classyaze_1_1gui_1_1CanvasInteractionHandler.html#afa5de90880b5637ebaa7578d11fce4ff">yaze::gui::CanvasInteractionHandler::Initialize</a></div><div class="ttdeci">void Initialize(const std::string &amp;canvas_id)</div><div class="ttdoc">Initialize the interaction handler.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d1f/canvas__interaction__handler_8cc_source.html#l00020">canvas_interaction_handler.cc:20</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html">yaze::gui::Canvas</a></div><div class="ttdoc">Modern, robust canvas for drawing and manipulating graphics.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00059">canvas.h:59</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a01a99f1598925ceeea9d971f43160154"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01a99f1598925ceeea9d971f43160154">yaze::gui::Canvas::scrolling_</a></div><div class="ttdeci">ImVec2 scrolling_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00430">canvas.h:430</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a01cbccebb100031d562dd1d1bcdd81e1"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a01cbccebb100031d562dd1d1bcdd81e1">yaze::gui::Canvas::state_</a></div><div class="ttdeci">CanvasState state_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00401">canvas.h:401</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a04e6cede191a4014242857bc393fc58b"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a04e6cede191a4014242857bc393fc58b">yaze::gui::Canvas::points_</a></div><div class="ttdeci">ImVector&lt; ImVec2 &gt; points_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00439">canvas.h:439</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a063a67d6eeb2a0f4dc22314214985922"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a063a67d6eeb2a0f4dc22314214985922">yaze::gui::Canvas::highlight_tile_id</a></div><div class="ttdeci">int highlight_tile_id</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00419">canvas.h:419</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a06eab9bafdad1cdd915c22937e07bf2d"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a06eab9bafdad1cdd915c22937e07bf2d">yaze::gui::Canvas::DrawBitmap</a></div><div class="ttdeci">void DrawBitmap(Bitmap &amp;bitmap, int border_offset, float scale)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01004">canvas.cc:1004</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a095a9be0f47665c1a3f245bbd5e414c8"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a095a9be0f47665c1a3f245bbd5e414c8">yaze::gui::Canvas::ResetView</a></div><div class="ttdeci">void ResetView()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00634">canvas.cc:634</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a0a39e5762cc395ee6445b76e140f3b53"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0a39e5762cc395ee6445b76e140f3b53">yaze::gui::Canvas::popup_registry_</a></div><div class="ttdeci">PopupRegistry popup_registry_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00415">canvas.h:415</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a0ba39fb84005e13025eb4eb4910eea7e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0ba39fb84005e13025eb4eb4910eea7e">yaze::gui::Canvas::rom</a></div><div class="ttdeci">Rom * rom() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00389">canvas.h:389</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a0bd0ffdc93c0678c83d09c357468707f"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a0bd0ffdc93c0678c83d09c357468707f">yaze::gui::Canvas::is_hovered_</a></div><div class="ttdeci">bool is_hovered_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00407">canvas.h:407</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a10d1e521eb838b0028ccf6d37e30e569"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a10d1e521eb838b0028ccf6d37e30e569">yaze::gui::Canvas::rom_</a></div><div class="ttdeci">Rom * rom_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00426">canvas.h:426</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a11fba4e26102cee445fa43d95691d908"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a11fba4e26102cee445fa43d95691d908">yaze::gui::Canvas::canvas_id_</a></div><div class="ttdeci">std::string canvas_id_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00443">canvas.h:443</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a121e81dbf5c940df0d7e5196d5259463"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a121e81dbf5c940df0d7e5196d5259463">yaze::gui::Canvas::Canvas</a></div><div class="ttdeci">Canvas()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00019">canvas.cc:19</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a18c23ae6c77304ccf244e8dfc7f382f6"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a18c23ae6c77304ccf244e8dfc7f382f6">yaze::gui::Canvas::enable_grid_</a></div><div class="ttdeci">bool enable_grid_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00453">canvas.h:453</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a191373c06075c339d693bf05d56cde27"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a191373c06075c339d693bf05d56cde27">yaze::gui::Canvas::ShowScalingControls</a></div><div class="ttdeci">void ShowScalingControls()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01633">canvas.cc:1633</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a1e6a4fcba5a225fdcfee67429bf163f7"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a1e6a4fcba5a225fdcfee67429bf163f7">yaze::gui::Canvas::WasDoubleClicked</a></div><div class="ttdeci">bool WasDoubleClicked(ImGuiMouseButton button=ImGuiMouseButton_Left) const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00315">canvas.cc:315</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a25f4b68bee362a792f340e0806a21769"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a25f4b68bee362a792f340e0806a21769">yaze::gui::Canvas::config_</a></div><div class="ttdeci">CanvasConfig config_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00396">canvas.h:396</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a264e8936d5fbfced7cae5fa971608e67"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a264e8936d5fbfced7cae5fa971608e67">yaze::gui::Canvas::selected_tile_pos_</a></div><div class="ttdeci">ImVec2 selected_tile_pos_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00449">canvas.h:449</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a26794e293b9d996abc70409d6aebfd8e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a26794e293b9d996abc70409d6aebfd8e">yaze::gui::Canvas::global_scale</a></div><div class="ttdeci">auto global_scale() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00329">canvas.h:329</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a281710b086c3851d5d7c0cc71ab900a9"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a281710b086c3851d5d7c0cc71ab900a9">yaze::gui::Canvas::canvas_p1_</a></div><div class="ttdeci">ImVec2 canvas_p1_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00433">canvas.h:433</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a2884c7ef3487caf1edecc0c51fba828e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2884c7ef3487caf1edecc0c51fba828e">yaze::gui::Canvas::ShowBppAnalysis</a></div><div class="ttdeci">void ShowBppAnalysis()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01781">canvas.cc:1781</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a2995122ee4e7d273cddb9bbc2b4bbade"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2995122ee4e7d273cddb9bbc2b4bbade">yaze::gui::Canvas::DrawOutlineWithColor</a></div><div class="ttdeci">void DrawOutlineWithColor(int x, int y, int w, int h, ImVec4 color)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01065">canvas.cc:1065</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a2c0a2c1c5fbad059544ee6f213ca8404"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a2c0a2c1c5fbad059544ee6f213ca8404">yaze::gui::Canvas::SetUsageMode</a></div><div class="ttdeci">void SetUsageMode(CanvasUsage usage)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00187">canvas.cc:187</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a32365cb3f67a4811818e01268c56aed0"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a32365cb3f67a4811818e01268c56aed0">yaze::gui::Canvas::DrawBitmapGroup</a></div><div class="ttdeci">void DrawBitmapGroup(std::vector&lt; int &gt; &amp;group, gfx::Tilemap &amp;tilemap, int tile_size, float scale=1.0f, int local_map_size=0x200, ImVec2 total_map_size=ImVec2(0x1000, 0x1000))</div><div class="ttdoc">Draw group of bitmaps for multi-tile selection preview.</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01075">canvas.cc:1075</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a330050195f09c32c785c00e5038c4564"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a330050195f09c32c785c00e5038c4564">yaze::gui::Canvas::BeginTableCanvas</a></div><div class="ttdeci">bool BeginTableCanvas(const std::string &amp;label=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00280">canvas.cc:280</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3453f1f5a0906844d99b8140d3f89c06"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3453f1f5a0906844d99b8140d3f89c06">yaze::gui::Canvas::InitializeEnhancedComponents</a></div><div class="ttdeci">void InitializeEnhancedComponents()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00164">canvas.cc:164</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a365f84ef521f3eca2f506d767a805200"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a365f84ef521f3eca2f506d767a805200">yaze::gui::Canvas::ShowBppConversionDialog</a></div><div class="ttdeci">void ShowBppConversionDialog()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01792">canvas.cc:1792</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3849de72628476b91c0ee7d2711aacb9"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3849de72628476b91c0ee7d2711aacb9">yaze::gui::Canvas::DrawOverlay</a></div><div class="ttdeci">void DrawOverlay()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01331">canvas.cc:1331</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3a1933460e5c7b42214543bb1783b74c"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3a1933460e5c7b42214543bb1783b74c">yaze::gui::Canvas::GetAutomationAPI</a></div><div class="ttdeci">CanvasAutomationAPI * GetAutomationAPI()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01846">canvas.cc:1846</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3e822e10120e1e3c3808b591fc671d9c"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e822e10120e1e3c3808b591fc671d9c">yaze::gui::Canvas::ShowAdvancedCanvasProperties</a></div><div class="ttdeci">void ShowAdvancedCanvasProperties()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01510">canvas.cc:1510</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3e96bf4dafa16332ca384cf1db94533a"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3e96bf4dafa16332ca384cf1db94533a">yaze::gui::Canvas::ApplyScaleSnapshot</a></div><div class="ttdeci">void ApplyScaleSnapshot(const CanvasConfig &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00664">canvas.cc:664</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3f0afe4ee88fbd9ab6c6cbacff908763"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f0afe4ee88fbd9ab6c6cbacff908763">yaze::gui::Canvas::UpdateInfoGrid</a></div><div class="ttdeci">void UpdateInfoGrid(ImVec2 bg_size, float grid_size=64.0f, int label_id=0)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00364">canvas.cc:364</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a3f5966d29fbdf486af01a5c572abdc27"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a3f5966d29fbdf486af01a5c572abdc27">yaze::gui::Canvas::bpp_format_ui_</a></div><div class="ttdeci">std::unique_ptr&lt; gui::BppFormatUI &gt; bpp_format_ui_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00160">canvas.h:160</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a401e3bebaabb7d192f9466835c86f3ab"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a401e3bebaabb7d192f9466835c86f3ab">yaze::gui::Canvas::DrawContextMenu</a></div><div class="ttdeci">void DrawContextMenu()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00428">canvas.cc:428</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a477c71f526fd0c2fc3b17ab068d77640"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a477c71f526fd0c2fc3b17ab068d77640">yaze::gui::Canvas::mouse_pos_in_canvas_</a></div><div class="ttdeci">ImVec2 mouse_pos_in_canvas_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00435">canvas.h:435</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a4b04fb517b545c49c5cb538439d316bb"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4b04fb517b545c49c5cb538439d316bb">yaze::gui::Canvas::DrawTilemapPainter</a></div><div class="ttdeci">bool DrawTilemapPainter(gfx::Tilemap &amp;tilemap, int current_tile)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00716">canvas.cc:716</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a4e859171161c1ef5364b1f13238400c9"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a4e859171161c1ef5364b1f13238400c9">yaze::gui::Canvas::DrawSolidTilePainter</a></div><div class="ttdeci">bool DrawSolidTilePainter(const ImVec4 &amp;color, int size)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00787">canvas.cc:787</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a52f5cb5a36ba5cf315dbfa464401ce5e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a52f5cb5a36ba5cf315dbfa464401ce5e">yaze::gui::Canvas::enable_context_menu_</a></div><div class="ttdeci">bool enable_context_menu_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00456">canvas.h:456</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a532038da57a64fa8f26c0a14bba26b11"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a532038da57a64fa8f26c0a14bba26b11">yaze::gui::Canvas::draw_list</a></div><div class="ttdeci">auto draw_list() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00293">canvas.h:293</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a54c953825b64c3bea285b1c38bd25468"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a54c953825b64c3bea285b1c38bd25468">yaze::gui::Canvas::draggable_</a></div><div class="ttdeci">bool draggable_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00458">canvas.h:458</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a550cb506834523e6de3f0ade37f3e28e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a550cb506834523e6de3f0ade37f3e28e">yaze::gui::Canvas::editor_menu_</a></div><div class="ttdeci">CanvasMenuDefinition editor_menu_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00411">canvas.h:411</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a55883582a9af8ecbbf208e3308d3bf9e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a55883582a9af8ecbbf208e3308d3bf9e">yaze::gui::Canvas::modals_</a></div><div class="ttdeci">std::unique_ptr&lt; CanvasModals &gt; modals_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00165">canvas.h:165</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a571f9bb9b9fe640c32faf5f20447a463"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a571f9bb9b9fe640c32faf5f20447a463">yaze::gui::Canvas::ApplyConfigSnapshot</a></div><div class="ttdeci">void ApplyConfigSnapshot(const CanvasConfig &amp;snapshot)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00640">canvas.cc:640</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a5ba6f22f74c3f3c3a955d9677d3a0b40"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5ba6f22f74c3f3c3a955d9677d3a0b40">yaze::gui::Canvas::DrawLayeredElements</a></div><div class="ttdeci">void DrawLayeredElements()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01350">canvas.cc:1350</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a5f05764181cdc69da1defbf76e82eb9f"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5f05764181cdc69da1defbf76e82eb9f">yaze::gui::Canvas::ReserveTableSpace</a></div><div class="ttdeci">void ReserveTableSpace(const std::string &amp;label=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00275">canvas.cc:275</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a5faa38e1f4f6d9e1f0ebbfb3687d040c"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a5faa38e1f4f6d9e1f0ebbfb3687d040c">yaze::gui::Canvas::enable_custom_labels_</a></div><div class="ttdeci">bool enable_custom_labels_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00455">canvas.h:455</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a64b049de2095df4d057d454a2a1ff568"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a64b049de2095df4d057d454a2a1ff568">yaze::gui::Canvas::ShowUsageReport</a></div><div class="ttdeci">void ShowUsageReport()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00214">canvas.cc:214</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a694922bd86e7076a343deb4bafed62bf"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a694922bd86e7076a343deb4bafed62bf">yaze::gui::Canvas::GetMinimumSize</a></div><div class="ttdeci">ImVec2 GetMinimumSize() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00265">canvas.cc:265</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a6a667bbd9d7981b0904555ea75c90e46"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6a667bbd9d7981b0904555ea75c90e46">yaze::gui::Canvas::DrawTileSelector</a></div><div class="ttdeci">bool DrawTileSelector(int size, int size_y=0)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00862">canvas.cc:862</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a6bd0fc774adeb1b17b8baf0069065c5a"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6bd0fc774adeb1b17b8baf0069065c5a">yaze::gui::Canvas::ConvertBitmapFormat</a></div><div class="ttdeci">bool ConvertBitmapFormat(gfx::BppFormat target_format)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01809">canvas.cc:1809</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a6d1500b9057ff6ce49a091be184180bc"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6d1500b9057ff6ce49a091be184180bc">yaze::gui::Canvas::DrawGridLines</a></div><div class="ttdeci">void DrawGridLines(float grid_step)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01257">canvas.cc:1257</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a6e620185806a42d017fec9091565d0d9"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a6e620185806a42d017fec9091565d0d9">yaze::gui::Canvas::~Canvas</a></div><div class="ttdeci">~Canvas()</div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a7256519367040d4d2e0382a36b8225ab"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7256519367040d4d2e0382a36b8225ab">yaze::gui::Canvas::ShowPerformanceUI</a></div><div class="ttdeci">void ShowPerformanceUI()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00208">canvas.cc:208</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a733e3fb0b8a77203e5d616f6f16e0118"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a733e3fb0b8a77203e5d616f6f16e0118">yaze::gui::Canvas::custom_canvas_size_</a></div><div class="ttdeci">bool custom_canvas_size_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00457">canvas.h:457</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a74827d7e0b23e8ac44c3d491c2ae17ac"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a74827d7e0b23e8ac44c3d491c2ae17ac">yaze::gui::Canvas::ClearContextMenuItems</a></div><div class="ttdeci">void ClearContextMenuItems()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00595">canvas.cc:595</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a790f3ebecc655c19929d6ede556e1fc1"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a790f3ebecc655c19929d6ede556e1fc1">yaze::gui::Canvas::DrawRect</a></div><div class="ttdeci">void DrawRect(int x, int y, int w, int h, ImVec4 color)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01247">canvas.cc:1247</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a7c04739d0cf3ab21f5dbe2b2745c938c"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c04739d0cf3ab21f5dbe2b2745c938c">yaze::gui::Canvas::HasValidSelection</a></div><div class="ttdeci">bool HasValidSelection() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00307">canvas.cc:307</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a7c4c7b27651a4090ba8c40a58d6939dc"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c4c7b27651a4090ba8c40a58d6939dc">yaze::gui::Canvas::DrawTilePainter</a></div><div class="ttdeci">bool DrawTilePainter(const Bitmap &amp;bitmap, int size, float scale=1.0f)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00670">canvas.cc:670</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a7c5a3bafa1e64518bf50b5b6ab11b180"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a7c5a3bafa1e64518bf50b5b6ab11b180">yaze::gui::Canvas::draw_list_</a></div><div class="ttdeci">ImDrawList * draw_list_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00427">canvas.h:427</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a80eb92149acc255c04a0b508dccf695f"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a80eb92149acc255c04a0b508dccf695f">yaze::gui::Canvas::selected_points_</a></div><div class="ttdeci">ImVector&lt; ImVec2 &gt; selected_points_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00448">canvas.h:448</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a8121eeb4bbf14fe9f8b1c200adc4299b"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8121eeb4bbf14fe9f8b1c200adc4299b">yaze::gui::Canvas::GetCurrentSize</a></div><div class="ttdeci">ImVec2 GetCurrentSize() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00238">canvas.h:238</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a821b944bf8476a4f0f69b70e1174d69c"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a821b944bf8476a4f0f69b70e1174d69c">yaze::gui::Canvas::SetCanvasSize</a></div><div class="ttdeci">void SetCanvasSize(ImVec2 canvas_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00309">canvas.h:309</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a82770403b306b5a6459b5bc62efe26d4"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a82770403b306b5a6459b5bc62efe26d4">yaze::gui::Canvas::UpdateColorPainter</a></div><div class="ttdeci">void UpdateColorPainter(gfx::IRenderer *renderer, gfx::Bitmap &amp;bitmap, const ImVec4 &amp;color, const std::function&lt; void()&gt; &amp;event, int tile_size, float scale=1.0f)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00348">canvas.cc:348</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a83a73b54866f99c7950fbf79c3b7b9e5"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a83a73b54866f99c7950fbf79c3b7b9e5">yaze::gui::Canvas::DrawTileOnBitmap</a></div><div class="ttdeci">void DrawTileOnBitmap(int tile_size, gfx::Bitmap *bitmap, ImVec4 color)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00841">canvas.cc:841</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a856a6868e0137cea8d710fea2a2592bf"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a856a6868e0137cea8d710fea2a2592bf">yaze::gui::Canvas::DrawCustomHighlight</a></div><div class="ttdeci">void DrawCustomHighlight(float grid_step)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01299">canvas.cc:1299</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a85e0d584077ee567f57be6ebf8661f8c"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a85e0d584077ee567f57be6ebf8661f8c">yaze::gui::Canvas::select_rect_active_</a></div><div class="ttdeci">bool select_rect_active_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00450">canvas.h:450</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a888123021e435f89f3c01436fdf63ca3"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a888123021e435f89f3c01436fdf63ca3">yaze::gui::Canvas::bitmap_</a></div><div class="ttdeci">Bitmap * bitmap_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00425">canvas.h:425</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a8ab4eaba6694e3b41eb961b30d9ba0fa"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8ab4eaba6694e3b41eb961b30d9ba0fa">yaze::gui::Canvas::grid_size</a></div><div class="ttdeci">CanvasGridSize grid_size() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00102">canvas.h:102</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a8c0bac1bdb69610616ad6168d5dd11c7"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8c0bac1bdb69610616ad6168d5dd11c7">yaze::gui::Canvas::AddContextMenuItem</a></div><div class="ttdeci">void AddContextMenuItem(const gui::CanvasMenuItem &amp;item)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00572">canvas.cc:572</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a8e6a97e2175e0b989fb713ce0175ba45"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a8e6a97e2175e0b989fb713ce0175ba45">yaze::gui::Canvas::current_labels_</a></div><div class="ttdeci">int current_labels_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00418">canvas.h:418</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9084927e7e6b80627d9f2b2f1d655b67"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9084927e7e6b80627d9f2b2f1d655b67">yaze::gui::Canvas::GetPreferredSize</a></div><div class="ttdeci">ImVec2 GetPreferredSize() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00270">canvas.cc:270</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a91ca540f081331cba2823f3c51ed3c7d"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a91ca540f081331cba2823f3c51ed3c7d">yaze::gui::Canvas::interaction_handler_</a></div><div class="ttdeci">CanvasInteractionHandler interaction_handler_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00169">canvas.h:169</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9291e00e6da810c8dc2f1238a1b76d86"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9291e00e6da810c8dc2f1238a1b76d86">yaze::gui::Canvas::InitializePaletteEditor</a></div><div class="ttdeci">void InitializePaletteEditor(Rom *rom)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00236">canvas.cc:236</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9414ed2befd16bf4e340eb8f9593ec04"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9414ed2befd16bf4e340eb8f9593ec04">yaze::gui::Canvas::Begin</a></div><div class="ttdeci">void Begin(ImVec2 canvas_size=ImVec2(0, 0))</div><div class="ttdoc">Begin canvas rendering (ImGui-style)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00329">canvas.cc:329</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a96755cc4cc8e256b44751c6ab4c50c36"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a96755cc4cc8e256b44751c6ab4c50c36">yaze::gui::Canvas::canvas_size</a></div><div class="ttdeci">auto canvas_size() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00298">canvas.h:298</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a99e03e6e92d9c18c2e0ac6af8d4535f1"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a99e03e6e92d9c18c2e0ac6af8d4535f1">yaze::gui::Canvas::SetZoomToFit</a></div><div class="ttdeci">void SetZoomToFit(const gfx::Bitmap &amp;bitmap)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00615">canvas.cc:615</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9a0509dbe235a1abe00b030d035ce9cd"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a0509dbe235a1abe00b030d035ce9cd">yaze::gui::Canvas::WasClicked</a></div><div class="ttdeci">bool WasClicked(ImGuiMouseButton button=ImGuiMouseButton_Left) const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00311">canvas.cc:311</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9a3abdc32c4acbb4619e4ab6a388ff60"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9a3abdc32c4acbb4619e4ab6a388ff60">yaze::gui::Canvas::labels_</a></div><div class="ttdeci">ImVector&lt; ImVector&lt; std::string &gt; &gt; labels_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00440">canvas.h:440</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9b69540243d4cdc41ca299403c6df9b2"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9b69540243d4cdc41ca299403c6df9b2">yaze::gui::Canvas::GetCurrentBppFormat</a></div><div class="ttdeci">gfx::BppFormat GetCurrentBppFormat() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01837">canvas.cc:1837</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9b9d8f1c0e02fd488b1c8aced0ff0600"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9b9d8f1c0e02fd488b1c8aced0ff0600">yaze::gui::Canvas::canvas_id</a></div><div class="ttdeci">auto canvas_id() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00336">canvas.h:336</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9babb2c083250ece9a84c4d836aef00d"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9babb2c083250ece9a84c4d836aef00d">yaze::gui::Canvas::ClosePersistentPopup</a></div><div class="ttdeci">void ClosePersistentPopup(const std::string &amp;popup_id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00605">canvas.cc:605</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9dd7730360615a9764c20ec5437fa232"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9dd7730360615a9764c20ec5437fa232">yaze::gui::Canvas::ShowBppFormatSelector</a></div><div class="ttdeci">void ShowBppFormatSelector()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01768">canvas.cc:1768</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_a9ef803ef3c9ec8b28e5353f0c857587a"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#a9ef803ef3c9ec8b28e5353f0c857587a">yaze::gui::Canvas::RecordCanvasOperation</a></div><div class="ttdeci">void RecordCanvasOperation(const std::string &amp;operation_name, double time_ms)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00197">canvas.cc:197</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aa0607daca2e02a3e0fdcb7fb2c2564f9"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa0607daca2e02a3e0fdcb7fb2c2564f9">yaze::gui::Canvas::RenderPersistentPopups</a></div><div class="ttdeci">void RenderPersistentPopups()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00610">canvas.cc:610</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aa2edd88e58963b4157244d319cc2c1b6"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa2edd88e58963b4157244d319cc2c1b6">yaze::gui::Canvas::SetGridSize</a></div><div class="ttdeci">void SetGridSize(CanvasGridSize grid_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00082">canvas.h:82</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aa4d4c20d9aef8ec988d01047bcedd5ef"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aa4d4c20d9aef8ec988d01047bcedd5ef">yaze::gui::Canvas::IsAutoResize</a></div><div class="ttdeci">bool IsAutoResize() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00240">canvas.h:240</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aab0987d5488dea7826cd42ceaff415c6"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab0987d5488dea7826cd42ceaff415c6">yaze::gui::Canvas::usage_tracker_</a></div><div class="ttdeci">std::shared_ptr&lt; CanvasUsageTracker &gt; usage_tracker_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00167">canvas.h:167</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aab73d91d9c1aef0f332a88f18d34ffbc"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aab73d91d9c1aef0f332a88f18d34ffbc">yaze::gui::Canvas::End</a></div><div class="ttdeci">void End()</div><div class="ttdoc">End canvas rendering (ImGui-style)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00335">canvas.cc:335</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aac148d465ee86d3d05505db4644f920e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aac148d465ee86d3d05505db4644f920e">yaze::gui::Canvas::GetGlobalScale</a></div><div class="ttdeci">float GetGlobalScale() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00313">canvas.h:313</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ab0bdc6f3d9fd75601e5cc03b5158e9ad"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab0bdc6f3d9fd75601e5cc03b5158e9ad">yaze::gui::Canvas::bpp_conversion_dialog_</a></div><div class="ttdeci">std::unique_ptr&lt; gui::BppConversionDialog &gt; bpp_conversion_dialog_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00161">canvas.h:161</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ab27210853ee82941262e4fa43ffdc378"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab27210853ee82941262e4fa43ffdc378">yaze::gui::Canvas::DrawSelectRect</a></div><div class="ttdeci">void DrawSelectRect(int current_map, int tile_size=0x10, float scale=1.0f)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00890">canvas.cc:890</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ab3664ce0fdd6afa2113d10dd55fa9d80"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab3664ce0fdd6afa2113d10dd55fa9d80">yaze::gui::Canvas::zero_point</a></div><div class="ttdeci">auto zero_point() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00294">canvas.h:294</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ab66c47604a13aac67b50123d7ce11c1e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab66c47604a13aac67b50123d7ce11c1e">yaze::gui::Canvas::context_menu_</a></div><div class="ttdeci">std::unique_ptr&lt; CanvasContextMenu &gt; context_menu_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00166">canvas.h:166</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ab86428a6a25e27cd5831df82bc84dfea"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ab86428a6a25e27cd5831df82bc84dfea">yaze::gui::Canvas::usage_mode</a></div><div class="ttdeci">auto usage_mode() const</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00218">canvas.h:218</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aba1fe648bda619aeeed190b14e71f4ca"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aba1fe648bda619aeeed190b14e71f4ca">yaze::gui::Canvas::GetLastClickPosition</a></div><div class="ttdeci">ImVec2 GetLastClickPosition() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00320">canvas.cc:320</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ac1daa3cbdc73426ff6bbd23ec8940b72"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac1daa3cbdc73426ff6bbd23ec8940b72">yaze::gui::Canvas::ShowPaletteEditor</a></div><div class="ttdeci">void ShowPaletteEditor()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00243">canvas.cc:243</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ac3a72826ff651430700970ac266cfa20"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac3a72826ff651430700970ac266cfa20">yaze::gui::Canvas::global_scale_</a></div><div class="ttdeci">float global_scale_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00452">canvas.h:452</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ac43b436728dbc8fcef7b618f00345727"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac43b436728dbc8fcef7b618f00345727">yaze::gui::Canvas::DrawOutline</a></div><div class="ttdeci">void DrawOutline(int x, int y, int w, int h)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01060">canvas.cc:1060</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ac86988cd740cc38a86576793c7216fb8"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac86988cd740cc38a86576793c7216fb8">yaze::gui::Canvas::palette_editor_</a></div><div class="ttdeci">std::unique_ptr&lt; PaletteEditorWidget &gt; palette_editor_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00398">canvas.h:398</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ac94fb91312680f4ab0251fe6939d7535"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ac94fb91312680f4ab0251fe6939d7535">yaze::gui::Canvas::custom_step_</a></div><div class="ttdeci">float custom_step_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00451">canvas.h:451</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_acf740fd97bf204b2d5e35ab0d3c024ef"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acf740fd97bf204b2d5e35ab0d3c024ef">yaze::gui::Canvas::DrawInfoGrid</a></div><div class="ttdeci">void DrawInfoGrid(float grid_step=64.0f, int tile_id_offset=8, int label_id=0)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01262">canvas.cc:1262</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_acff9ff29e359d683290dacf352b541d9"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#acff9ff29e359d683290dacf352b541d9">yaze::gui::Canvas::selection_</a></div><div class="ttdeci">CanvasSelection selection_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00397">canvas.h:397</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ad258bc96e412c8e87f777f442003ef61"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad258bc96e412c8e87f777f442003ef61">yaze::gui::Canvas::enable_hex_tile_labels_</a></div><div class="ttdeci">bool enable_hex_tile_labels_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00454">canvas.h:454</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ad29b89f6f1d0ac74d7599131077bda6d"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad29b89f6f1d0ac74d7599131077bda6d">yaze::gui::Canvas::canvas_p0_</a></div><div class="ttdeci">ImVec2 canvas_p0_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00432">canvas.h:432</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ad50564c00150868be642a235e281bd9e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad50564c00150868be642a235e281bd9e">yaze::gui::Canvas::OpenPersistentPopup</a></div><div class="ttdeci">void OpenPersistentPopup(const std::string &amp;popup_id, std::function&lt; void()&gt; render_callback)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00599">canvas.cc:599</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ad7081d52f5a736dde87a62caf2ce63dc"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad7081d52f5a736dde87a62caf2ce63dc">yaze::gui::Canvas::DrawBitmapTable</a></div><div class="ttdeci">void DrawBitmapTable(const BitmapTable &amp;gfx_bin)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01047">canvas.cc:1047</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ad812f985e60b60cc9b1da50d8733bd9e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad812f985e60b60cc9b1da50d8733bd9e">yaze::gui::Canvas::context_id_</a></div><div class="ttdeci">std::string context_id_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00444">canvas.h:444</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ad8f81f1ad4537d5b9c094ed4bb66d304"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ad8f81f1ad4537d5b9c094ed4bb66d304">yaze::gui::Canvas::DrawBackground</a></div><div class="ttdeci">void DrawBackground(ImVec2 canvas_size=ImVec2(0, 0))</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00372">canvas.cc:372</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ada78cc4b7898b19237b5d47d44c78863"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ada78cc4b7898b19237b5d47d44c78863">yaze::gui::Canvas::canvas_sz_</a></div><div class="ttdeci">ImVec2 canvas_sz_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00431">canvas.h:431</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_adbe838c11c999dcd089b9f33f8df73c3"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbe838c11c999dcd089b9f33f8df73c3">yaze::gui::Canvas::InitializeDefaults</a></div><div class="ttdeci">void InitializeDefaults()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00110">canvas.cc:110</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_adbf50b711654fee5cc4e80800ee528f2"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adbf50b711654fee5cc4e80800ee528f2">yaze::gui::Canvas::EndTableCanvas</a></div><div class="ttdeci">void EndTableCanvas()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00302">canvas.cc:302</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_adf04263e325823a23de72863170911df"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#adf04263e325823a23de72863170911df">yaze::gui::Canvas::automation_api_</a></div><div class="ttdeci">std::unique_ptr&lt; CanvasAutomationAPI &gt; automation_api_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00404">canvas.h:404</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ae310cebf86901fd4eb955908a00e0b6f"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae310cebf86901fd4eb955908a00e0b6f">yaze::gui::Canvas::performance_integration_</a></div><div class="ttdeci">std::shared_ptr&lt; CanvasPerformanceIntegration &gt; performance_integration_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00168">canvas.h:168</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_ae72757dbfaba6cf31d5d04835b676736"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#ae72757dbfaba6cf31d5d04835b676736">yaze::gui::Canvas::SetAutoResize</a></div><div class="ttdeci">void SetAutoResize(bool auto_resize)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00239">canvas.h:239</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aea29739230a109525cc72c81e1bdad29"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aea29739230a109525cc72c81e1bdad29">yaze::gui::Canvas::SetGlobalScale</a></div><div class="ttdeci">void SetGlobalScale(float scale)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00314">canvas.h:314</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aecc92f45938fcabafd8f9ef09ab8de93"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aecc92f45938fcabafd8f9ef09ab8de93">yaze::gui::Canvas::DrawGrid</a></div><div class="ttdeci">void DrawGrid(float grid_step=64.0f, int tile_id_offset=8)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01304">canvas.cc:1304</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aed199b3747d8584c7d92e1cebb27734b"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aed199b3747d8584c7d92e1cebb27734b">yaze::gui::Canvas::Cleanup</a></div><div class="ttdeci">void Cleanup()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00148">canvas.cc:148</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aedbab756f76637720ad321007996c571"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aedbab756f76637720ad321007996c571">yaze::gui::Canvas::DrawContextMenuItem</a></div><div class="ttdeci">void DrawContextMenuItem(const gui::CanvasMenuItem &amp;item)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00563">canvas.cc:563</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_aefabe74d546f971367a04b171e660645"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#aefabe74d546f971367a04b171e660645">yaze::gui::Canvas::DrawText</a></div><div class="ttdeci">void DrawText(const std::string &amp;text, int x, int y)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01252">canvas.cc:1252</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_af09c65753661048e2cf78d8fb9572eaa"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af09c65753661048e2cf78d8fb9572eaa">yaze::gui::Canvas::drawn_tile_pos_</a></div><div class="ttdeci">ImVec2 drawn_tile_pos_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00434">canvas.h:434</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_af7b95c6c5a82d79926e00105dcc1cb14"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af7b95c6c5a82d79926e00105dcc1cb14">yaze::gui::Canvas::selected_tiles_</a></div><div class="ttdeci">std::vector&lt; ImVec2 &gt; selected_tiles_</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00447">canvas.h:447</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_af94595435767e1938a6ec370cd9aaa5e"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af94595435767e1938a6ec370cd9aaa5e">yaze::gui::Canvas::ApplyROMPalette</a></div><div class="ttdeci">bool ApplyROMPalette(int group_index, int palette_index)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00257">canvas.cc:257</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1Canvas_html_af9c0f63b04ba61b63def6c58c135cb13"><div class="ttname"><a href="../../da/d2c/classyaze_1_1gui_1_1Canvas.html#af9c0f63b04ba61b63def6c58c135cb13">yaze::gui::Canvas::ShowColorAnalysis</a></div><div class="ttdeci">void ShowColorAnalysis()</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00251">canvas.cc:251</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1PopupRegistry_html_a110243ba73bc96a4e088eb59182bd395"><div class="ttname"><a href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#a110243ba73bc96a4e088eb59182bd395">yaze::gui::PopupRegistry::Close</a></div><div class="ttdeci">void Close(const std::string &amp;popup_id)</div><div class="ttdoc">Close a persistent popup.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d63/canvas__popup_8cc_source.html#l00034">canvas_popup.cc:34</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1PopupRegistry_html_a3dba024601c5be5ce6b620b1b104c31d"><div class="ttname"><a href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#a3dba024601c5be5ce6b620b1b104c31d">yaze::gui::PopupRegistry::RenderAll</a></div><div class="ttdeci">void RenderAll()</div><div class="ttdoc">Render all active popups.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d63/canvas__popup_8cc_source.html#l00054">canvas_popup.cc:54</a></div></div>
<div class="ttc" id="aclassyaze_1_1gui_1_1PopupRegistry_html_afbcf953454978fcabe240ff19c968581"><div class="ttname"><a href="../../df/d70/classyaze_1_1gui_1_1PopupRegistry.html#afbcf953454978fcabe240ff19c968581">yaze::gui::PopupRegistry::Open</a></div><div class="ttdeci">void Open(const std::string &amp;popup_id, std::function&lt; void()&gt; render_callback)</div><div class="ttdoc">Open a persistent popup.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d63/canvas__popup_8cc_source.html#l00008">canvas_popup.cc:8</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gfx_html_abe2b34d606c5d9f052bb7e73874a120b"><div class="ttname"><a href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120b">yaze::gfx::BppFormat</a></div><div class="ttdeci">BppFormat</div><div class="ttdoc">BPP format enumeration for SNES graphics.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d83/bpp__format__manager_8h_source.html#l00020">bpp_format_manager.h:20</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gfx_html_abe2b34d606c5d9f052bb7e73874a120baeac574a432e2098d3983afde729fdde7"><div class="ttname"><a href="../../d0/d27/namespaceyaze_1_1gfx.html#abe2b34d606c5d9f052bb7e73874a120baeac574a432e2098d3983afde729fdde7">yaze::gfx::BppFormat::kBpp8</a></div><div class="ttdeci">@ kBpp8</div><div class="ttdoc">8 bits per pixel (256 colors)</div></div>
<div class="ttc" id="anamespaceyaze_1_1gfx_html_ad59175cdad18379972f52c0aafa32d08"><div class="ttname"><a href="../../d0/d27/namespaceyaze_1_1gfx.html#ad59175cdad18379972f52c0aafa32d08">yaze::gfx::BitmapTable</a></div><div class="ttdeci">std::unordered_map&lt; int, gfx::Bitmap &gt; BitmapTable</div><div class="ttdef"><b>Definition</b> <a href="../../da/dcb/bitmap_8h_source.html#l00365">bitmap.h:365</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a1284021a5bd3ac8263f10246b37af928"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a1284021a5bd3ac8263f10246b37af928">yaze::gui::CanvasUtils::ReserveCanvasSpace</a></div><div class="ttdeci">void ReserveCanvasSpace(ImVec2 canvas_size, const std::string &amp;label)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00285">canvas_utils.cc:285</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a12bbd9b2031d2139978766cf9f57e73d"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a12bbd9b2031d2139978766cf9f57e73d">yaze::gui::CanvasUtils::SetNextCanvasSize</a></div><div class="ttdeci">void SetNextCanvasSize(ImVec2 size, bool auto_resize)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00296">canvas_utils.cc:296</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a1366d6accda53f25cc1c5f8651161c4f"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a1366d6accda53f25cc1c5f8651161c4f">yaze::gui::CanvasUtils::DrawCanvasRect</a></div><div class="ttdeci">void DrawCanvasRect(ImDrawList *draw_list, ImVec2 canvas_p0, ImVec2 scrolling, int x, int y, int w, int h, ImVec4 color, float global_scale)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00125">canvas_utils.cc:125</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a195c54ea0600ea6e367ee37e8c9aadca"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a195c54ea0600ea6e367ee37e8c9aadca">yaze::gui::CanvasUtils::DrawCanvasLabels</a></div><div class="ttdeci">void DrawCanvasLabels(const CanvasRenderContext &amp;ctx, const ImVector&lt; ImVector&lt; std::string &gt; &gt; &amp;labels, int current_labels, int tile_id_offset)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00360">canvas_utils.cc:360</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a3179a79f843f6076dbf595c97da7342c"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a3179a79f843f6076dbf595c97da7342c">yaze::gui::CanvasUtils::DrawCanvasOverlay</a></div><div class="ttdeci">void DrawCanvasOverlay(const CanvasRenderContext &amp;ctx, const ImVector&lt; ImVec2 &gt; &amp;points, const ImVector&lt; ImVec2 &gt; &amp;selected_points)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00334">canvas_utils.cc:334</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a65389748566b25ee130b4994ced4fa78"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a65389748566b25ee130b4994ced4fa78">yaze::gui::CanvasUtils::CalculateMinimumCanvasSize</a></div><div class="ttdeci">ImVec2 CalculateMinimumCanvasSize(ImVec2 content_size, float global_scale, float padding)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00258">canvas_utils.cc:258</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a8ceb52571f7d28aff6121cd21779e3e3"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a8ceb52571f7d28aff6121cd21779e3e3">yaze::gui::CanvasUtils::DrawCanvasOutline</a></div><div class="ttdeci">void DrawCanvasOutline(ImDrawList *draw_list, ImVec2 canvas_p0, ImVec2 scrolling, int x, int y, int w, int h, uint32_t color)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00163">canvas_utils.cc:163</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_a9c72df99a1c2eebb453ed22f39d92b95"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#a9c72df99a1c2eebb453ed22f39d92b95">yaze::gui::CanvasUtils::DrawCanvasOutlineWithColor</a></div><div class="ttdeci">void DrawCanvasOutlineWithColor(ImDrawList *draw_list, ImVec2 canvas_p0, ImVec2 scrolling, int x, int y, int w, int h, ImVec4 color)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00172">canvas_utils.cc:172</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_ab00f5769eb96b749ecfe385571b5d486"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#ab00f5769eb96b749ecfe385571b5d486">yaze::gui::CanvasUtils::DrawCanvasGrid</a></div><div class="ttdeci">void DrawCanvasGrid(const CanvasRenderContext &amp;ctx, int highlight_tile_id)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00307">canvas_utils.cc:307</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_abe23e23eed53addb8e822f1ebf1e5709"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#abe23e23eed53addb8e822f1ebf1e5709">yaze::gui::CanvasUtils::CalculatePreferredCanvasSize</a></div><div class="ttdeci">ImVec2 CalculatePreferredCanvasSize(ImVec2 content_size, float global_scale, float min_scale)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00271">canvas_utils.cc:271</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_ac0910f171a77137f82396c45cb1b02cc"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#ac0910f171a77137f82396c45cb1b02cc">yaze::gui::CanvasUtils::DrawCanvasText</a></div><div class="ttdeci">void DrawCanvasText(ImDrawList *draw_list, ImVec2 canvas_p0, ImVec2 scrolling, const std::string &amp;text, int x, int y, float global_scale)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00148">canvas_utils.cc:148</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_adb4f27ec4f20442abe0b220c2ed71390"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#adb4f27ec4f20442abe0b220c2ed71390">yaze::gui::CanvasUtils::DrawCustomHighlight</a></div><div class="ttdeci">void DrawCustomHighlight(ImDrawList *draw_list, ImVec2 canvas_p0, ImVec2 scrolling, int highlight_tile_id, float grid_step)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00204">canvas_utils.cc:204</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1CanvasUtils_html_ae8a926ef1b98ec18dbe883e46074398b"><div class="ttname"><a href="../../d5/d08/namespaceyaze_1_1gui_1_1CanvasUtils.html#ae8a926ef1b98ec18dbe883e46074398b">yaze::gui::CanvasUtils::DrawCanvasGridLines</a></div><div class="ttdeci">void DrawCanvasGridLines(ImDrawList *draw_list, ImVec2 canvas_p0, ImVec2 canvas_p1, ImVec2 scrolling, float grid_step, float global_scale)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/df4/canvas__utils_8cc_source.html#l00181">canvas_utils.cc:181</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_1_1anonymous__namespace_02canvas_8cc_03_html_af4dff81b2ea92c55430eef4844079a96"><div class="ttname"><a href="../../d4/d8a/namespaceyaze_1_1gui_1_1anonymous__namespace_02canvas_8cc_03.html#af4dff81b2ea92c55430eef4844079a96">yaze::gui::anonymous_namespace{canvas.cc}::AlignPosToGrid</a></div><div class="ttdeci">ImVec2 AlignPosToGrid(ImVec2 pos, float scale)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00102">canvas.cc:102</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html">yaze::gui</a></div><div class="ttdoc">Graphical User Interface (GUI) components for the application.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d1e/gui_2app_2agent__chat__widget_8cc_source.html#l00018">agent_chat_widget.cc:18</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a052158d35957768a382590f5af89e34e"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a052158d35957768a382590f5af89e34e">yaze::gui::kWhiteColor</a></div><div class="ttdeci">constexpr uint32_t kWhiteColor</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00096">canvas.cc:96</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a074b2ff8f8c07459d6dbdc5cac6b68cb"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a074b2ff8f8c07459d6dbdc5cac6b68cb">yaze::gui::kRectangleColor</a></div><div class="ttdeci">constexpr uint32_t kRectangleColor</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00095">canvas.cc:95</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a097a97de3f408828135e749498b16bd6"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a097a97de3f408828135e749498b16bd6">yaze::gui::BitmapCanvasPipeline</a></div><div class="ttdeci">void BitmapCanvasPipeline(gui::Canvas &amp;canvas, gfx::Bitmap &amp;bitmap, int width, int height, int tile_size, bool is_loaded, bool scrollbar, int canvas_id)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01451">canvas.cc:1451</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a159721a8406b66a2669077797eca213e"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a159721a8406b66a2669077797eca213e">yaze::gui::CanvasUsage</a></div><div class="ttdeci">CanvasUsage</div><div class="ttdoc">Canvas usage patterns and tracking.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dbf/canvas__usage__tracker_8h_source.html#l00017">canvas_usage_tracker.h:17</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a16adfc7583097bf343bd2cc7065e445d"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a16adfc7583097bf343bd2cc7065e445d">yaze::gui::EndCanvas</a></div><div class="ttdeci">void EndCanvas(Canvas &amp;canvas)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01412">canvas.cc:1412</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a25424ecc8f2e33914dbac1c45aaaedbb"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a25424ecc8f2e33914dbac1c45aaaedbb">yaze::gui::BeginPadding</a></div><div class="ttdeci">void BeginPadding(int i)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d05/style_8cc_source.html#l00272">style.cc:272</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a272bb717f538dc0c0c9c14f5fd4b37d2a6ceed1a222bc3d8d670462f6d6820a9a"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a272bb717f538dc0c0c9c14f5fd4b37d2a6ceed1a222bc3d8d670462f6d6820a9a">yaze::gui::MenuSectionPriority::kEditorSpecific</a></div><div class="ttdeci">@ kEditorSpecific</div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a329bfec318646ab338eae2167beee7a2"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a329bfec318646ab338eae2167beee7a2">yaze::gui::BeginCanvas</a></div><div class="ttdeci">void BeginCanvas(Canvas &amp;canvas, ImVec2 child_size)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01391">canvas.cc:1391</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a359973f01787648b92a53d2aa84120a9"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a359973f01787648b92a53d2aa84120a9">yaze::gui::GraphicsBinCanvasPipeline</a></div><div class="ttdeci">void GraphicsBinCanvasPipeline(int width, int height, int tile_size, int num_sheets_to_load, int canvas_id, bool is_loaded, gfx::BitmapTable &amp;graphics_bin)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01418">canvas.cc:1418</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a3b5cd7813df0ff86846f91de0a717b98"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a3b5cd7813df0ff86846f91de0a717b98">yaze::gui::ApplyScrollDelta</a></div><div class="ttdeci">void ApplyScrollDelta(CanvasGeometry &amp;geometry, ImVec2 delta)</div><div class="ttdoc">Apply scroll delta to geometry.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d45/canvas__geometry_8cc_source.html#l00077">canvas_geometry.cc:77</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a6530b6b6701fe86c25c4077c45996b0e"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a6530b6b6701fe86c25c4077c45996b0e">yaze::gui::CalculateMouseInCanvas</a></div><div class="ttdeci">ImVec2 CalculateMouseInCanvas(const CanvasGeometry &amp;geometry, ImVec2 mouse_screen_pos)</div><div class="ttdoc">Calculate mouse position in canvas space.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d45/canvas__geometry_8cc_source.html#l00054">canvas_geometry.cc:54</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a703ce750767a17205f5f2fcfc3294a37"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a703ce750767a17205f5f2fcfc3294a37">yaze::gui::EndPadding</a></div><div class="ttdeci">void EndPadding()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d05/style_8cc_source.html#l00276">style.cc:276</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a7c49e7d753aaceb0ca0bed6ca72539b3"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a7c49e7d753aaceb0ca0bed6ca72539b3">yaze::gui::RenderCanvasBackground</a></div><div class="ttdeci">void RenderCanvasBackground(ImDrawList *draw_list, const CanvasGeometry &amp;geometry)</div><div class="ttdoc">Render canvas background and border.</div><div class="ttdef"><b>Definition</b> <a href="../../db/da9/canvas__rendering_8cc_source.html#l00016">canvas_rendering.cc:16</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_a863eddda05bd4b2a4a46e91d82b63e2e"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#a863eddda05bd4b2a4a46e91d82b63e2e">yaze::gui::CalculateCanvasGeometry</a></div><div class="ttdeci">CanvasGeometry CalculateCanvasGeometry(const CanvasConfig &amp;config, ImVec2 requested_size, ImVec2 cursor_screen_pos, ImVec2 content_region_avail)</div><div class="ttdoc">Calculate canvas geometry from configuration and ImGui context.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d45/canvas__geometry_8cc_source.html#l00009">canvas_geometry.cc:9</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_aa7b9cc1741455bb4ffc5ba758912a465"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#aa7b9cc1741455bb4ffc5ba758912a465">yaze::gui::CanvasGridSize</a></div><div class="ttdeci">CanvasGridSize</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcf/canvas_8h_source.html#l00046">canvas.h:46</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_ab2866873cfa51ad6e48f5e97c9e44f4e"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#ab2866873cfa51ad6e48f5e97c9e44f4e">yaze::gui::RenderMenuItem</a></div><div class="ttdeci">void RenderMenuItem(const CanvasMenuItem &amp;item, std::function&lt; void(const std::string &amp;, std::function&lt; void()&gt;)&gt; popup_opened_callback)</div><div class="ttdoc">Render a single menu item.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dc2/canvas__menu_8cc_source.html#l00006">canvas_menu.cc:6</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_ab4565095cc49784e0219d94003da8fe3"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#ab4565095cc49784e0219d94003da8fe3">yaze::gui::RenderBitmapOnCanvas</a></div><div class="ttdeci">void RenderBitmapOnCanvas(ImDrawList *draw_list, const CanvasGeometry &amp;geometry, gfx::Bitmap &amp;bitmap, int, float scale)</div><div class="ttdoc">Render bitmap on canvas (border offset variant)</div><div class="ttdef"><b>Definition</b> <a href="../../db/da9/canvas__rendering_8cc_source.html#l00104">canvas_rendering.cc:104</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_ac4c4a4ccedd870c65c05fe1f65c478a8"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#ac4c4a4ccedd870c65c05fe1f65c478a8">yaze::gui::TableCanvasPipeline</a></div><div class="ttdeci">void TableCanvasPipeline(gui::Canvas &amp;canvas, gfx::Bitmap &amp;bitmap, const std::string &amp;label, bool auto_resize)</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l01479">canvas.cc:1479</a></div></div>
<div class="ttc" id="anamespaceyaze_1_1gui_html_ac8d8a407cf4b76e12a012f326008d58a"><div class="ttname"><a href="../../d3/dbf/namespaceyaze_1_1gui.html#ac8d8a407cf4b76e12a012f326008d58a">yaze::gui::kMouseFlags</a></div><div class="ttdeci">constexpr ImGuiButtonFlags kMouseFlags</div><div class="ttdef"><b>Definition</b> <a href="../../da/dbb/canvas_8cc_source.html#l00098">canvas.cc:98</a></div></div>
<div class="ttc" id="aperformance__profiler_8h_html"><div class="ttname"><a href="../../dd/db2/performance__profiler_8h.html">performance_profiler.h</a></div></div>
<div class="ttc" id="astructyaze_1_1gfx_1_1Pair_html_a489e0417effb0e66c8ca478f237fbad1"><div class="ttname"><a href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a489e0417effb0e66c8ca478f237fbad1">yaze::gfx::Pair::y</a></div><div class="ttdeci">int y</div><div class="ttdoc">Y coordinate or height.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0c/tilemap_8h_source.html#l00020">tilemap.h:20</a></div></div>
<div class="ttc" id="astructyaze_1_1gfx_1_1Pair_html_a840b96a1388da790c305dd06ac454cea"><div class="ttname"><a href="../../de/ddb/structyaze_1_1gfx_1_1Pair.html#a840b96a1388da790c305dd06ac454cea">yaze::gfx::Pair::x</a></div><div class="ttdeci">int x</div><div class="ttdoc">X coordinate or width.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0c/tilemap_8h_source.html#l00019">tilemap.h:19</a></div></div>
<div class="ttc" id="astructyaze_1_1gfx_1_1Tilemap_html"><div class="ttname"><a href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html">yaze::gfx::Tilemap</a></div><div class="ttdoc">Tilemap structure for SNES tile-based graphics management.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0c/tilemap_8h_source.html#l00109">tilemap.h:109</a></div></div>
<div class="ttc" id="astructyaze_1_1gfx_1_1Tilemap_html_a0cdcea996714617b7e773b61bcd2044f"><div class="ttname"><a href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a0cdcea996714617b7e773b61bcd2044f">yaze::gfx::Tilemap::tile_size</a></div><div class="ttdeci">Pair tile_size</div><div class="ttdoc">Size of individual tiles (8x8 or 16x16)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0c/tilemap_8h_source.html#l00113">tilemap.h:113</a></div></div>
<div class="ttc" id="astructyaze_1_1gfx_1_1Tilemap_html_a96c1a0624b30cf8883b2f4718609fb62"><div class="ttname"><a href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#a96c1a0624b30cf8883b2f4718609fb62">yaze::gfx::Tilemap::map_size</a></div><div class="ttdeci">Pair map_size</div><div class="ttdoc">Size of tilemap in tiles.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0c/tilemap_8h_source.html#l00114">tilemap.h:114</a></div></div>
<div class="ttc" id="astructyaze_1_1gfx_1_1Tilemap_html_ad1dcf60d4ca3d385ee232da8af4281ea"><div class="ttname"><a href="../../db/d0a/structyaze_1_1gfx_1_1Tilemap.html#ad1dcf60d4ca3d385ee232da8af4281ea">yaze::gfx::Tilemap::atlas</a></div><div class="ttdeci">Bitmap atlas</div><div class="ttdoc">Master bitmap containing all tiles.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0c/tilemap_8h_source.html#l00110">tilemap.h:110</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html">yaze::gui::CanvasConfig</a></div><div class="ttdoc">Unified configuration for canvas display and interaction.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00021">canvas_utils.h:21</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a14e6a31ae1801e84c0f82a4ce11ffd4f"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a14e6a31ae1801e84c0f82a4ce11ffd4f">yaze::gui::CanvasConfig::on_config_changed</a></div><div class="ttdeci">std::function&lt; void(const CanvasConfig &amp;)&gt; on_config_changed</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00045">canvas_utils.h:45</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a176425f0ff65d9c075a6160f72f19f11"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a176425f0ff65d9c075a6160f72f19f11">yaze::gui::CanvasConfig::on_scale_changed</a></div><div class="ttdeci">std::function&lt; void(const CanvasConfig &amp;)&gt; on_scale_changed</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00046">canvas_utils.h:46</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a46a5a7969ac8eeeafc7cb732b9073ade"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a46a5a7969ac8eeeafc7cb732b9073ade">yaze::gui::CanvasConfig::scrolling</a></div><div class="ttdeci">ImVec2 scrolling</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00038">canvas_utils.h:38</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a5f8419cdc6e2e834ae00e60d9a673bd4"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a5f8419cdc6e2e834ae00e60d9a673bd4">yaze::gui::CanvasConfig::global_scale</a></div><div class="ttdeci">float global_scale</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00035">canvas_utils.h:35</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a66767662ac1edcdc0bbdf9625e447d06"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a66767662ac1edcdc0bbdf9625e447d06">yaze::gui::CanvasConfig::is_draggable</a></div><div class="ttdeci">bool is_draggable</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00027">canvas_utils.h:27</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a6ed1f3c116086b9afdc91b3e905683cb"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a6ed1f3c116086b9afdc91b3e905683cb">yaze::gui::CanvasConfig::custom_canvas_size</a></div><div class="ttdeci">bool custom_canvas_size</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00039">canvas_utils.h:39</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a744d38bbfb315c5c8570b67a05846297"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a744d38bbfb315c5c8570b67a05846297">yaze::gui::CanvasConfig::clamp_rect_to_local_maps</a></div><div class="ttdeci">bool clamp_rect_to_local_maps</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00029">canvas_utils.h:29</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a78fc3d03caca3edfe07281e3ab484b16"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a78fc3d03caca3edfe07281e3ab484b16">yaze::gui::CanvasConfig::content_size</a></div><div class="ttdeci">ImVec2 content_size</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00037">canvas_utils.h:37</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a8542b3d0b669f82db11a7bccefbeab45"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8542b3d0b669f82db11a7bccefbeab45">yaze::gui::CanvasConfig::enable_custom_labels</a></div><div class="ttdeci">bool enable_custom_labels</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00025">canvas_utils.h:25</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a881a6c34ce1f3d6928b618a03e425fee"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a881a6c34ce1f3d6928b618a03e425fee">yaze::gui::CanvasConfig::canvas_size</a></div><div class="ttdeci">ImVec2 canvas_size</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00036">canvas_utils.h:36</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_a8e661c95db1779d8b42ee25bf275b975"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#a8e661c95db1779d8b42ee25bf275b975">yaze::gui::CanvasConfig::usage_mode</a></div><div class="ttdeci">CanvasUsage usage_mode</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00042">canvas_utils.h:42</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_aa2440b91d5cef79e7cdc5740559e052f"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#aa2440b91d5cef79e7cdc5740559e052f">yaze::gui::CanvasConfig::enable_metrics</a></div><div class="ttdeci">bool enable_metrics</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00031">canvas_utils.h:31</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_ac8a7f9b47209ff6e332933b4bfed0624"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ac8a7f9b47209ff6e332933b4bfed0624">yaze::gui::CanvasConfig::grid_step</a></div><div class="ttdeci">float grid_step</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00034">canvas_utils.h:34</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_ae673594dcace7cf3c43029451a64c4c0"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae673594dcace7cf3c43029451a64c4c0">yaze::gui::CanvasConfig::enable_hex_labels</a></div><div class="ttdeci">bool enable_hex_labels</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00024">canvas_utils.h:24</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_ae72f4069b6b57e5b5cde37d6d1d05359"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#ae72f4069b6b57e5b5cde37d6d1d05359">yaze::gui::CanvasConfig::enable_context_menu</a></div><div class="ttdeci">bool enable_context_menu</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00026">canvas_utils.h:26</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_af6da88072f9e940d3067be25dae94f2d"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#af6da88072f9e940d3067be25dae94f2d">yaze::gui::CanvasConfig::enable_grid</a></div><div class="ttdeci">bool enable_grid</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00023">canvas_utils.h:23</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasConfig_html_afe96fa7b927d5ba331fecff2741d8019"><div class="ttname"><a href="../../da/d7f/structyaze_1_1gui_1_1CanvasConfig.html#afe96fa7b927d5ba331fecff2741d8019">yaze::gui::CanvasConfig::auto_resize</a></div><div class="ttdeci">bool auto_resize</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00028">canvas_utils.h:28</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasGeometry_html_a6cfe095d49ac285431cc6529eb4fc45d"><div class="ttname"><a href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#a6cfe095d49ac285431cc6529eb4fc45d">yaze::gui::CanvasGeometry::canvas_sz</a></div><div class="ttdeci">ImVec2 canvas_sz</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00021">canvas_state.h:21</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasGeometry_html_a968fcdb19e0f8c240212c6343cec9af8"><div class="ttname"><a href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#a968fcdb19e0f8c240212c6343cec9af8">yaze::gui::CanvasGeometry::scaled_size</a></div><div class="ttdeci">ImVec2 scaled_size</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00022">canvas_state.h:22</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasGeometry_html_abf897f9dd320b2124e95a1fe2e843e26"><div class="ttname"><a href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#abf897f9dd320b2124e95a1fe2e843e26">yaze::gui::CanvasGeometry::canvas_p1</a></div><div class="ttdeci">ImVec2 canvas_p1</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00020">canvas_state.h:20</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasGeometry_html_ad6506a3eb2b21be2be42df1f4a3d6f5e"><div class="ttname"><a href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#ad6506a3eb2b21be2be42df1f4a3d6f5e">yaze::gui::CanvasGeometry::canvas_p0</a></div><div class="ttdeci">ImVec2 canvas_p0</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00019">canvas_state.h:19</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasGeometry_html_ae51b5b9e7f56f0806f808c00e763f9f0"><div class="ttname"><a href="../../de/ddf/structyaze_1_1gui_1_1CanvasGeometry.html#ae51b5b9e7f56f0806f808c00e763f9f0">yaze::gui::CanvasGeometry::scrolling</a></div><div class="ttdeci">ImVec2 scrolling</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00023">canvas_state.h:23</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasMenuDefinition_html_a03e7fc05d04be16c1fa534aadd090833"><div class="ttname"><a href="../../de/dfa/structyaze_1_1gui_1_1CanvasMenuDefinition.html#a03e7fc05d04be16c1fa534aadd090833">yaze::gui::CanvasMenuDefinition::sections</a></div><div class="ttdeci">std::vector&lt; CanvasMenuSection &gt; sections</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d65/canvas__menu_8h_source.html#l00186">canvas_menu.h:186</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasMenuItem_html"><div class="ttname"><a href="../../dd/d7b/structyaze_1_1gui_1_1CanvasMenuItem.html">yaze::gui::CanvasMenuItem</a></div><div class="ttdoc">Declarative menu item definition.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d65/canvas__menu_8h_source.html#l00063">canvas_menu.h:63</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasMenuSection_html"><div class="ttname"><a href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html">yaze::gui::CanvasMenuSection</a></div><div class="ttdoc">Menu section grouping related menu items.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d65/canvas__menu_8h_source.html#l00147">canvas_menu.h:147</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasMenuSection_html_af943d7c2f9a65c0d85386bc3af8ac0f2"><div class="ttname"><a href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html#af943d7c2f9a65c0d85386bc3af8ac0f2">yaze::gui::CanvasMenuSection::separator_after</a></div><div class="ttdeci">bool separator_after</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d65/canvas__menu_8h_source.html#l00158">canvas_menu.h:158</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasMenuSection_html_afa8d0be879479d38e580e4f75b375fca"><div class="ttname"><a href="../../dc/db5/structyaze_1_1gui_1_1CanvasMenuSection.html#afa8d0be879479d38e580e4f75b375fca">yaze::gui::CanvasMenuSection::priority</a></div><div class="ttdeci">MenuSectionPriority priority</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d65/canvas__menu_8h_source.html#l00161">canvas_menu.h:161</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasSelection_html_a0a0e6bc2dfade1768cafedd61b036788"><div class="ttname"><a href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#a0a0e6bc2dfade1768cafedd61b036788">yaze::gui::CanvasSelection::selected_tile_pos</a></div><div class="ttdeci">ImVec2 selected_tile_pos</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00060">canvas_utils.h:60</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasSelection_html_a662a5c1f704255c79a1c88e67d1ef7fb"><div class="ttname"><a href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#a662a5c1f704255c79a1c88e67d1ef7fb">yaze::gui::CanvasSelection::select_rect_active</a></div><div class="ttdeci">bool select_rect_active</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00061">canvas_utils.h:61</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasSelection_html_ac56a0c5832c16671b0d959909b229bdf"><div class="ttname"><a href="../../d7/d02/structyaze_1_1gui_1_1CanvasSelection.html#ac56a0c5832c16671b0d959909b229bdf">yaze::gui::CanvasSelection::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00063">canvas_utils.h:63</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasState_html_a68c0284b7ec29572c263bebd71fde0b9"><div class="ttname"><a href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#a68c0284b7ec29572c263bebd71fde0b9">yaze::gui::CanvasState::is_hovered</a></div><div class="ttdeci">bool is_hovered</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00060">canvas_state.h:60</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasState_html_a80eaa2f7a27f556bb0ee93ccad895565"><div class="ttname"><a href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#a80eaa2f7a27f556bb0ee93ccad895565">yaze::gui::CanvasState::mouse_pos_in_canvas</a></div><div class="ttdeci">ImVec2 mouse_pos_in_canvas</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00058">canvas_state.h:58</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasState_html_aefc0f73940367615e3e21869a70ff641"><div class="ttname"><a href="../../d7/d19/structyaze_1_1gui_1_1CanvasState.html#aefc0f73940367615e3e21869a70ff641">yaze::gui::CanvasState::geometry</a></div><div class="ttdeci">CanvasGeometry geometry</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d9f/canvas__state_8h_source.html#l00055">canvas_state.h:55</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext_html"><div class="ttname"><a href="../../d5/d10/structyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext.html">yaze::gui::CanvasUtils::CanvasRenderContext</a></div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00165">canvas_utils.h:165</a></div></div>
<div class="ttc" id="astructyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext_html_a7db1571e9647f173cd08cafc7cad0d75"><div class="ttname"><a href="../../d5/d10/structyaze_1_1gui_1_1CanvasUtils_1_1CanvasRenderContext.html#a7db1571e9647f173cd08cafc7cad0d75">yaze::gui::CanvasUtils::CanvasRenderContext::draw_list</a></div><div class="ttdeci">ImDrawList * draw_list</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d39/canvas__utils_8h_source.html#l00166">canvas_utils.h:166</a></div></div>
<div class="ttc" id="astyle_8h_html"><div class="ttname"><a href="../../de/d12/style_8h.html">style.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5194e5fea318fda12687127c23f8aba1.html">app</a></li><li class="navelem"><a class="el" href="../../dir_8fca90320bcc7393a52982c8dc104a2a.html">gui</a></li><li class="navelem"><a class="el" href="../../dir_2e70ebb92041ee9a8b6891199983e337.html">canvas</a></li><li class="navelem"><a class="el" href="../../da/dbb/canvas_8cc.html">canvas.cc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
