<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yaze: z3ed: AI-Powered CLI for YAZE</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../yaze.ico"/></td>
  <td id="projectalign">
   <div id="projectname">yaze<span id="projectnumber">&#160;0.3.1</span>
   </div>
   <div id="projectbrief">Link to the Past ROM Editor</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d3/d63/md_docs_2z3ed_2README.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">z3ed: AI-Powered CLI for YAZE</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1603"></a> <b>Status</b>: Active Development | Test Harness Enhancement Phase</p>
<h1><a class="anchor" id="autotoc_md1604"></a>
Overview</h1>
<p><code>z3ed</code> is a command-line interface for YAZE that enables AI-driven ROM modifications through a proposal-based workflow. It provides both human-accessible commands for developers and machine-readable APIs for LLM integration, forming the backbone of an agentic development ecosystem.</p>
<p><b>Recent Focus</b>: Evolving the ImGuiTestHarness from basic GUI automation into a comprehensive testing platform that serves dual purposes:</p><ol type="1">
<li><b>AI-Driven Workflows</b>: Widget discovery, test introspection, and dynamic interaction learning</li>
<li><b>Traditional GUI Testing</b>: Test recording/replay, CI/CD integration, and regression testing</li>
</ol>
<p><b>ü§ñ Why This Matters</b>: These enhancements are <b>critical for AI agent autonomy</b>. Without them, AI agents can't verify their changes worked (no test polling), discover UI elements dynamically (hardcoded names), learn from demonstrations (no recording), or debug failures (no screenshots). The test harness evolution enables <b>fully autonomous agents</b> that can execute ‚Üí verify ‚Üí self-correct without human intervention.</p>
<p><b>üìã Implementation Status</b>: Core infrastructure complete (Phases 1-6, AW-01 to AW-04, IT-01 to IT-04). Currently in <b>Test Harness Enhancement Phase</b> (IT-05 to IT-09). See IMPLEMENTATION_CONTINUATION.md for the detailed roadmap and LLM integration plans (Ollama, Gemini, Claude).</p>
<p>This directory contains the primary documentation for the <code>z3ed</code> system.</p>
<p><b>üìã Documentation Status</b>: Consolidated (Oct 2, 2025) - 10 core files, 6,547 lines</p>
<h1><a class="anchor" id="autotoc_md1605"></a>
Core Documentation</h1>
<p>Start here to understand the architecture, learn how to use the commands, and see the current development status.</p>
<ol type="1">
<li><b><a class="el" href="../../d5/dc5/md_docs_2z3ed_2E6-z3ed-cli-design.html">E6-z3ed-cli-design.md</a></b> - <b>Design &amp; Architecture</b><ul>
<li>The "source of truth" for the system's architecture, design goals, and the agentic workflow framework. Read this first to understand <em>why</em> the system is built the way it is.</li>
</ul>
</li>
<li><b><a class="el" href="../../db/dbf/md_docs_2z3ed_2E6-z3ed-reference.html">E6-z3ed-reference.md</a></b> - <b>Technical Reference &amp; Guides</b><ul>
<li>A complete command reference, API documentation, implementation guides, and troubleshooting tips. Use this as your day-to-day manual for working with <code>z3ed</code>.</li>
</ul>
</li>
<li><b><a class="el" href="../../df/da9/md_docs_2z3ed_2E6-z3ed-implementation-plan.html">E6-z3ed-implementation-plan.md</a></b> - <b>Roadmap &amp; Status</b><ul>
<li>The project's task backlog, roadmap, progress tracking, and a list of known issues. Check this document for current priorities and to see what's next.</li>
</ul>
</li>
<li><b>IMPLEMENTATION_CONTINUATION.md</b> - <b>Current Phase &amp; Next Steps</b> ‚≠ê<ul>
<li>Detailed continuation plan for test harness enhancements (IT-05 to IT-09). Start here to resume implementation with clear task breakdowns and success criteria.</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md1606"></a>
Quick Start</h1>
<h2><a class="anchor" id="autotoc_md1607"></a>
Build z3ed</h2>
<div class="fragment"><div class="line"># Basic build (without GUI automation support)</div>
<div class="line">cmake --build build --target z3ed</div>
<div class="line"> </div>
<div class="line"># Build with gRPC support (for GUI automation)</div>
<div class="line">cmake -B build-grpc-test -DYAZE_WITH_GRPC=ON</div>
<div class="line">cmake --build build-grpc-test --target z3ed</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1608"></a>
Common Commands</h2>
<div class="fragment"><div class="line"># Create an agent proposal in a safe sandbox</div>
<div class="line">z3ed agent run --prompt &quot;Make all soldier armor red&quot; --rom=zelda3.sfc --sandbox</div>
<div class="line"> </div>
<div class="line"># List all active and past proposals</div>
<div class="line">z3ed agent list</div>
<div class="line"> </div>
<div class="line"># View the changes for the latest proposal</div>
<div class="line">z3ed agent diff</div>
<div class="line"> </div>
<div class="line"># Run an automated GUI test (requires test harness to be running)</div>
<div class="line">z3ed agent test --prompt &quot;Open the Overworld editor and verify it loads&quot;</div>
<div class="line"> </div>
<div class="line"># Discover available GUI widgets for AI interaction</div>
<div class="line">z3ed agent gui discover --window &quot;Overworld&quot; --type button</div>
<div class="line"> </div>
<div class="line"># Record a test session for regression testing</div>
<div class="line">z3ed agent test record start --output tests/overworld_load.json</div>
<div class="line"># ... perform actions ...</div>
<div class="line">z3ed agent test record stop</div>
<div class="line"> </div>
<div class="line"># Replay recorded test</div>
<div class="line">z3ed agent test replay tests/overworld_load.json</div>
<div class="line"> </div>
<div class="line"># Query test execution status</div>
<div class="line">z3ed agent test status --test-id grpc_click_12345678 --follow</div>
</div><!-- fragment --><p>See the <b><a class="el" href="../../db/dbf/md_docs_2z3ed_2E6-z3ed-reference.html">Technical Reference</a></b> for a full command list.</p>
<h1><a class="anchor" id="autotoc_md1609"></a>
Recent Enhancements</h1>
<p><b>Recent Progress (Oct 3, 2025)</b></p><ul>
<li>‚úÖ IT-09 CLI Test Suite Tooling Complete: run/validate/create commands + JUnit output<ul>
<li>Full suite runner with group/tag filters, parametrization, retries, and CI-friendly exit codes</li>
<li>Interactive <code>agent test suite create</code> scaffolds YAML definitions in <code>tests/</code></li>
<li>Default JUnit reports under <code>test-results/junit/</code> for CI upload</li>
</ul>
</li>
<li>‚úÖ IT-08 Enhanced Error Reporting Complete: Full diagnostic capture on test failures<ul>
<li>IT-08a: Screenshot RPC with SDL capture (BMP format, 1536x864)</li>
<li>IT-08b: Auto-capture execution context on failures (frame, window, widget)</li>
<li>IT-08c: Widget state dumps with comprehensive UI snapshot (JSON format)</li>
<li>Proto schema supports screenshot_path, failure_context, and widget_state</li>
<li>GetTestResults RPC returns full failure diagnostics for debugging</li>
</ul>
</li>
<li>‚úÖ IT-05 Implementation Complete: Test introspection API fully operational<ul>
<li>GetTestStatus, ListTests, and GetTestResults RPCs implemented and tested</li>
<li>CLI commands (<code>z3ed agent test {status,list,results}</code>) fully functional</li>
<li>E2E validation script confirms production readiness</li>
<li>Thread-safe execution history with bounded memory management</li>
</ul>
</li>
<li>‚úÖ IT-08a Screenshot RPC Complete: Visual debugging now available<ul>
<li>SDL-based screenshot capture implemented (1536x864 BMP format)</li>
<li>Successfully tested via gRPC (5.3MB output files)</li>
<li>Foundation for auto-capture on test failures</li>
<li>AI agents can now capture visual context for debugging</li>
</ul>
</li>
<li>‚úÖ IT-07 Test Recording &amp; Replay Complete: Regression testing workflow operational</li>
<li>‚úÖ Server-side wiring for test lifecycle tracking inside <code>TestManager</code></li>
<li>‚úÖ gRPC status mapping helper to surface accurate error codes back to clients</li>
<li>‚úÖ CLI integration with YAML/JSON output formats</li>
<li>‚úÖ End-to-end introspection tests with comprehensive validation</li>
</ul>
<p><b>Next Priority</b>: IT-08b (Auto-capture on failure) + IT-08c (Widget state dumps) to complete enhanced error reporting</p>
<p><b>Test Harness Evolution</b> (In Progress: IT-05 to IT-09 | 78% Complete):</p><ul>
<li><b>Test Introspection</b>: ‚úÖ Query test status, results, and execution history</li>
<li><b>Widget Discovery</b>: ‚úÖ AI agents can enumerate available GUI interactions dynamically</li>
<li><b>Test Recording</b>: ‚úÖ Capture manual workflows as JSON scripts for regression testing</li>
<li><b>Enhanced Debugging</b>: üîÑ Screenshot capture (‚úÖ IT-08a), widget state dumps (üìã IT-08c), execution context on failures (üìã IT-08b)</li>
<li><b>CI/CD Integration</b>: üìã Standardized test suite format with JUnit XML output</li>
</ul>
<p>See <b><a href="../../E6-z3ed-cli-design.md#9-test-harness-evolution-from-automation-to-platform">E6-z3ed-cli-design.md ¬ß 9</a></b> for detailed architecture and implementation roadmap.</p>
<h1><a class="anchor" id="autotoc_md1610"></a>
Quick Navigation</h1>
<p><b>üìñ Getting Started</b>:</p><ul>
<li><b>New to z3ed?</b> Start with this <a class="el" href="../../d0/d30/md_README.html">README.md</a> then <a class="el" href="../../d5/dc5/md_docs_2z3ed_2E6-z3ed-cli-design.html">E6-z3ed-cli-design.md</a></li>
<li><b>Want to use z3ed?</b> See <a class="el" href="../../dd/d83/md_docs_2z3ed_2QUICK__REFERENCE.html">QUICK_REFERENCE.md</a> for all commands</li>
</ul>
<p><b>üîß Implementation Guides</b>:</p><ul>
<li><a class="el" href="../../d5/d3d/md_docs_2z3ed_2IT-05-IMPLEMENTATION-GUIDE.html">IT-05-IMPLEMENTATION-GUIDE.md</a> - Test Introspection API (complete ‚úÖ)</li>
<li><a class="el" href="../../d4/db6/md_docs_2z3ed_2IT-08-IMPLEMENTATION-GUIDE.html">IT-08-IMPLEMENTATION-GUIDE.md</a> - Enhanced Error Reporting (in progress üîÑ)</li>
<li>IMPLEMENTATION_CONTINUATION.md - Detailed continuation plan for current phase</li>
</ul>
<p><b>üìö Reference</b>:</p><ul>
<li><a class="el" href="../../db/dbf/md_docs_2z3ed_2E6-z3ed-reference.html">E6-z3ed-reference.md</a> - Technical reference and API docs</li>
<li><a class="el" href="../../df/da9/md_docs_2z3ed_2E6-z3ed-implementation-plan.html">E6-z3ed-implementation-plan.md</a> - Task backlog and roadmap</li>
<li><a class="el" href="../../dd/d83/md_docs_2z3ed_2QUICK__REFERENCE.html">QUICK_REFERENCE.md</a> - Quick command reference </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
