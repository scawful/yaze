<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yaze: C3 - z3ed Agent Architecture Guide</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../yaze.ico"/></td>
  <td id="projectalign">
   <div id="projectname">yaze<span id="projectnumber">&#160;0.3.2</span>
   </div>
   <div id="projectbrief">Link to the Past ROM Editor</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/d7e/md_docs_2C3-agent-architecture.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">C3 - z3ed Agent Architecture Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md436"></a> <b>Date</b>: October 12, 2025 <br  />
 <b>Version</b>: v0.2.2-alpha <br  />
 <b>Status</b>: Core Features Integrated</p>
<h1><a class="anchor" id="autotoc_md437"></a>
Overview</h1>
<p>This guide documents the architecture of the z3ed AI agent system, including learned knowledge, TODO management, advanced routing, pretraining, and agent handoff capabilities.</p>
<h1><a class="anchor" id="autotoc_md438"></a>
Architecture Overview</h1>
<div class="fragment"><div class="line">┌───────────────────────────────────────────────────────────────┐</div>
<div class="line">│              User / AI Agent                                   │</div>
<div class="line">└────────────┬──────────────────────────────────────────────────┘</div>
<div class="line">             │</div>
<div class="line">             │ z3ed CLI commands</div>
<div class="line">             │</div>
<div class="line">┌────────────▼──────────────────────────────────────────────────┐</div>
<div class="line">│         CLI Command Router (agent.cc)                          │</div>
<div class="line">│                                                                │</div>
<div class="line">│  Routes to:                                                    │</div>
<div class="line">│  ├─ agent simple-chat    → SimpleChatCommand                  │</div>
<div class="line">│  ├─ agent learn          → HandleLearnCommand                 │</div>
<div class="line">│  ├─ agent todo           → HandleTodoCommand                  │</div>
<div class="line">│  ├─ agent test           → HandleTestCommand                  │</div>
<div class="line">│  ├─ agent plan/run/diff  → Proposal system                    │</div>
<div class="line">│  └─ emulator-*           → EmulatorCommandHandler             │</div>
<div class="line">└───────────┬───────────────────────────────────────────────────┘</div>
<div class="line">            │</div>
<div class="line">┌───────────▼───────────────────────────────────────────────────┐</div>
<div class="line">│      ConversationalAgentService                                │</div>
<div class="line">│                                                                │</div>
<div class="line">│  Integrates:                                                   │</div>
<div class="line">│  ├─ LearnedKnowledgeService  (preferences, patterns, memory)  │</div>
<div class="line">│  ├─ TodoManager              (task tracking, dependencies)    │</div>
<div class="line">│  ├─ AdvancedRouter           (response enhancement)           │</div>
<div class="line">│  ├─ AgentPretraining         (knowledge injection)            │</div>
<div class="line">│  └─ ToolDispatcher           (command execution)              │</div>
<div class="line">└────────────┬──────────────────────────────────────────────────┘</div>
<div class="line">             │</div>
<div class="line">┌────────────▼──────────────────────────────────────────────────┐</div>
<div class="line">│         Tool Dispatcher                                        │</div>
<div class="line">│                                                                │</div>
<div class="line">│  Routes tool calls to:                                         │</div>
<div class="line">│  ├─ Resource Commands   (dungeon, overworld, sprites)         │</div>
<div class="line">│  ├─ Emulator Commands   (breakpoints, memory, step)           │</div>
<div class="line">│  ├─ GUI Commands        (automation, screenshots)             │</div>
<div class="line">│  └─ Custom Tools        (extensible via CommandHandler)       │</div>
<div class="line">└────────────┬──────────────────────────────────────────────────┘</div>
<div class="line">             │</div>
<div class="line">┌────────────▼──────────────────────────────────────────────────┐</div>
<div class="line">│      Command Handlers (CommandHandler base class)              │</div>
<div class="line">│                                                                │</div>
<div class="line">│  Unified pattern:                                              │</div>
<div class="line">│  1. Parse arguments (ArgumentParser)                           │</div>
<div class="line">│  2. Get ROM context (CommandContext)                           │</div>
<div class="line">│  3. Execute business logic                                     │</div>
<div class="line">│  4. Format output (OutputFormatter)                            │</div>
<div class="line">└────────────┬──────────────────────────────────────────────────┘</div>
<div class="line">             │</div>
<div class="line">┌────────────▼──────────────────────────────────────────────────┐</div>
<div class="line">│      Persistent Storage                                        │</div>
<div class="line">│                                                                │</div>
<div class="line">│  ~/.yaze/agent/                                                │</div>
<div class="line">│  ├─ preferences.json     (user preferences)                    │</div>
<div class="line">│  ├─ patterns.json        (learned ROM patterns)                │</div>
<div class="line">│  ├─ projects.json        (project contexts)                    │</div>
<div class="line">│  ├─ memories.json        (conversation summaries)              │</div>
<div class="line">│  ├─ todos.json           (task management)                     │</div>
<div class="line">│  └─ sessions/            (collaborative chat history)          │</div>
<div class="line">└────────────────────────────────────────────────────────────────┘</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md439"></a>
Feature 1: Learned Knowledge Service</h1>
<h2><a class="anchor" id="autotoc_md440"></a>
What It Does</h2>
<p>Persists information across agent sessions:</p><ul>
<li><b>Preferences</b>: User's default settings (palette, tool choices)</li>
<li><b>ROM Patterns</b>: Learned behaviors (frequently accessed rooms, sprite patterns)</li>
<li><b>Project Context</b>: ROM-specific goals and notes</li>
<li><b>Conversation Memory</b>: Summaries of past discussions for continuity</li>
</ul>
<h2><a class="anchor" id="autotoc_md441"></a>
Integration Status:  Complete</h2>
<p><b>Files</b>:</p><ul>
<li><code>cli/service/agent/learned_knowledge_service.{h,cc}</code> - Core service</li>
<li><code><a class="el" href="../../d9/d8d/general__commands_8cc.html">cli/handlers/agent/general_commands.cc</a></code> - CLI handlers</li>
<li><code><a class="el" href="../../d2/d0e/agent_8cc.html">cli/handlers/agent.cc</a></code> - Routing</li>
</ul>
<h2><a class="anchor" id="autotoc_md442"></a>
Usage Examples</h2>
<div class="fragment"><div class="line"># Save preference</div>
<div class="line">z3ed agent learn --preference default_palette=2</div>
<div class="line"> </div>
<div class="line"># Get preference</div>
<div class="line">z3ed agent learn --get-preference default_palette</div>
<div class="line"> </div>
<div class="line"># Save project context</div>
<div class="line">z3ed agent learn --project &quot;myrom&quot; --context &quot;Vanilla+ difficulty hack&quot;</div>
<div class="line"> </div>
<div class="line"># Get project details</div>
<div class="line">z3ed agent learn --get-project &quot;myrom&quot;</div>
<div class="line"> </div>
<div class="line"># Search past conversations</div>
<div class="line">z3ed agent learn --search-memories &quot;dungeon room 5&quot;</div>
<div class="line"> </div>
<div class="line"># Export all learned data</div>
<div class="line">z3ed agent learn --export learned_data.json</div>
<div class="line"> </div>
<div class="line"># View statistics</div>
<div class="line">z3ed agent learn --stats</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md443"></a>
AI Agent Integration</h2>
<p>The ConversationalAgentService now:</p><ol type="1">
<li>Initializes <code>LearnedKnowledgeService</code> on startup</li>
<li>Can inject learned context into prompts (when <code>inject_learned_context_=true</code>)</li>
<li>Can access preferences/patterns/memories during tool execution</li>
</ol>
<p><b>API</b>: </p><div class="fragment"><div class="line">ConversationalAgentService service;</div>
<div class="line">service.learned_knowledge().SetPreference(<span class="stringliteral">&quot;palette&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> pref = service.learned_knowledge().GetPreference(<span class="stringliteral">&quot;palette&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md444"></a>
Data Persistence</h2>
<p><b>Location</b>: <code>~/.yaze/agent/</code> <br  />
 <b>Format</b>: JSON <br  />
 <b>Files</b>:</p><ul>
<li><code>preferences.json</code> - Key-value pairs</li>
<li><code>patterns.json</code> - Timestamped ROM patterns with confidence scores</li>
<li><code>projects.json</code> - Project metadata and context</li>
<li><code>memories.json</code> - Conversation summaries (last 100)</li>
</ul>
<h2><a class="anchor" id="autotoc_md445"></a>
Current Integration</h2>
<ul>
<li><code>cli/service/agent/learned_knowledge_service.{h,cc}</code> is constructed inside <code>ConversationalAgentService</code>.</li>
<li>CLI commands such as <code>z3ed agent learn …</code> and <code>agent recall …</code> exercise this API.</li>
<li>JSON artifacts persist under <code>~/.yaze/agent/</code>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md446"></a>
Feature 2: TODO Management System</h1>
<h2><a class="anchor" id="autotoc_md447"></a>
What It Does</h2>
<p>Enables AI agents to break down complex tasks into executable steps with dependency tracking and prioritization.</p>
<h2><a class="anchor" id="autotoc_md448"></a>
Current Integration</h2>
<ul>
<li>Core service in <code>cli/service/agent/todo_manager.{h,cc}</code>.</li>
<li>CLI routing in <code>cli/handlers/agent/todo_commands.{h,cc}</code> and <code><a class="el" href="../../d2/d0e/agent_8cc.html">cli/handlers/agent.cc</a></code>.</li>
<li>JSON storage at <code>~/.yaze/agent/todos.json</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md449"></a>
Usage Examples</h2>
<div class="fragment"><div class="line"># Create TODO</div>
<div class="line">z3ed agent todo create &quot;Fix input handling&quot; --category=emulator --priority=1</div>
<div class="line"> </div>
<div class="line"># List TODOs</div>
<div class="line">z3ed agent todo list</div>
<div class="line"> </div>
<div class="line"># Filter by status</div>
<div class="line">z3ed agent todo list --status=in_progress</div>
<div class="line"> </div>
<div class="line"># Update status</div>
<div class="line">z3ed agent todo update 1 --status=completed</div>
<div class="line"> </div>
<div class="line"># Get next actionable task</div>
<div class="line">z3ed agent todo next</div>
<div class="line"> </div>
<div class="line"># Generate dependency-aware execution plan</div>
<div class="line">z3ed agent todo plan</div>
<div class="line"> </div>
<div class="line"># Clear completed</div>
<div class="line">z3ed agent todo clear-completed</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md450"></a>
AI Agent Integration</h2>
<div class="fragment"><div class="line">ConversationalAgentService service;</div>
<div class="line">service.todo_manager().CreateTodo(<span class="stringliteral">&quot;Debug A button&quot;</span>, <span class="stringliteral">&quot;emulator&quot;</span>, 1);</div>
<div class="line"><span class="keyword">auto</span> next = service.todo_manager().GetNextActionableTodo();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md451"></a>
Storage</h2>
<p><b>Location</b>: <code>~/.yaze/agent/todos.json</code> <br  />
 <b>Format</b>: JSON array with dependencies: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;todos&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;id&quot;: &quot;1&quot;,</div>
<div class="line">      &quot;description&quot;: &quot;Debug input handling&quot;,</div>
<div class="line">      &quot;status&quot;: &quot;in_progress&quot;,</div>
<div class="line">      &quot;category&quot;: &quot;emulator&quot;,</div>
<div class="line">      &quot;priority&quot;: 1,</div>
<div class="line">      &quot;dependencies&quot;: [],</div>
<div class="line">      &quot;tools_needed&quot;: [&quot;emulator-set-breakpoint&quot;, &quot;emulator-read-memory&quot;]</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md452"></a>
Feature 3: Advanced Routing</h1>
<h2><a class="anchor" id="autotoc_md453"></a>
What It Does</h2>
<p>Optimizes tool responses for AI consumption with:</p><ul>
<li><b>Data type inference</b> (sprite data vs tile data vs palette)</li>
<li><b>Pattern extraction</b> (repeating values, structures)</li>
<li><b>Structured summaries</b> (high-level + detailed + next steps)</li>
<li><b>GUI action generation</b> (converts analysis → automation script)</li>
</ul>
<h2><a class="anchor" id="autotoc_md454"></a>
Status</h2>
<ul>
<li>Implementation lives in <code>cli/service/agent/advanced_routing.{h,cc}</code> and is compiled via <code>cli/agent.cmake</code>.</li>
<li>Hook-ups to <code>ToolDispatcher</code> / <code>ConversationalAgentService</code> remain on the backlog.</li>
</ul>
<h2><a class="anchor" id="autotoc_md455"></a>
How to Integrate</h2>
<p><b>Option 1: In ToolDispatcher (Automatic)</b> </p><div class="fragment"><div class="line"><span class="comment">// In tool_dispatcher.cc, after tool execution:</span></div>
<div class="line"><span class="keyword">auto</span> result = handler-&gt;Run(args, rom_context_);</div>
<div class="line"><span class="keywordflow">if</span> (result.ok()) {</div>
<div class="line">  std::string output = output_buffer.str();</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Route through advanced router for enhanced response</span></div>
<div class="line">  AdvancedRouter::RouteContext ctx;</div>
<div class="line">  ctx.rom = rom_context_;</div>
<div class="line">  ctx.tool_calls_made = {call.tool_name};</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (call.tool_name == <span class="stringliteral">&quot;hex-read&quot;</span>) {</div>
<div class="line">    <span class="keyword">auto</span> routed = AdvancedRouter::RouteHexAnalysis(data, address, ctx);</div>
<div class="line">    <span class="keywordflow">return</span> absl::StrCat(routed.summary, <span class="stringliteral">&quot;\n\n&quot;</span>, routed.detailed_data);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">return</span> output;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Option 2: In ConversationalAgentService (Selective)</b> </p><div class="fragment"><div class="line"><span class="comment">// After getting tool results, enhance the response:</span></div>
<div class="line">ChatMessage ConversationalAgentService::EnhanceResponse(</div>
<div class="line">    <span class="keyword">const</span> ChatMessage&amp; response, </div>
<div class="line">    <span class="keyword">const</span> std::string&amp; user_message) {</div>
<div class="line">  </div>
<div class="line">  AdvancedRouter::RouteContext ctx;</div>
<div class="line">  ctx.rom = rom_context_;</div>
<div class="line">  ctx.user_intent = user_message;</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Use advanced router to synthesize multi-tool responses</span></div>
<div class="line">  <span class="keyword">auto</span> routed = AdvancedRouter::SynthesizeMultiToolResponse(</div>
<div class="line">      tool_results_, ctx);</div>
<div class="line">  </div>
<div class="line">  ChatMessage enhanced = response;</div>
<div class="line">  enhanced.message = routed.summary;</div>
<div class="line">  <span class="comment">// Attach routed.gui_actions as metadata</span></div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">return</span> enhanced;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md456"></a>
Feature 4: Agent Pretraining</h1>
<h2><a class="anchor" id="autotoc_md457"></a>
What It Does</h2>
<p>Injects structured knowledge into the agent's first message to teach it about:</p><ul>
<li>ROM structure (memory map, data formats)</li>
<li>Hex analysis patterns (how to recognize sprites, tiles, palettes)</li>
<li>Map editing workflows (tile placement, warp creation)</li>
<li>Tool usage best practices</li>
</ul>
<h2><a class="anchor" id="autotoc_md458"></a>
Status</h2>
<ul>
<li>Pretraining scaffolding (<code>cli/service/agent/agent_pretraining.{h,cc}</code>) builds today.</li>
<li>The one-time injection step in <code>ConversationalAgentService</code> is still disabled.</li>
</ul>
<h2><a class="anchor" id="autotoc_md459"></a>
How to Integrate</h2>
<p><b>In ConversationalAgentService::SendMessage()</b>: </p><div class="fragment"><div class="line">absl::StatusOr&lt;ChatMessage&gt; ConversationalAgentService::SendMessage(</div>
<div class="line">    <span class="keyword">const</span> std::string&amp; message) {</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// One-time pretraining injection on first message</span></div>
<div class="line">  <span class="keywordflow">if</span> (inject_pretraining_ &amp;&amp; !pretraining_injected_ &amp;&amp; rom_context_) {</div>
<div class="line">    std::string pretraining = AgentPretraining::GeneratePretrainingPrompt(rom_context_);</div>
<div class="line">    </div>
<div class="line">    ChatMessage pretraining_msg;</div>
<div class="line">    pretraining_msg.sender = ChatMessage::Sender::kUser;</div>
<div class="line">    pretraining_msg.message = pretraining;</div>
<div class="line">    pretraining_msg.is_internal = <span class="keyword">true</span>;  <span class="comment">// Don&#39;t show to user</span></div>
<div class="line">    </div>
<div class="line">    history_.insert(history_.begin(), pretraining_msg);</div>
<div class="line">    pretraining_injected_ = <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Continue with normal message processing...</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md460"></a>
Knowledge Modules</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span> modules = AgentPretraining::GetModules();</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; module : modules) {</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Module: &quot;</span> &lt;&lt; <span class="keyword">module</span>.name &lt;&lt; std::endl;</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Required: &quot;</span> &lt;&lt; (<span class="keyword">module</span>.required ? &quot;Yes&quot; : &quot;No&quot;) &lt;&lt; std::endl;</div>
<div class="line">  std::cout &lt;&lt; <span class="keyword">module</span>.content &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Modules include:</p><ul>
<li><code>rom_structure</code> - Memory map, data formats</li>
<li><code>hex_analysis</code> - Pattern recognition for sprites/tiles/palettes</li>
<li><code>map_editing</code> - Overworld/dungeon editing workflows</li>
<li><code>tool_usage</code> - Best practices for tool calling</li>
</ul>
<h1><a class="anchor" id="autotoc_md461"></a>
Feature 5: Agent Handoff</h1>
<p>Handoff covers CLI ↔ GUI transfers, specialised agent delegation, and human/AI ownership changes. The proposed <code>HandoffContext</code> structure (see code listing earlier) captures conversation history, ROM state, TODOs, and transient tool data. Serialization, cross-surface loading, and persona-specific workflows remain unimplemented.</p>
<h1><a class="anchor" id="autotoc_md462"></a>
Current Integration Snapshot</h1>
<p>Integrated components:</p><ul>
<li>Learned knowledge service (<code>cli/service/agent/learned_knowledge_service.{h,cc}</code>) with CLI commands and JSON persistence under <code>~/.yaze/agent/</code>.</li>
<li>TODO manager (<code>cli/service/agent/todo_manager.{h,cc}</code> plus CLI handlers) with storage at <code>~/.yaze/agent/todos.json</code>.</li>
<li>Emulator debugging gRPC service; 20 of 24 methods are implemented (see <code><a class="el" href="../../d7/d64/E9-ai-agent-debugging-guide_8md.html">E9-ai-agent-debugging-guide.md</a></code>).</li>
</ul>
<p>Pending integration:</p><ul>
<li>Advanced router (<code>cli/service/agent/advanced_routing.{h,cc}</code>) needs wiring into <code>ToolDispatcher</code> or <code>ConversationalAgentService</code>.</li>
<li>Agent pretraining (<code>cli/service/agent/agent_pretraining.{h,cc}</code>) needs the one-time injection path enabled.</li>
<li>Handoff serialization and import/export tooling are still design-only.</li>
</ul>
<h1><a class="anchor" id="autotoc_md463"></a>
References</h1>
<ul>
<li><b>Main CLI Guide</b>: <a class="el" href="../../d8/d73/C1-z3ed-agent-guide_8md.html">C1-z3ed-agent-guide.md</a></li>
<li><b>Debugging Guide</b>: <a class="el" href="../../d7/d64/E9-ai-agent-debugging-guide_8md.html">E9-ai-agent-debugging-guide.md</a></li>
<li><b>Changelog</b>: <a class="el" href="../../d8/d48/H1-changelog_8md.html">H1-changelog.md</a> (v0.2.2 section)</li>
<li><b>Learned Knowledge</b>: <code>cli/service/agent/learned_knowledge_service.{h,cc}</code></li>
<li><b>TODO Manager</b>: <code>cli/service/agent/todo_manager.{h,cc}</code></li>
<li><b>Advanced Routing</b>: <code>cli/service/agent/advanced_routing.{h,cc}</code></li>
<li><b>Pretraining</b>: <code>cli/service/agent/agent_pretraining.{h,cc}</code></li>
<li><b>Agent Service</b>: <code>cli/service/agent/conversational_agent_service.{h,cc}</code></li>
</ul>
<hr  />
<p><b>Last Updated</b>: October 12, 2025 <br  />
 <b>In progress</b>: Context injection for pretraining, advanced routing integration, agent handoff implementation. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
