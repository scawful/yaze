<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yaze: z3ed CLI Technical Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../yaze.ico"/></td>
  <td id="projectalign">
   <div id="projectname">yaze<span id="projectnumber">&#160;0.3.1</span>
   </div>
   <div id="projectbrief">Link to the Past ROM Editor</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/dbf/md_docs_2z3ed_2E6-z3ed-reference.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">z3ed CLI Technical Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1283"></a> <b>Version</b>: 0.1.0-alpha <br  />
 <b>Last Updated</b>: [Current Date] <br  />
 <b>Status</b>: Production Ready (macOS), Windows Testing Pending</p>
<hr  />
<h1><a class="anchor" id="autotoc_md1285"></a>
Table of Contents</h1>
<ol type="1">
<li>Architecture Overview</li>
<li>Command Reference</li>
<li>Implementation Guide</li>
<li>Testing &amp; Validation</li>
<li>Development Workflows</li>
<li>Troubleshooting</li>
<li>API Reference</li>
<li>Platform Notes</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md1287"></a>
Architecture Overview</h1>
<h2><a class="anchor" id="autotoc_md1288"></a>
System Components</h2>
<div class="fragment"><div class="line">┌─────────────────────────────────────────────────────────┐</div>
<div class="line">│ AI Agent Layer (LLM)                                     │</div>
<div class="line">│  └─ Natural language prompts                            │</div>
<div class="line">└────────────────────┬────────────────────────────────────┘</div>
<div class="line">                     │</div>
<div class="line">┌────────────────────▼────────────────────────────────────┐</div>
<div class="line">│ z3ed CLI (Command-Line Interface)                       │</div>
<div class="line">│  ├─ agent run --prompt &quot;...&quot; --sandbox                  │</div>
<div class="line">│  ├─ agent test --prompt &quot;...&quot; (IT-02)                   │</div>
<div class="line">│  ├─ agent list                                          │</div>
<div class="line">│  ├─ agent diff --proposal-id &lt;id&gt;                       │</div>
<div class="line">│  ├─ agent describe [--resource &lt;name&gt;]                  │</div>
<div class="line">│  ├─ rom info/validate/diff/generate-golden             │</div>
<div class="line">│  ├─ palette export/import/list                          │</div>
<div class="line">│  ├─ overworld get-tile/find-tile/set-tile               │</div>
<div class="line">│  └─ dungeon list-rooms/add-object                       │</div>
<div class="line">└────────────────────┬────────────────────────────────────┘</div>
<div class="line">                     │</div>
<div class="line">┌────────────────────▼────────────────────────────────────┐</div>
<div class="line">│ Service Layer (Singleton Services)                      │</div>
<div class="line">│  ├─ ProposalRegistry (proposal tracking)                │</div>
<div class="line">│  ├─ RomSandboxManager (isolated ROM copies)             │</div>
<div class="line">│  ├─ ResourceCatalog (machine-readable API specs)        │</div>
<div class="line">│  ├─ GuiAutomationClient (gRPC wrapper)                  │</div>
<div class="line">│  ├─ TestWorkflowGenerator (NL → test steps)             │</div>
<div class="line">│  └─ PolicyEvaluator (YAML constraints) [Planned]        │</div>
<div class="line">└────────────────────┬────────────────────────────────────┘</div>
<div class="line">                     │</div>
<div class="line">┌────────────────────▼────────────────────────────────────┐</div>
<div class="line">│ ImGuiTestHarness (gRPC Server)                          │</div>
<div class="line">│  ├─ Ping (health check)                                 │</div>
<div class="line">│  ├─ Click (button, menu, tab)                           │</div>
<div class="line">│  ├─ Type (text input)                                   │</div>
<div class="line">│  ├─ Wait (condition polling)                            │</div>
<div class="line">│  ├─ Assert (state validation)                           │</div>
<div class="line">│  ├─ Screenshot (capture) [Stub → IT-08]                 │</div>
<div class="line">│  ├─ GetTestStatus (query test execution) [IT-05]        │</div>
<div class="line">│  ├─ ListTests (enumerate tests) [IT-05]                 │</div>
<div class="line">│  ├─ GetTestResults (detailed results) [IT-05]           │</div>
<div class="line">│  ├─ DiscoverWidgets (widget enumeration) [IT-06]        │</div>
<div class="line">│  ├─ StartRecording (test recording) [IT-07]             │</div>
<div class="line">│  ├─ StopRecording (finish recording) [IT-07]            │</div>
<div class="line">│  └─ ReplayTest (execute test script) [IT-07]            │</div>
<div class="line">└────────────────────┬────────────────────────────────────┘</div>
<div class="line">                     │</div>
<div class="line">┌────────────────────▼────────────────────────────────────┐</div>
<div class="line">│ YAZE GUI (ImGui Application)                            │</div>
<div class="line">│  ├─ ProposalDrawer (Debug → Agent Proposals)            │</div>
<div class="line">│  │   ├─ List/detail views                               │</div>
<div class="line">│  │   ├─ Accept/Reject/Delete                            │</div>
<div class="line">│  │   └─ ROM merging                                     │</div>
<div class="line">│  └─ Editor Windows                                      │</div>
<div class="line">│      ├─ Overworld Editor                                │</div>
<div class="line">│      ├─ Dungeon Editor                                  │</div>
<div class="line">│      ├─ Palette Editor                                  │</div>
<div class="line">│      └─ Graphics Editor                                 │</div>
<div class="line">└─────────────────────────────────────────────────────────┘</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1289"></a>
Data Flow: Proposal Lifecycle</h2>
<div class="fragment"><div class="line">User: z3ed agent run &quot;Make soldiers red&quot; --sandbox</div>
<div class="line">         │</div>
<div class="line">         ▼</div>
<div class="line">┌────────────────────────┐</div>
<div class="line">│ MockAIService          │ → [&quot;palette export sprites_aux1 4 soldier.col&quot;]</div>
<div class="line">└────────┬───────────────┘</div>
<div class="line">         │</div>
<div class="line">         ▼</div>
<div class="line">┌────────────────────────┐</div>
<div class="line">│ RomSandboxManager      │ → Creates: /tmp/.../sandboxes/20251002T100000/zelda3.sfc</div>
<div class="line">└────────┬───────────────┘</div>
<div class="line">         │</div>
<div class="line">         ▼</div>
<div class="line">┌────────────────────────┐</div>
<div class="line">│ Execute Commands       │ → Runs: palette export on sandbox ROM</div>
<div class="line">└────────┬───────────────┘</div>
<div class="line">         │</div>
<div class="line">         ▼</div>
<div class="line">┌────────────────────────┐</div>
<div class="line">│ ProposalRegistry       │ → Creates: proposal-20251002T100000/</div>
<div class="line">│                        │   • execution.log</div>
<div class="line">│                        │   • diff.txt (if generated)</div>
<div class="line">└────────┬───────────────┘</div>
<div class="line">         │</div>
<div class="line">         ▼ (User opens YAZE GUI)</div>
<div class="line">┌────────────────────────┐</div>
<div class="line">│ ProposalDrawer         │ → Displays: List of proposals</div>
<div class="line">└────────┬───────────────┘</div>
<div class="line">         │</div>
<div class="line">         ▼ (User clicks &quot;Accept&quot;)</div>
<div class="line">┌────────────────────────┐</div>
<div class="line">│ AcceptProposal()       │ → 1. Load sandbox ROM</div>
<div class="line">│                        │   2. rom_-&gt;WriteVector(0, sandbox_rom.vector())</div>
<div class="line">│                        │   3. ROM marked dirty</div>
<div class="line">│                        │   4. User saves ROM</div>
<div class="line">└────────────────────────┘</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1291"></a>
Command Reference</h1>
<h2><a class="anchor" id="autotoc_md1292"></a>
Agent Commands</h2>
<h3><a class="anchor" id="autotoc_md1293"></a>
&lt;tt&gt;agent run&lt;/tt&gt; - Execute AI-driven ROM modifications</h3>
<div class="fragment"><div class="line">z3ed agent run --prompt &quot;&lt;description&gt;&quot; --rom &lt;file&gt; [--sandbox]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --prompt &lt;text&gt;    Natural language description of desired changes</div>
<div class="line">  --rom &lt;file&gt;       Path to ROM file (default: current ROM)</div>
<div class="line">  --sandbox          Create isolated copy for testing (recommended)</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent run --prompt &quot;Change soldier armor to red&quot; \</div>
<div class="line">    --rom=zelda3.sfc --sandbox</div>
</div><!-- fragment --><p><b>Output</b>:</p><ul>
<li>Proposal ID</li>
<li>Sandbox path</li>
<li>Command execution log</li>
<li>Next steps guidance</li>
</ul>
<h3><a class="anchor" id="autotoc_md1294"></a>
&lt;tt&gt;agent list&lt;/tt&gt; - Show all proposals</h3>
<div class="fragment"><div class="line">z3ed agent list</div>
<div class="line"> </div>
<div class="line">Example Output:</div>
<div class="line">=== Agent Proposals ===</div>
<div class="line"> </div>
<div class="line">ID: proposal-20251002T100000-1</div>
<div class="line">  Status: Pending</div>
<div class="line">  Created: 2025-10-02 10:00:00</div>
<div class="line">  Prompt: Change soldier armor to red</div>
<div class="line">  Commands: 3</div>
<div class="line">  Bytes Changed: 128</div>
<div class="line"> </div>
<div class="line">Total: 1 proposal(s)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1295"></a>
&lt;tt&gt;agent diff&lt;/tt&gt; - Show proposal changes</h3>
<div class="fragment"><div class="line">z3ed agent diff [--proposal-id &lt;id&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --proposal-id &lt;id&gt;  View specific proposal (default: latest pending)</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent diff --proposal-id proposal-20251002T100000-1</div>
</div><!-- fragment --><p><b>Output</b>:</p><ul>
<li>Proposal metadata</li>
<li>Execution log</li>
<li>Diff content</li>
<li>Next steps</li>
</ul>
<h3><a class="anchor" id="autotoc_md1296"></a>
&lt;tt&gt;agent describe&lt;/tt&gt; - Export machine-readable API specs</h3>
<div class="fragment"><div class="line">z3ed agent describe [--format &lt;yaml|json&gt;] [--resource &lt;name&gt;] [--output &lt;file&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --format &lt;type&gt;     Output format: yaml or json (default: yaml)</div>
<div class="line">  --resource &lt;name&gt;   Filter to specific resource (rom, palette, etc.)</div>
<div class="line">  --output &lt;file&gt;     Write to file instead of stdout</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  z3ed agent describe --format yaml</div>
<div class="line">  z3ed agent describe --format json --resource rom</div>
<div class="line">  z3ed agent describe --output docs/api/z3ed-resources.yaml</div>
</div><!-- fragment --><p><b>Resources Available</b>:</p><ul>
<li><code>rom</code> - ROM file operations</li>
<li><code>patch</code> - Patch application</li>
<li><code>palette</code> - Palette manipulation</li>
<li><code>overworld</code> - Overworld editing</li>
<li><code>dungeon</code> - Dungeon editing</li>
<li><code>agent</code> - Agent commands</li>
</ul>
<h3><a class="anchor" id="autotoc_md1297"></a>
&lt;tt&gt;agent resource-list&lt;/tt&gt; - Enumerate labeled resources for the AI</h3>
<div class="fragment"><div class="line">z3ed agent resource-list --type &lt;resource&gt; [--format &lt;table|json&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --type &lt;resource&gt;   Required label family (dungeon, overworld, sprite, palette, etc.)</div>
<div class="line">  --format &lt;mode&gt;     Output format, defaults to `table`. Use `json` for LLM tooling.</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  # Show dungeon labels in a table</div>
<div class="line">  z3ed agent resource-list --type dungeon</div>
<div class="line"> </div>
<div class="line">  # Emit JSON for the conversation agent to consume</div>
<div class="line">  z3ed agent resource-list --type overworld --format json</div>
</div><!-- fragment --><p><b>Notes</b>:</p><ul>
<li>When the conversation agent invokes this tool, JSON output is requested automatically.</li>
<li>Labels are loaded from <code>ResourceContextBuilder</code>, so the command reflects project-specific metadata.</li>
</ul>
<h3><a class="anchor" id="autotoc_md1298"></a>
&lt;tt&gt;agent dungeon-list-sprites&lt;/tt&gt; - Inspect sprites in a dungeon room</h3>
<div class="fragment"><div class="line">z3ed agent dungeon-list-sprites --room &lt;hex_id&gt; [--format &lt;table|json&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --room &lt;hex_id&gt;   Dungeon room ID (hexadecimal). Accepts `0x` prefixes or decimal.</div>
<div class="line">  --format &lt;mode&gt;   Output format, defaults to `table`.</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  z3ed agent dungeon-list-sprites --room 0x012</div>
<div class="line">  z3ed agent dungeon-list-sprites --room 18 --format json</div>
</div><!-- fragment --><p><b>Output</b>:</p><ul>
<li>Table view prints sprite id/x/y in hex+decimal for quick inspection.</li>
<li>JSON view is tailored for the LLM toolchain and is returned automatically during tool calls.</li>
</ul>
<h3><a class="anchor" id="autotoc_md1299"></a>
&lt;tt&gt;agent chat&lt;/tt&gt; - Interactive terminal chat (TUI prototype)</h3>
<div class="fragment"><div class="line">z3ed agent chat</div>
</div><!-- fragment --><ul>
<li>Opens an FTXUI-based interface with scrolling history and input box.</li>
<li>Uses the shared <code>ConversationalAgentService</code>, so the same backend powers the GUI widget.</li>
<li>Useful for manual testing of tool dispatching and new prompting strategies.</li>
</ul>
<h3><a class="anchor" id="autotoc_md1300"></a>
&lt;tt&gt;agent test&lt;/tt&gt; - Automated GUI testing (IT-02)</h3>
<div class="fragment"><div class="line">z3ed agent test --prompt &quot;&lt;test_description&gt;&quot; [--host &lt;hostname&gt;] [--port &lt;port&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --prompt &lt;text&gt;     Natural language test description</div>
<div class="line">  --host &lt;hostname&gt;   Test harness hostname (default: localhost)</div>
<div class="line">  --port &lt;port&gt;       Test harness port (default: 50052)</div>
<div class="line">  --timeout &lt;seconds&gt; Maximum test duration (default: 30)</div>
<div class="line"> </div>
<div class="line">Supported Prompt Patterns:</div>
<div class="line">  - &quot;Open &lt;Editor&gt; editor&quot;</div>
<div class="line">  - &quot;Open &lt;Editor&gt; and verify it loads&quot;</div>
<div class="line">  - &quot;Click &lt;Button&gt;&quot;</div>
<div class="line">  - &quot;Type &#39;&lt;text&gt;&#39; in &lt;input&gt;&quot;</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  z3ed agent test --prompt &quot;Open Overworld editor&quot;</div>
<div class="line">  z3ed agent test --prompt &quot;Open Dungeon editor and verify it loads&quot;</div>
<div class="line">  z3ed agent test --prompt &quot;Click Save button&quot;</div>
<div class="line">  z3ed agent test --prompt &quot;Type &#39;zelda3.sfc&#39; in filename input&quot;</div>
</div><!-- fragment --><p><b>Prerequisites</b>:</p><ol type="1">
<li>YAZE running with test harness: <div class="fragment"><div class="line">./build-grpc-test/bin/yaze.app/Contents/MacOS/yaze \</div>
<div class="line">  --enable_test_harness \</div>
<div class="line">  --test_harness_port=50052 \</div>
<div class="line">  --rom_file=assets/zelda3.sfc &amp;</div>
</div><!-- fragment --></li>
<li>z3ed built with gRPC support: <div class="fragment"><div class="line">cmake -B build-grpc-test -DYAZE_WITH_GRPC=ON</div>
<div class="line">cmake --build build-grpc-test --target z3ed -j$(sysctl -n hw.ncpu)</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md1301"></a>
&lt;tt&gt;agent gui&lt;/tt&gt; - GUI Introspection &amp; Control (IT-05/IT-06)</h3>
<h4><a class="anchor" id="autotoc_md1302"></a>
&lt;tt&gt;agent gui discover&lt;/tt&gt; - Enumerate available widgets</h4>
<div class="fragment"><div class="line">z3ed agent gui discover \</div>
<div class="line">  [--host &lt;name&gt;] [--port &lt;port&gt;] \</div>
<div class="line">  [--window &lt;name&gt;] [--path-prefix &lt;path&gt;] \</div>
<div class="line">  [--type &lt;widget_type&gt;] [--include-invisible] [--include-disabled] \</div>
<div class="line">  [--format &lt;table|json&gt;] [--limit &lt;n&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --host &lt;name&gt;          Harness host (default: localhost)</div>
<div class="line">  --port &lt;port&gt;          Harness port (default: 50052)</div>
<div class="line">  --window &lt;name&gt;        Filter by window name (case-insensitive substring)</div>
<div class="line">  --path-prefix &lt;path&gt;   Require widget path to start with prefix</div>
<div class="line">  --type &lt;type&gt;          Filter widget type: button, input, menu, tab,</div>
<div class="line">                         checkbox, slider, canvas, selectable, other</div>
<div class="line">  --include-invisible    Include widgets whose parent window is hidden</div>
<div class="line">  --include-disabled     Include widgets flagged as disabled</div>
<div class="line">  --format &lt;mode&gt;        Output as `table` (default) or `json`</div>
<div class="line">  --limit &lt;n&gt;            Maximum widgets to display (useful for large UIs)</div>
<div class="line"> </div>
<div class="line">Each discovered widget now reports:</div>
<div class="line">- Current visibility/enablement and bounding box (when available)</div>
<div class="line">- Last observed frame number and UTC timestamp</div>
<div class="line">- A `stale` flag when the widget hasn&#39;t appeared in the current frame</div>
<div class="line">- Its underlying ImGui ID for low-level automation</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  # Discover all widgets currently registered</div>
<div class="line">  z3ed agent gui discover</div>
<div class="line"> </div>
<div class="line">  # Focus on buttons inside the Overworld editor window</div>
<div class="line">  z3ed agent gui discover --window &quot;Overworld&quot; --type button</div>
<div class="line"> </div>
<div class="line">  # Export a JSON snapshot for an automation agent (showing first 50 widgets)</div>
<div class="line">  z3ed agent gui discover --format json --limit 50 &gt; widgets.json</div>
</div><!-- fragment --><p><b>Table Output Example</b>: </p><div class="fragment"><div class="line">=== Widget Discovery ===</div>
<div class="line">Server: localhost:50052</div>
<div class="line">Window filter: Overworld</div>
<div class="line">Type filter: button</div>
<div class="line">Include invisible: no</div>
<div class="line">Include disabled: no</div>
<div class="line"> </div>
<div class="line">Window: Overworld (visible)</div>
<div class="line">  • [button] Save</div>
<div class="line">    Path: Overworld/Toolbar/button:Save</div>
<div class="line">    Suggested: Click button:Save</div>
<div class="line">    State: visible, enabled</div>
<div class="line">    Bounds: (24.0, 64.0) → (112.0, 92.0)</div>
<div class="line">  Last seen: frame 18432 @ 2025-01-16 19:42:05</div>
<div class="line">    Widget ID: 0x13fc41a2</div>
<div class="line"> </div>
<div class="line">Widgets shown: 3 of 18 (truncated)</div>
<div class="line">Snapshot: 2025-01-16 19:42:05</div>
<div class="line"> </div>
<div class="line">_Widgets that have not appeared in the current frame are marked `[STALE]` in the table output._</div>
</div><!-- fragment --><p><b>Use Cases</b>:</p><ul>
<li>AI agents discover available GUI interactions dynamically</li>
<li>Test scripts validate expected widgets are present</li>
<li>Documentation generation for GUI features</li>
</ul>
<h4><a class="anchor" id="autotoc_md1303"></a>
&lt;tt&gt;agent test status&lt;/tt&gt; - Query test execution state</h4>
<div class="fragment"><div class="line">z3ed agent test status --test-id &lt;id&gt; [--follow]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --test-id &lt;id&gt;  Test ID from test command output</div>
<div class="line">  --follow        Continuously poll until test completes (blocking)</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent test status --test-id grpc_click_12345678 --follow</div>
</div><!-- fragment --><p><b>Output</b>: </p><div class="fragment"><div class="line">test_id: grpc_click_12345678</div>
<div class="line">status: PASSED</div>
<div class="line">execution_time_ms: 1234</div>
<div class="line">started_at: 2025-10-02T14:23:45Z</div>
<div class="line">completed_at: 2025-10-02T14:23:46Z</div>
<div class="line">assertions_passed: 3</div>
<div class="line">assertions_failed: 0</div>
</div><!-- fragment --><p><b>Usage Example</b>: </p><div class="fragment"><div class="line">$ z3ed agent test status --test-id grpc_wait_20251002T182455 --follow</div>
<div class="line">=== Test Status ===</div>
<div class="line">Test ID: grpc_wait_20251002T182455</div>
<div class="line">Server: localhost:50052</div>
<div class="line">Follow mode: polling every 1000ms</div>
<div class="line"> </div>
<div class="line">Status: RUNNING</div>
<div class="line">Queued At: 2025-10-02T18:24:55Z</div>
<div class="line">Started At: 2025-10-02T18:24:55Z</div>
<div class="line">Completed At: n/a</div>
<div class="line">Execution Time (ms): 432</div>
<div class="line">Assertion Failures: 0</div>
<div class="line">---</div>
<div class="line">Status: PASSED</div>
<div class="line">Queued At: 2025-10-02T18:24:55Z</div>
<div class="line">Started At: 2025-10-02T18:24:55Z</div>
<div class="line">Completed At: 2025-10-02T18:24:55Z</div>
<div class="line">Execution Time (ms): 612</div>
<div class="line">Assertion Failures: 0</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1304"></a>
&lt;tt&gt;agent test results&lt;/tt&gt; - Get detailed test results</h4>
<div class="fragment"><div class="line">z3ed agent test results --test-id &lt;id&gt; [--format &lt;json|yaml&gt;] [--include-logs]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --test-id &lt;id&gt;      Test ID to retrieve results for</div>
<div class="line">  --format &lt;format&gt;   Output format (default: yaml)</div>
<div class="line">  --include-logs      Include full execution logs</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent test results --test-id grpc_click_12345678 --include-logs</div>
</div><!-- fragment --><p><b>Usage Example (YAML)</b>: </p><div class="fragment"><div class="line">$ z3ed agent test results --test-id grpc_assert_20251002T182500 --include-logs</div>
<div class="line">test_id: grpc_assert_20251002T182500</div>
<div class="line">success: true</div>
<div class="line">name: &quot;grpc assert Overworld&quot;</div>
<div class="line">category: &quot;grpc&quot;</div>
<div class="line">executed_at: 2025-10-02T18:25:00Z</div>
<div class="line">duration_ms: 118</div>
<div class="line">assertions:</div>
<div class="line">  - description: &quot;Overworld window visible&quot;</div>
<div class="line">    passed: true</div>
<div class="line">logs:</div>
<div class="line">  - &quot;[2025-10-02T18:25:00Z] Queued assertion&quot;</div>
<div class="line">  - &quot;[2025-10-02T18:25:00Z] Assertion passed&quot;</div>
<div class="line">metrics:</div>
<div class="line">  execution_frames: 2</div>
</div><!-- fragment --><p><b>Usage Example (JSON)</b>: </p><div class="fragment"><div class="line">$ z3ed agent test results --test-id grpc_assert_20251002T182500 --format json</div>
<div class="line">{</div>
<div class="line">  &quot;test_id&quot;: &quot;grpc_assert_20251002T182500&quot;,</div>
<div class="line">  &quot;success&quot;: true,</div>
<div class="line">  &quot;name&quot;: &quot;grpc assert Overworld&quot;,</div>
<div class="line">  &quot;category&quot;: &quot;grpc&quot;,</div>
<div class="line">  &quot;executed_at&quot;: &quot;2025-10-02T18:25:00Z&quot;,</div>
<div class="line">  &quot;duration_ms&quot;: 118,</div>
<div class="line">  &quot;assertions&quot;: [</div>
<div class="line">    {&quot;description&quot;: &quot;Overworld window visible&quot;, &quot;passed&quot;: true}</div>
<div class="line">  ],</div>
<div class="line">  &quot;logs&quot;: [],</div>
<div class="line">  &quot;metrics&quot;: {</div>
<div class="line">    &quot;execution_frames&quot;: 2</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1305"></a>
&lt;tt&gt;agent test list&lt;/tt&gt; - List all tests</h4>
<div class="fragment"><div class="line">z3ed agent test list [--category &lt;name&gt;] [--status &lt;filter&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --category &lt;name&gt;  Filter by category: grpc, unit, integration, e2e</div>
<div class="line">  --status &lt;filter&gt;  Filter by status: passed, failed, running, queued</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent test list --category grpc --status failed</div>
</div><!-- fragment --><p><b>Usage Example</b>: </p><div class="fragment"><div class="line">$ z3ed agent test list --category grpc --limit 3</div>
<div class="line">=== Harness Test Catalog ===</div>
<div class="line">Server: localhost:50052</div>
<div class="line">Category filter: grpc</div>
<div class="line"> </div>
<div class="line">Test ID: grpc_click_20251002T182440</div>
<div class="line">  Name: grpc click Open Overworld</div>
<div class="line">  Category: grpc</div>
<div class="line">  Last Run: 2025-10-02T18:24:41Z</div>
<div class="line">  Runs: 5 (5 pass / 0 fail)</div>
<div class="line">  Average Duration (ms): 327</div>
<div class="line"> </div>
<div class="line">Test ID: grpc_wait_20251002T182455</div>
<div class="line">  Name: grpc wait Overworld visible</div>
<div class="line">  Category: grpc</div>
<div class="line">  Last Run: 2025-10-02T18:24:55Z</div>
<div class="line">  Runs: 5 (5 pass / 0 fail)</div>
<div class="line">  Average Duration (ms): 614</div>
<div class="line"> </div>
<div class="line">Displayed 2 test(s) (catalog size: 42).</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1306"></a>
&lt;tt&gt;agent test record&lt;/tt&gt; - Record test sessions (IT-07)</h3>
<h4><a class="anchor" id="autotoc_md1307"></a>
&lt;tt&gt;agent test record start&lt;/tt&gt; - Begin recording</h4>
<div class="fragment"><div class="line">z3ed agent test record start --output &lt;file&gt; [--description &quot;...&quot;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --output &lt;file&gt;         Output file for test script (JSON)</div>
<div class="line">  --description &lt;text&gt;    Human-readable test description</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent test record start --output tests/overworld_load.json \</div>
<div class="line">    --description &quot;Test Overworld editor loading&quot;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md1308"></a>
&lt;tt&gt;agent test record stop&lt;/tt&gt; - Finish recording</h4>
<div class="fragment"><div class="line">z3ed agent test record stop [--validate]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --validate  Run recorded test immediately to verify it works</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed agent test record stop --validate</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1309"></a>
&lt;tt&gt;agent test replay&lt;/tt&gt; - Execute recorded tests</h3>
<div class="fragment"><div class="line">z3ed agent test replay &lt;test_script&gt; [--ci-mode] [--output-dir &lt;dir&gt;]</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --ci-mode           Exit with code 1 on failure, generate JUnit XML</div>
<div class="line">  --output-dir &lt;dir&gt;  Directory for test results (default: test-results/)</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  # Run single test</div>
<div class="line">  z3ed agent test replay tests/overworld_load.json</div>
<div class="line"> </div>
<div class="line">  # Run test suite in CI</div>
<div class="line">  z3ed agent test replay tests/suite.yaml --ci-mode</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1310"></a>
&lt;tt&gt;agent test suite&lt;/tt&gt; - Manage test suites (IT-09)</h3>
<div class="fragment"><div class="line">z3ed agent test suite &lt;action&gt; [options]</div>
<div class="line"> </div>
<div class="line">Actions:</div>
<div class="line">  run &lt;suite&gt;     Run test suite (YAML/JSON)</div>
<div class="line">  create &lt;name&gt;   Create new test suite interactively (writes tests/&lt;name&gt;.yaml)</div>
<div class="line">  validate &lt;file&gt; Validate test suite format</div>
<div class="line"> </div>
<div class="line">Options for `create`:</div>
<div class="line">  --force         Overwrite the target file without prompting</div>
<div class="line"> </div>
<div class="line">The create workflow walks you through suite metadata, groups, and tests. If</div>
<div class="line">you pass a bare name (e.g., `smoke`), the suite is written to</div>
<div class="line">`tests/smoke.yaml`; supplying a path like `ci/regression.yaml` preserves the</div>
<div class="line">directory. Use the prompts to add groups, associate JSON replay scripts, tags,</div>
<div class="line">and key=value parameters. The CLI warns if referenced scripts are missing but</div>
<div class="line">still records them so you can author them later.</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  z3ed agent test suite run tests/smoke.yaml</div>
<div class="line">  z3ed agent test suite validate tests/regression.yaml</div>
<div class="line">  z3ed agent test suite create smoke</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1311"></a>
ROM Commands</h2>
<h3><a class="anchor" id="autotoc_md1312"></a>
&lt;tt&gt;rom info&lt;/tt&gt; - Display ROM metadata</h3>
<div class="fragment"><div class="line">z3ed rom info --rom &lt;file&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed rom info --rom=zelda3.sfc</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1313"></a>
&lt;tt&gt;rom validate&lt;/tt&gt; - Verify ROM integrity</h3>
<div class="fragment"><div class="line">z3ed rom validate --rom &lt;file&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed rom validate --rom=zelda3.sfc</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1314"></a>
&lt;tt&gt;rom diff&lt;/tt&gt; - Compare two ROMs</h3>
<div class="fragment"><div class="line">z3ed rom diff --rom1 &lt;file1&gt; --rom2 &lt;file2&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed rom diff --rom1=zelda3.sfc --rom2=zelda3_modified.sfc</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1315"></a>
&lt;tt&gt;rom generate-golden&lt;/tt&gt; - Create reference checksums</h3>
<div class="fragment"><div class="line">z3ed rom generate-golden --rom &lt;file&gt; --output &lt;json_file&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed rom generate-golden --rom=zelda3.sfc --output=golden.json</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1316"></a>
Palette Commands</h2>
<h3><a class="anchor" id="autotoc_md1317"></a>
&lt;tt&gt;palette export&lt;/tt&gt; - Export palette to file</h3>
<div class="fragment"><div class="line">z3ed palette export &lt;group_name&gt; &lt;palette_id&gt; &lt;output_file&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed palette export sprites_aux1 4 soldier.col</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1318"></a>
&lt;tt&gt;palette import&lt;/tt&gt; - Import palette from file</h3>
<div class="fragment"><div class="line">z3ed palette import &lt;group_name&gt; &lt;palette_id&gt; &lt;input_file&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed palette import sprites_aux1 4 soldier_red.col</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1319"></a>
&lt;tt&gt;palette list&lt;/tt&gt; - Show available palettes</h3>
<div class="fragment"><div class="line">z3ed palette list [--group &lt;name&gt;]</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed palette list --group sprites_aux1</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1320"></a>
Overworld Commands</h2>
<h3><a class="anchor" id="autotoc_md1321"></a>
&lt;tt&gt;overworld get-tile&lt;/tt&gt; - Get tile at coordinates</h3>
<div class="fragment"><div class="line">z3ed overworld get-tile --map &lt;id&gt; --x &lt;x&gt; --y &lt;y&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed overworld get-tile --map=0 --x=100 --y=50</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1322"></a>
&lt;tt&gt;overworld find-tile&lt;/tt&gt; - Locate tile instances across maps</h3>
<div class="fragment"><div class="line">z3ed overworld find-tile --tile &lt;id&gt; [--map &lt;map_id&gt;] [--world light|dark|special] [--format json|text]</div>
<div class="line"> </div>
<div class="line">Examples:</div>
<div class="line">  # Scan entire overworld for tile 0x02E and emit JSON</div>
<div class="line">  z3ed overworld find-tile --tile 0x02E --format json</div>
<div class="line"> </div>
<div class="line">  # Limit search to Light World map 0x05</div>
<div class="line">  z3ed overworld find-tile --tile 0x02E --map 0x05</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1323"></a>
&lt;tt&gt;overworld set-tile&lt;/tt&gt; - Set tile at coordinates</h3>
<div class="fragment"><div class="line">z3ed overworld set-tile --map &lt;id&gt; --x &lt;x&gt; --y &lt;y&gt; --tile &lt;id&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed overworld set-tile --map=0 --x=100 --y=50 --tile=0x1234</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1324"></a>
Dungeon Commands</h2>
<h3><a class="anchor" id="autotoc_md1325"></a>
&lt;tt&gt;dungeon list-rooms&lt;/tt&gt; - List all dungeon rooms</h3>
<div class="fragment"><div class="line">z3ed dungeon list-rooms --dungeon &lt;id&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed dungeon list-rooms --dungeon=0</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1326"></a>
&lt;tt&gt;dungeon add-object&lt;/tt&gt; - Add object to room</h3>
<div class="fragment"><div class="line">z3ed dungeon add-object --dungeon &lt;id&gt; --room &lt;id&gt; --object &lt;type&gt;</div>
<div class="line"> </div>
<div class="line">Example:</div>
<div class="line">  z3ed dungeon add-object --dungeon=0 --room=5 --object=chest</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1328"></a>
Implementation Guide</h1>
<h2><a class="anchor" id="autotoc_md1329"></a>
Building with gRPC Support</h2>
<h3><a class="anchor" id="autotoc_md1330"></a>
macOS (Recommended)</h3>
<div class="fragment"><div class="line"># Install dependencies (via vcpkg or system)</div>
<div class="line"># vcpkg is handled automatically by CMake</div>
<div class="line"> </div>
<div class="line"># Configure with gRPC enabled</div>
<div class="line">cmake -B build-grpc-test -DYAZE_WITH_GRPC=ON</div>
<div class="line"> </div>
<div class="line"># Build YAZE and z3ed</div>
<div class="line">cmake --build build-grpc-test --target yaze -j$(sysctl -n hw.ncpu)</div>
<div class="line">cmake --build build-grpc-test --target z3ed -j$(sysctl -n hw.ncpu)</div>
<div class="line"> </div>
<div class="line"># First build takes 15-20 minutes (gRPC compilation)</div>
<div class="line"># Incremental builds: 5-10 seconds</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1331"></a>
Windows (Experimental)</h3>
<div class="fragment"><div class="line"># Install vcpkg (one-time setup)</div>
<div class="line">git clone https://github.com/Microsoft/vcpkg.git C:\vcpkg</div>
<div class="line">C:\vcpkg\bootstrap-vcpkg.bat</div>
<div class="line">C:\vcpkg\vcpkg integrate install</div>
<div class="line"> </div>
<div class="line"># Install dependencies</div>
<div class="line">C:\vcpkg\vcpkg install grpc:x64-windows abseil:x64-windows sdl2:x64-windows</div>
<div class="line"> </div>
<div class="line"># Configure and build</div>
<div class="line">cmake -B build -DCMAKE_TOOLCHAIN_FILE=C:\vcpkg\scripts\buildsystems\vcpkg.cmake `</div>
<div class="line">  -DYAZE_WITH_GRPC=ON -A x64</div>
<div class="line">cmake --build build --config Release --target yaze</div>
<div class="line">cmake --build build --config Release --target z3ed</div>
</div><!-- fragment --><p><b>Windows Notes</b>:</p><ul>
<li>Test harness not yet validated on Windows</li>
<li>Use static linking to avoid DLL conflicts</li>
<li>See <code><a class="el" href="../../d2/d14/02-build-instructions_8md.html">docs/02-build-instructions.md</a></code> for details</li>
</ul>
<h2><a class="anchor" id="autotoc_md1332"></a>
Starting Test Harness</h2>
<h3><a class="anchor" id="autotoc_md1333"></a>
Basic Usage</h3>
<div class="fragment"><div class="line"># Start YAZE with test harness enabled</div>
<div class="line">./build-grpc-test/bin/yaze.app/Contents/MacOS/yaze \</div>
<div class="line">  --enable_test_harness \</div>
<div class="line">  --test_harness_port=50052 \</div>
<div class="line">  --rom_file=assets/zelda3.sfc &amp;</div>
<div class="line"> </div>
<div class="line"># Verify server is running</div>
<div class="line">lsof -i :50052</div>
<div class="line"># Should show yaze process listening</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1334"></a>
Configuration Options</h3>
<div class="fragment"><div class="line">--enable_test_harness       Enable gRPC test harness (default: false)</div>
<div class="line">--test_harness_port=&lt;port&gt;  Port number (default: 50051)</div>
<div class="line">--rom_file=&lt;file&gt;           ROM to load on startup (optional)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1335"></a>
Testing RPCs with grpcurl</h2>
<div class="fragment"><div class="line"># Install grpcurl</div>
<div class="line">brew install grpcurl</div>
<div class="line"> </div>
<div class="line"># Health check</div>
<div class="line">grpcurl -plaintext -import-path src/app/core/proto \</div>
<div class="line">  -proto imgui_test_harness.proto \</div>
<div class="line">  -d &#39;{&quot;message&quot;:&quot;test&quot;}&#39; 127.0.0.1:50052 yaze.test.ImGuiTestHarness/Ping</div>
<div class="line"> </div>
<div class="line"># Click button</div>
<div class="line">grpcurl -plaintext -import-path src/app/core/proto \</div>
<div class="line">  -proto imgui_test_harness.proto \</div>
<div class="line">  -d &#39;{&quot;target&quot;:&quot;button:Overworld&quot;,&quot;type&quot;:&quot;LEFT&quot;}&#39; \</div>
<div class="line">  127.0.0.1:50052 yaze.test.ImGuiTestHarness/Click</div>
<div class="line"> </div>
<div class="line"># Type text</div>
<div class="line">grpcurl -plaintext -import-path src/app/core/proto \</div>
<div class="line">  -proto imgui_test_harness.proto \</div>
<div class="line">  -d &#39;{&quot;target&quot;:&quot;input:Search&quot;,&quot;text&quot;:&quot;tile16&quot;,&quot;clear_first&quot;:true}&#39; \</div>
<div class="line">  127.0.0.1:50052 yaze.test.ImGuiTestHarness/Type</div>
<div class="line"> </div>
<div class="line"># Wait for condition</div>
<div class="line">grpcurl -plaintext -import-path src/app/core/proto \</div>
<div class="line">  -proto imgui_test_harness.proto \</div>
<div class="line">  -d &#39;{&quot;condition&quot;:&quot;window_visible:Overworld Editor&quot;,&quot;timeout_ms&quot;:5000}&#39; \</div>
<div class="line">  127.0.0.1:50052 yaze.test.ImGuiTestHarness/Wait</div>
<div class="line"> </div>
<div class="line"># Assert state</div>
<div class="line">grpcurl -plaintext -import-path src/app/core/proto \</div>
<div class="line">  -proto imgui_test_harness.proto \</div>
<div class="line">  -d &#39;{&quot;condition&quot;:&quot;visible:Main Window&quot;}&#39; \</div>
<div class="line">  127.0.0.1:50052 yaze.test.ImGuiTestHarness/Assert</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1337"></a>
Testing &amp; Validation</h1>
<h2><a class="anchor" id="autotoc_md1338"></a>
Automated E2E Test Script</h2>
<div class="fragment"><div class="line"># Run comprehensive test suite</div>
<div class="line">./scripts/test_harness_e2e.sh</div>
<div class="line"> </div>
<div class="line"># Expected: All 6 tests pass</div>
<div class="line"># - Ping (health check)</div>
<div class="line"># - Click (button interaction)</div>
<div class="line"># - Type (text input)</div>
<div class="line"># - Wait (condition polling)</div>
<div class="line"># - Assert (state validation)</div>
<div class="line"># - Screenshot (stub - returns not implemented)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1339"></a>
Manual Testing Workflow</h2>
<h3><a class="anchor" id="autotoc_md1340"></a>
1. Create Proposal</h3>
<div class="fragment"><div class="line">./build/bin/z3ed agent run \</div>
<div class="line">  --rom=assets/zelda3.sfc \</div>
<div class="line">  --prompt &quot;Test proposal&quot; \</div>
<div class="line">  --sandbox</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1341"></a>
2. List Proposals</h3>
<div class="fragment"><div class="line">./build/bin/z3ed agent list</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1342"></a>
3. View Diff</h3>
<div class="fragment"><div class="line">./build/bin/z3ed agent diff</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1343"></a>
4. Review in GUI</h3>
<div class="fragment"><div class="line"># Start YAZE</div>
<div class="line">./build/bin/yaze.app/Contents/MacOS/yaze</div>
<div class="line"> </div>
<div class="line"># Navigate: Debug → Agent Proposals</div>
<div class="line"># Select proposal → Review → Accept/Reject/Delete</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1344"></a>
Performance Benchmarks</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operation   </th><th class="markdownTableHeadNone">Typical Time   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Ping RPC   </td><td class="markdownTableBodyNone">&lt; 10ms   </td><td class="markdownTableBodyNone">Health check overhead    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Click RPC   </td><td class="markdownTableBodyNone">50-200ms   </td><td class="markdownTableBodyNone">Widget lookup + event    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Type RPC   </td><td class="markdownTableBodyNone">100-300ms   </td><td class="markdownTableBodyNone">Focus + clear + input    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Wait RPC   </td><td class="markdownTableBodyNone">100-5000ms   </td><td class="markdownTableBodyNone">Depends on condition    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Assert RPC   </td><td class="markdownTableBodyNone">10-100ms   </td><td class="markdownTableBodyNone">State query    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Full Workflow   </td><td class="markdownTableBodyNone">1-2s   </td><td class="markdownTableBodyNone">Click + Wait + Assert    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Proposal Creation   </td><td class="markdownTableBodyNone">&lt; 1s   </td><td class="markdownTableBodyNone">Mock AI service    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ROM Merge   </td><td class="markdownTableBodyNone">&lt; 100ms   </td><td class="markdownTableBodyNone">Memory copy   </td></tr>
</table>
<hr  />
<h1><a class="anchor" id="autotoc_md1346"></a>
Development Workflows</h1>
<h2><a class="anchor" id="autotoc_md1347"></a>
Adding New Agent Commands</h2>
<ol type="1">
<li><b>Create Handler</b> (<code>src/cli/handlers/&lt;resource&gt;.cc</code>) <div class="fragment"><div class="line">absl::Status HandleNewCommand(<span class="keyword">const</span> CommandOptions&amp; options) {</div>
<div class="line">  <span class="comment">// Implementation</span></div>
<div class="line">  <span class="keywordflow">return</span> absl::OkStatus();</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Register Command</b> (<code><a class="el" href="../../dc/d8b/modern__cli_8cc.html">src/cli/modern_cli.cc</a></code>) <div class="fragment"><div class="line"><span class="keywordflow">if</span> (absl::GetFlag(FLAGS_new_resource) == <span class="stringliteral">&quot;new-action&quot;</span>) {</div>
<div class="line">  <span class="keywordflow">return</span> HandleNewCommand(options);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Add to Resource Catalog</b> (<code>src/cli/service/resource_catalog.cc</code>) <div class="fragment"><div class="line">catalog.resources.push_back({</div>
<div class="line">  .name = <span class="stringliteral">&quot;new_resource&quot;</span>,</div>
<div class="line">  .description = <span class="stringliteral">&quot;Description&quot;</span>,</div>
<div class="line">  .actions = {{</div>
<div class="line">    .name = <span class="stringliteral">&quot;new-action&quot;</span>,</div>
<div class="line">    .description = <span class="stringliteral">&quot;Action description&quot;</span>,</div>
<div class="line">    .arguments = {<span class="comment">/* ... */</span>},</div>
<div class="line">    .effects = {<span class="comment">/* ... */</span>},</div>
<div class="line">    .returns = {<span class="comment">/* ... */</span>}</div>
<div class="line">  }}</div>
<div class="line">});</div>
</div><!-- fragment --></li>
<li><b>Update Documentation</b></li>
</ol>
<ul>
<li>Add to <code>docs/api/z3ed-resources.yaml</code> (regenerate via <code>agent describe</code>)</li>
<li>Add examples to relevant guides</li>
</ul>
<h2><a class="anchor" id="autotoc_md1348"></a>
Adding New Test Harness RPCs</h2>
<ol type="1">
<li><b>Update Proto</b> (<code>src/app/core/proto/imgui_test_harness.proto</code>) <div class="fragment"><div class="line">service ImGuiTestHarness {</div>
<div class="line">  rpc NewOperation(NewRequest) returns (NewResponse);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message NewRequest {</div>
<div class="line">  string parameter = 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message NewResponse {</div>
<div class="line">  bool success = 1;</div>
<div class="line">  string message = 2;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Implement Handler</b> (<code><a class="el" href="../../dd/d7f/imgui__test__harness__service_8cc.html">src/app/core/service/imgui_test_harness_service.cc</a></code>) <div class="fragment"><div class="line">grpc::Status ImGuiTestHarnessServiceImpl::NewOperation(</div>
<div class="line">    grpc::ServerContext* context,</div>
<div class="line">    <span class="keyword">const</span> NewRequest* request,</div>
<div class="line">    NewResponse* response) {</div>
<div class="line">  <span class="comment">// Implementation</span></div>
<div class="line">  response-&gt;set_success(<span class="keyword">true</span>);</div>
<div class="line">  response-&gt;set_message(<span class="stringliteral">&quot;Operation completed&quot;</span>);</div>
<div class="line">  <span class="keywordflow">return</span> grpc::Status::OK;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Rebuild</b> <div class="fragment"><div class="line">cmake --build build-grpc-test --target yaze</div>
</div><!-- fragment --></li>
<li><b>Test</b> <div class="fragment"><div class="line">grpcurl -plaintext -import-path src/app/core/proto \</div>
<div class="line">  -proto imgui_test_harness.proto \</div>
<div class="line">  -d &#39;{&quot;parameter&quot;:&quot;value&quot;}&#39; \</div>
<div class="line">  127.0.0.1:50052 yaze.test.ImGuiTestHarness/NewOperation</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="autotoc_md1349"></a>
Adding Test Workflow Patterns</h2>
<ol type="1">
<li><b>Add Pattern Matcher</b> (<code>src/cli/service/test_workflow_generator.cc</code>) <div class="fragment"><div class="line"><span class="keywordtype">bool</span> MatchesNewPattern(<span class="keyword">const</span> std::string&amp; prompt, YourParams* params) {</div>
<div class="line">  std::regex pattern(R<span class="stringliteral">&quot;(your regex pattern)&quot;);</span></div>
<div class="line"><span class="stringliteral">  std::smatch matches;</span></div>
<div class="line"><span class="stringliteral">  </span><span class="keywordflow">if</span> (std::regex_search(prompt, matches, pattern)) {</div>
<div class="line">    <span class="comment">// Extract parameters</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Add Workflow Builder</b> <div class="fragment"><div class="line">TestWorkflow BuildNewPatternWorkflow(<span class="keyword">const</span> YourParams&amp; params) {</div>
<div class="line">  TestWorkflow workflow;</div>
<div class="line">  workflow.description = <span class="stringliteral">&quot;Your workflow description&quot;</span>;</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Add steps</span></div>
<div class="line">  workflow.steps.push_back({</div>
<div class="line">    .type = TestStep::kClick,</div>
<div class="line">    .target = <span class="stringliteral">&quot;button:Name&quot;</span>,</div>
<div class="line">    <span class="comment">/* ... */</span></div>
<div class="line">  });</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">return</span> workflow;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><b>Integrate into Generator</b> <div class="fragment"><div class="line">absl::StatusOr&lt;TestWorkflow&gt; TestWorkflowGenerator::GenerateFromPrompt(</div>
<div class="line">    <span class="keyword">const</span> std::string&amp; prompt) {</div>
<div class="line">  YourParams params;</div>
<div class="line">  <span class="keywordflow">if</span> (MatchesNewPattern(prompt, &amp;params)) {</div>
<div class="line">    <span class="keywordflow">return</span> BuildNewPatternWorkflow(params);</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// ... other patterns</span></div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md1351"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md1352"></a>
Common Issues</h2>
<h3><a class="anchor" id="autotoc_md1353"></a>
Port Already in Use</h3>
<p><b>Problem</b>: <code>Failed to start gRPC server: Address already in use</code></p>
<p><b>Solutions</b>: </p><div class="fragment"><div class="line"># Find and kill existing instance</div>
<div class="line">lsof -i :50052</div>
<div class="line">kill &lt;PID&gt;</div>
<div class="line"> </div>
<div class="line"># Or use different port</div>
<div class="line">./yaze --enable_test_harness --test_harness_port=50053</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1354"></a>
Connection Refused</h3>
<p><b>Problem</b>: <code>Error connecting to server: Connection refused</code></p>
<p><b>Solutions</b>:</p><ol type="1">
<li>Verify server is running: <code>lsof -i :50052</code></li>
<li>Check firewall settings</li>
<li>Ensure correct port number</li>
</ol>
<h3><a class="anchor" id="autotoc_md1355"></a>
Widget Not Found</h3>
<p><b>Problem</b>: &lsquo;Button 'XYZ&rsquo; not found`</p>
<p><b>Solutions</b>:</p><ol type="1">
<li>Verify widget label is correct (case-sensitive)</li>
<li>Check if widget is in active window</li>
<li>Wait for window to be visible first</li>
<li>Use Assert to check widget exists</li>
</ol>
<h4><a class="anchor" id="autotoc_md1356"></a>
Widget Not Found or Stale State</h4>
<p><b>Problem</b>: A <code>Wait</code> or <code>Assert</code> RPC fails with a "Widget Not Found" or "Window Not Found" error, even though a preceding <code>Click</code> action should have made it appear. This is a common issue in the e2e test script.</p>
<p><b>Root Cause</b>: This is an <code><a class="el" href="../../df/de4/namespaceImGui.html">ImGui</a></code> frame timing issue. The <code>Click</code> RPC may return <em>before</em> the <a class="el" href="../../df/de4/namespaceImGui.html">ImGui</a> frame containing the new window or widget has been rendered. The subsequent <code>Wait</code> or <code>Assert</code> call then executes on a stale frame, failing to find the element.</p>
<p><b>Solution</b>:</p><ul>
<li><b>In the Test Harness Code</b>: The RPC handler that performs the action (e.g., <code>Click</code>) must call <code>ctx-&gt;Yield()</code> on the <code>ImGuiTestContext</code> <em>after</em> performing the click. This pauses the RPC and allows the test engine to render the next frame, ensuring the UI state is up-to-date before the RPC returns and the next test step begins.</li>
</ul>
<h3><a class="anchor" id="autotoc_md1357"></a>
Crashes in &lt;tt&gt;Wait&lt;/tt&gt; or &lt;tt&gt;Assert&lt;/tt&gt; RPCs</h3>
<p><b>Problem</b>: The application crashes with a <code>SIGSEGV</code> (segmentation fault) when running <code>Wait</code> or <code>Assert</code> RPCs.</p>
<p><b>Root Cause</b>: This is a thread-safety issue. The gRPC server runs its handlers on a separate thread pool from the main thread where the <a class="el" href="../../df/de4/namespaceImGui.html">ImGui</a> Test Engine runs. Sharing state (like the test context or condition parameters) directly between these threads without synchronization is unsafe.</p>
<p><b>Solution</b>:</p><ul>
<li><b>In the Test Harness Code</b>: Implement a thread-safe pattern for these RPCs.<ol type="1">
<li>Define a state structure (e.g., <code>struct WaitState</code>) to hold all necessary data for the operation.</li>
<li>In the RPC handler, allocate this structure as a <code>std::shared_ptr</code>.</li>
<li>Register a dynamic test with the <a class="el" href="../../df/de4/namespaceImGui.html">ImGui</a> Test Engine and pass the <code>shared_ptr</code> to the test's lambda function.</li>
<li>The test function can then safely access the state data on the main thread to perform its checks. The <code>shared_ptr</code> manages the lifetime of the state across threads.</li>
</ol>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md1358"></a>
Build Errors - Boolean Flag</h2>
<p><b>Problem</b>: <code>std::stringstream &gt;&gt; bool</code> doesn't parse "true"/"false"</p>
<p><b>Solution</b>: Already fixed in <code><a class="el" href="../../d2/da4/flag_8h.html">src/util/flag.h</a></code> with template specialization</p>
<h3><a class="anchor" id="autotoc_md1359"></a>
Build Errors - Incomplete Type</h3>
<p><b>Problem</b>: &lsquo;error: delete called on 'grpc::Server&rsquo; that is incomplete`</p>
<p><b>Solution</b>: Ensure destructor implementation is in <code>.cc</code> file, not header</p>
<h2><a class="anchor" id="autotoc_md1360"></a>
Debug Mode</h2>
<p>Enable verbose logging:</p>
<div class="fragment"><div class="line"># In z3ed</div>
<div class="line">export YAZE_LOG_LEVEL=debug</div>
<div class="line">./z3ed agent test --prompt &quot;...&quot;</div>
<div class="line"> </div>
<div class="line"># In test harness</div>
<div class="line">./yaze --enable_test_harness --log_level=debug</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1361"></a>
Test Harness Diagnostics</h2>
<div class="fragment"><div class="line"># Check server status</div>
<div class="line">grpcurl -plaintext 127.0.0.1:50052 list</div>
<div class="line"> </div>
<div class="line"># Check available services</div>
<div class="line">grpcurl -plaintext 127.0.0.1:50052 list yaze.test.ImGuiTestHarness</div>
<div class="line"> </div>
<div class="line"># Describe service</div>
<div class="line">grpcurl -plaintext 127.0.0.1:50052 describe yaze.test.ImGuiTestHarness</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1363"></a>
API Reference</h1>
<h2><a class="anchor" id="autotoc_md1364"></a>
RPC Service Definition</h2>
<div class="fragment"><div class="line">syntax = &quot;proto3&quot;;</div>
<div class="line">package yaze.test;</div>
<div class="line"> </div>
<div class="line">service ImGuiTestHarness {</div>
<div class="line">  rpc Ping(PingRequest) returns (PingResponse);</div>
<div class="line">  rpc Click(ClickRequest) returns (ClickResponse);</div>
<div class="line">  rpc Type(TypeRequest) returns (TypeResponse);</div>
<div class="line">  rpc Wait(WaitRequest) returns (WaitResponse);</div>
<div class="line">  rpc Assert(AssertRequest) returns (AssertResponse);</div>
<div class="line">  rpc Screenshot(ScreenshotRequest) returns (ScreenshotResponse);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1365"></a>
Request/Response Schemas</h2>
<h3><a class="anchor" id="autotoc_md1366"></a>
Ping</h3>
<p><b>Request</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;message&quot;: &quot;string&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;message&quot;: &quot;string&quot;,</div>
<div class="line">  &quot;timestampMs&quot;: &quot;int64&quot;,</div>
<div class="line">  &quot;yazeVersion&quot;: &quot;string&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1367"></a>
Click</h3>
<p><b>Request</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;target&quot;: &quot;button:Name | menu:File→Open | tab:Editor&quot;,</div>
<div class="line">  &quot;type&quot;: &quot;LEFT | RIGHT | MIDDLE | DOUBLE&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;success&quot;: true,</div>
<div class="line">  &quot;message&quot;: &quot;Clicked button &#39;Name&#39;&quot;,</div>
<div class="line">  &quot;executionTimeMs&quot;: &quot;int32&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1368"></a>
Type</h3>
<p><b>Request</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;target&quot;: &quot;input:FieldName&quot;,</div>
<div class="line">  &quot;text&quot;: &quot;text to type&quot;,</div>
<div class="line">  &quot;clear_first&quot;: true</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;success&quot;: true,</div>
<div class="line">  &quot;message&quot;: &quot;Typed &#39;text&#39; into input &#39;FieldName&#39;&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1369"></a>
Wait</h3>
<p><b>Request</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;condition&quot;: &quot;window_visible:WindowName | element_visible:Label | element_enabled:Label&quot;,</div>
<div class="line">  &quot;timeout_ms&quot;: 5000,</div>
<div class="line">  &quot;poll_interval_ms&quot;: 100</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;success&quot;: true,</div>
<div class="line">  &quot;message&quot;: &quot;Condition met after X ms&quot;,</div>
<div class="line">  &quot;elapsedMs&quot;: &quot;int32&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1370"></a>
Assert</h3>
<p><b>Request</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;condition&quot;: &quot;visible:Window | enabled:Button | exists:Element | text_contains:Input:ExpectedText&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;success&quot;: true,</div>
<div class="line">  &quot;message&quot;: &quot;Assertion passed&quot;,</div>
<div class="line">  &quot;actualValue&quot;: &quot;string&quot;,</div>
<div class="line">  &quot;expectedValue&quot;: &quot;string&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1371"></a>
Screenshot</h3>
<p><b>Request</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;region&quot;: &quot;full | window:Name&quot;,</div>
<div class="line">  &quot;format&quot;: &quot;PNG | JPEG&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response</b>: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;success&quot;: false,</div>
<div class="line">  &quot;message&quot;: &quot;Screenshot not yet implemented&quot;,</div>
<div class="line">  &quot;filePath&quot;: &quot;&quot;,</div>
<div class="line">  &quot;fileSizeBytes&quot;: 0</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1372"></a>
Resource Catalog Schema</h2>
<p>See <code>docs/api/z3ed-resources.yaml</code> for complete machine-readable API specification.</p>
<p><b>Example Resource</b>: </p><div class="fragment"><div class="line">resources:</div>
<div class="line">  - name: rom</div>
<div class="line">    description: ROM file operations</div>
<div class="line">    actions:</div>
<div class="line">      - name: info</div>
<div class="line">        description: Display ROM metadata</div>
<div class="line">        arguments:</div>
<div class="line">          - name: rom</div>
<div class="line">            type: string</div>
<div class="line">            required: true</div>
<div class="line">            description: Path to ROM file</div>
<div class="line">        effects:</div>
<div class="line">          - Reads ROM file from disk</div>
<div class="line">          - Parses ROM header</div>
<div class="line">        returns:</div>
<div class="line">          - type: object</div>
<div class="line">            fields:</div>
<div class="line">              - title: string</div>
<div class="line">              - size: integer</div>
<div class="line">              - checksum: string</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1374"></a>
Platform Notes</h1>
<h2><a class="anchor" id="autotoc_md1375"></a>
macOS (ARM64) - Production Ready ✅</h2>
<p><b>Status</b>: Fully tested and operational <br  />
 <b>Build Time</b>: 15-20 minutes (first build), 5-10 seconds (incremental) <br  />
 <b>Binary Size</b>: ~74 MB (with gRPC) <br  />
 <b>Known Issues</b>: None</p>
<p><b>Recommended Setup</b>: </p><div class="fragment"><div class="line"># Use Homebrew for dependencies</div>
<div class="line">brew install cmake grpcurl</div>
<div class="line"> </div>
<div class="line"># Build with vcpkg (automatic via CMake)</div>
<div class="line">cmake -B build-grpc-test -DYAZE_WITH_GRPC=ON</div>
<div class="line">cmake --build build-grpc-test --target yaze -j$(sysctl -n hw.ncpu)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1376"></a>
macOS (Intel) - Should Work ⚠️</h2>
<p><b>Status</b>: Not explicitly tested, but should work <br  />
 <b>Expected Issues</b>: None (same toolchain as ARM64)</p>
<h2><a class="anchor" id="autotoc_md1377"></a>
Linux - Should Work ⚠️</h2>
<p><b>Status</b>: Not explicitly tested <br  />
 <b>Expected Issues</b>: None (gRPC has excellent Linux support)</p>
<p><b>Setup</b>: </p><div class="fragment"><div class="line"># Install dependencies</div>
<div class="line">sudo apt-get install cmake build-essential</div>
<div class="line"> </div>
<div class="line"># Build (same as macOS)</div>
<div class="line">cmake -B build-grpc-test -DYAZE_WITH_GRPC=ON</div>
<div class="line">cmake --build build-grpc-test --target yaze -j$(nproc)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1378"></a>
Windows - Experimental 🔬</h2>
<p><b>Status</b>: Build system ready, test harness not validated <br  />
 <b>Known Limitations</b>:</p><ul>
<li>Test harness not yet tested on Windows</li>
<li>May require static linking to avoid DLL conflicts</li>
<li>vcpkg setup more complex than macOS</li>
</ul>
<p><b>Recommended Approach</b>: Use Windows Subsystem for Linux (WSL2) for now</p>
<hr  />
<h1><a class="anchor" id="autotoc_md1380"></a>
Appendix</h1>
<h2><a class="anchor" id="autotoc_md1381"></a>
File Structure</h2>
<div class="fragment"><div class="line">docs/z3ed/</div>
<div class="line">├── E6-z3ed-cli-design.md             # Architecture &amp; design (source of truth)</div>
<div class="line">├── E6-z3ed-implementation-plan.md    # Implementation tracker &amp; roadmap</div>
<div class="line">├── E6-z3ed-reference.md              # This document (technical reference)</div>
<div class="line">├── README.md                         # Quick overview &amp; links</div>
<div class="line">├── IT-01-QUICKSTART.md               # Test harness quick start</div>
<div class="line">├── AGENT_TEST_QUICKREF.md            # CLI agent test command reference</div>
<div class="line">├── E2E_VALIDATION_GUIDE.md           # Complete validation checklist</div>
<div class="line">├── PROJECT_STATUS_OCT2.md            # Current project status</div>
<div class="line">└── archive/                          # Historical documentation</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1382"></a>
Related Documentation</h2>
<ul>
<li><b>Build Instructions</b>: <code><a class="el" href="../../d2/d14/02-build-instructions_8md.html">docs/02-build-instructions.md</a></code></li>
<li><b>API Reference</b>: <code>docs/api/z3ed-resources.yaml</code></li>
<li><b>Testing Guide</b>: <code><a class="el" href="../../d6/d46/A1-testing-guide_8md.html">docs/A1-testing-guide.md</a></code></li>
<li><b>Contributing</b>: <code><a class="el" href="../../dc/dd0/B1-contributing_8md.html">docs/B1-contributing.md</a></code></li>
</ul>
<h2><a class="anchor" id="autotoc_md1383"></a>
Version History</h2>
<ul>
<li><b>0.1.0-alpha</b> (Oct 2, 2025) - Initial release<ul>
<li>Resource catalogue complete</li>
<li>Acceptance workflow operational</li>
<li>ImGuiTestHarness (IT-01) complete</li>
<li>CLI agent test (IT-02) complete</li>
<li>E2E validation 80% complete</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md1384"></a>
Contributors</h2>
<ul>
<li>@scawful (Project lead, implementation)</li>
<li>GitHub Copilot (Development assistance, documentation)</li>
</ul>
<h2><a class="anchor" id="autotoc_md1385"></a>
License</h2>
<p>Same as YAZE - see <code>LICENSE</code> in repository root.</p>
<hr  />
<p><b>Document Status</b>: Living document, updated as features are added <br  />
 <b>Last Review</b>: October 2, 2025 <br  />
 <b>Next Review</b>: After Windows testing completion </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
