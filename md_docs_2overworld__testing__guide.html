<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yaze: YAZE Overworld Testing Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="yaze.ico"/></td>
  <td id="projectalign">
   <div id="projectname">yaze<span id="projectnumber">&#160;0.3.1</span>
   </div>
   <div id="projectbrief">Link to the Past ROM Editor</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2overworld__testing__guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">YAZE Overworld Testing Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md767"></a> </p>
<h1><a class="anchor" id="autotoc_md768"></a>
Overview</h1>
<p>This guide provides comprehensive documentation for testing the YAZE overworld implementation, including unit tests, integration tests, end-to-end tests, and golden data validation. The testing framework ensures that the YAZE C++ implementation correctly mirrors the ZScream C# logic.</p>
<h1><a class="anchor" id="autotoc_md769"></a>
Test Architecture</h1>
<h2><a class="anchor" id="autotoc_md770"></a>
1. Golden Data System</h2>
<p>The golden data system provides a "source of truth" for ROM validation:</p>
<ul>
<li><b>Golden Data Extractor</b>: Extracts all overworld-related values from ROMs</li>
<li><b>Before/After Validation</b>: Compares ROM states before and after edits</li>
<li><b>Reference Data</b>: Provides expected values for test validation</li>
</ul>
<h2><a class="anchor" id="autotoc_md771"></a>
2. Test Categories</h2>
<h3><a class="anchor" id="autotoc_md772"></a>
Unit Tests (&lt;tt&gt;test/unit/zelda3/&lt;/tt&gt;)</h3>
<ul>
<li>**<code><a class="el" href="overworld__test_8cc.html">overworld_test.cc</a></code>**: Basic overworld functionality tests</li>
<li>**<code><a class="el" href="overworld__integration__test_8cc.html">overworld_integration_test.cc</a></code>**: Comprehensive integration tests</li>
<li>**<code><a class="el" href="extract__vanilla__values_8cc.html">extract_vanilla_values.cc</a></code>**: ROM value extraction utility</li>
</ul>
<h3><a class="anchor" id="autotoc_md773"></a>
Integration Tests (&lt;tt&gt;test/e2e/&lt;/tt&gt;)</h3>
<ul>
<li>**<code><a class="el" href="overworld__e2e__test_8cc.html">overworld/overworld_e2e_test.cc</a></code>**: End-to-end workflow tests</li>
<li>**<code><a class="el" href="zscustomoverworld__upgrade__test_8cc.html">zscustomoverworld/zscustomoverworld_upgrade_test.cc</a></code>**: ASM version upgrade tests</li>
</ul>
<h3><a class="anchor" id="autotoc_md774"></a>
Golden Data Tools</h3>
<ul>
<li>**<code><a class="el" href="overworld__golden__data__extractor_8cc.html">overworld_golden_data_extractor.cc</a></code>**: Comprehensive ROM data extraction</li>
<li>**<code>run_overworld_tests.sh</code>**: Orchestrated test runner script</li>
</ul>
<h1><a class="anchor" id="autotoc_md775"></a>
Quick Start</h1>
<h2><a class="anchor" id="autotoc_md776"></a>
Prerequisites</h2>
<ol type="1">
<li><b>Build YAZE</b>: Ensure the project is built with tests enabled</li>
<li><b>ROM File</b>: Have a valid Zelda 3 ROM file (zelda3.sfc)</li>
<li><b>Environment</b>: Set up test environment variables</li>
</ol>
<h2><a class="anchor" id="autotoc_md777"></a>
Running Tests</h2>
<h3><a class="anchor" id="autotoc_md778"></a>
Basic Test Run</h3>
<div class="fragment"><div class="line"># Run all overworld tests with a ROM</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc</div>
<div class="line"> </div>
<div class="line"># Generate detailed report</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc --generate-report</div>
<div class="line"> </div>
<div class="line"># Clean up test files after completion</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc --cleanup</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md779"></a>
Selective Test Execution</h3>
<div class="fragment"><div class="line"># Skip unit tests, run only integration and E2E</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc --skip-unit-tests</div>
<div class="line"> </div>
<div class="line"># Extract golden data only</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc --skip-unit-tests --skip-integration --skip-e2e</div>
<div class="line"> </div>
<div class="line"># Run with custom ROM path</div>
<div class="line">export YAZE_TEST_ROM_PATH=&quot;/path/to/custom/rom.sfc&quot;</div>
<div class="line">./scripts/run_overworld_tests.sh /path/to/custom/rom.sfc</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md780"></a>
Test Components</h1>
<h2><a class="anchor" id="autotoc_md781"></a>
1. Golden Data Extractor</h2>
<p>The <code>overworld_golden_data_extractor</code> tool extracts comprehensive data from ROMs:</p>
<div class="fragment"><div class="line"># Extract golden data from a ROM</div>
<div class="line">./build/bin/overworld_golden_data_extractor zelda3.sfc golden_data.h</div>
</div><!-- fragment --><p><b>Extracted Data Includes:</b></p><ul>
<li>Basic ROM information (title, size, checksums)</li>
<li>ASM version and feature flags</li>
<li>Overworld map properties (graphics, palettes, sizes)</li>
<li>Tile data (Tile16/Tile32 expansion status)</li>
<li>Entrance/hole/exit coordinate data</li>
<li>Item and sprite data</li>
<li>Map tiles (compressed data)</li>
<li>Palette and music data</li>
<li>Overlay data</li>
</ul>
<h2><a class="anchor" id="autotoc_md782"></a>
2. Integration Tests</h2>
<p>The integration tests validate core overworld functionality:</p>
<div class="fragment"><div class="line"><span class="comment">// Example: Test coordinate calculation accuracy</span></div>
<div class="line">TEST_F(OverworldIntegrationTest, ZScreamCoordinateCompatibility) {</div>
<div class="line">  <span class="comment">// Load overworld data</span></div>
<div class="line">  <span class="keyword">auto</span> status = overworld_-&gt;Load(rom_.get());</div>
<div class="line">  ASSERT_TRUE(status.ok());</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Validate coordinate calculations match ZScream exactly</span></div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; entrances = overworld_-&gt;entrances();</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; entrance = entrances[i];</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ZScream coordinate calculation logic</span></div>
<div class="line">    uint16_t map_pos = entrance.map_pos();</div>
<div class="line">    uint16_t map_id = entrance.map_id();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">int</span> position = map_pos &gt;&gt; 1;</div>
<div class="line">    <span class="keywordtype">int</span> x_coord = position % 64;</div>
<div class="line">    <span class="keywordtype">int</span> y_coord = position &gt;&gt; 6;</div>
<div class="line">    <span class="keywordtype">int</span> expected_x = (x_coord * 16) + (((map_id % 64) - (((map_id % 64) / 8) * 8)) * 512);</div>
<div class="line">    <span class="keywordtype">int</span> expected_y = (y_coord * 16) + (((map_id % 64) / 8) * 512);</div>
<div class="line">    </div>
<div class="line">    EXPECT_EQ(entrance.x(), expected_x);</div>
<div class="line">    EXPECT_EQ(entrance.y(), expected_y);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md783"></a>
3. End-to-End Tests</h2>
<p>E2E tests validate complete workflows:</p>
<div class="fragment"><div class="line"><span class="comment">// Example: Test ASM version upgrade workflow</span></div>
<div class="line">TEST_F(OverworldE2ETest, ApplyZSCustomOverworldV3) {</div>
<div class="line">  <span class="comment">// Load vanilla ROM</span></div>
<div class="line">  std::unique_ptr&lt;Rom&gt; rom = std::make_unique&lt;Rom&gt;();</div>
<div class="line">  <a class="code hl_define" href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a>(rom-&gt;LoadFromFile(vanilla_test_path_));</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Apply ZSCustomOverworld v3 ASM</span></div>
<div class="line">  <a class="code hl_define" href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a>(rom-&gt;WriteByte(0x140145, 0x03)); <span class="comment">// Set ASM version to v3</span></div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Enable v3 features</span></div>
<div class="line">  <a class="code hl_define" href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a>(rom-&gt;WriteByte(0x140146, 0x01)); <span class="comment">// Enable main palettes</span></div>
<div class="line">  <a class="code hl_define" href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a>(rom-&gt;WriteByte(0x140147, 0x01)); <span class="comment">// Enable area-specific BG</span></div>
<div class="line">  <span class="comment">// ... more feature flags</span></div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Save and reload</span></div>
<div class="line">  <a class="code hl_define" href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a>(rom-&gt;SaveToFile(Rom::SaveSettings{.filename = edited_test_path_}));</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Validate changes persisted</span></div>
<div class="line">  std::unique_ptr&lt;Rom&gt; reloaded_rom = std::make_unique&lt;Rom&gt;();</div>
<div class="line">  <a class="code hl_define" href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a>(reloaded_rom-&gt;LoadFromFile(edited_test_path_));</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">auto</span> asm_version = reloaded_rom-&gt;ReadByte(0x140145);</div>
<div class="line">  EXPECT_EQ(*asm_version, 0x03);</div>
<div class="line">}</div>
<div class="ttc" id="atesting_8h_html_abed59ac7e67905d886d98f1c063ac9e7"><div class="ttname"><a href="testing_8h.html#abed59ac7e67905d886d98f1c063ac9e7">ASSERT_OK</a></div><div class="ttdeci">#define ASSERT_OK(expr)</div><div class="ttdef"><b>Definition</b> <a href="testing_8h_source.html#l00012">testing.h:12</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md784"></a>
Test Validation Points</h1>
<h2><a class="anchor" id="autotoc_md785"></a>
1. ZScream Compatibility</h2>
<p>Tests ensure YAZE behavior matches ZScream exactly:</p>
<ul>
<li><b>Coordinate Calculations</b>: Entrance/hole coordinates use identical formulas</li>
<li><b>ASM Version Detection</b>: Proper handling of vanilla vs ZSCustomOverworld ROMs</li>
<li><b>Data Structure Loading</b>: Same data organization and access patterns</li>
<li><b>Expansion Detection</b>: Correct identification of expanded vs vanilla data</li>
</ul>
<h2><a class="anchor" id="autotoc_md786"></a>
2. ROM State Validation</h2>
<p>Tests validate ROM integrity:</p>
<ul>
<li><b>Before/After Comparison</b>: Ensure edits are properly saved and loaded</li>
<li><b>Feature Flag Persistence</b>: ZSCustomOverworld features remain enabled after save</li>
<li><b>Data Integrity</b>: Original data is preserved where expected</li>
<li><b>Checksum Validation</b>: ROM remains valid after modifications</li>
</ul>
<h2><a class="anchor" id="autotoc_md787"></a>
3. Performance and Stability</h2>
<p>Tests ensure robustness:</p>
<ul>
<li><b>Multiple Load Cycles</b>: Repeated load/unload operations</li>
<li><b>Memory Management</b>: Proper cleanup of resources</li>
<li><b>Error Handling</b>: Graceful handling of invalid data</li>
<li><b>Thread Safety</b>: Concurrent access patterns (if applicable)</li>
</ul>
<h1><a class="anchor" id="autotoc_md788"></a>
Environment Variables</h1>
<h2><a class="anchor" id="autotoc_md789"></a>
Test Configuration</h2>
<div class="fragment"><div class="line"># ROM path for testing</div>
<div class="line">export YAZE_TEST_ROM_PATH=&quot;/path/to/rom.sfc&quot;</div>
<div class="line"> </div>
<div class="line"># Skip ROM-dependent tests</div>
<div class="line">export YAZE_SKIP_ROM_TESTS=1</div>
<div class="line"> </div>
<div class="line"># Test output verbosity</div>
<div class="line">export GTEST_VERBOSE=1</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md790"></a>
Build Configuration</h2>
<div class="fragment"><div class="line"># Enable tests in CMake</div>
<div class="line">cmake -DCMAKE_BUILD_TYPE=Debug -DBUILD_TESTS=ON ..</div>
<div class="line"> </div>
<div class="line"># Build with specific test targets</div>
<div class="line">cmake --build build --target overworld_golden_data_extractor</div>
<div class="line">cmake --build build --target extract_vanilla_values</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md791"></a>
Test Reports</h1>
<h2><a class="anchor" id="autotoc_md792"></a>
Generated Reports</h2>
<p>The test runner generates comprehensive reports:</p>
<div class="fragment"><div class="line"># YAZE Overworld Test Report</div>
<div class="line"> </div>
<div class="line">**Generated:** 2024-01-15 14:30:00</div>
<div class="line">**ROM:** zelda3.sfc</div>
<div class="line">**ROM Size:** 2097152 bytes</div>
<div class="line"> </div>
<div class="line">## Test Results Summary</div>
<div class="line"> </div>
<div class="line">| Test Category | Status | Details |</div>
<div class="line">|---------------|--------|---------|</div>
<div class="line">| Golden Data Extraction | SUCCESS: golden_data.h | |</div>
<div class="line">| Unit Tests | PASSED | |</div>
<div class="line">| Integration Tests | PASSED | |</div>
<div class="line">| E2E Tests | PASSED | |</div>
<div class="line"> </div>
<div class="line">## ROM Information</div>
<div class="line"> </div>
<div class="line">### ROM Header</div>
<div class="line">[Hex dump of ROM header for validation]</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md793"></a>
Report Location</h2>
<p>Reports are saved to <code>test/reports/</code> with timestamps:</p><ul>
<li><code>overworld_test_report_YYYYMMDD_HHMMSS.md</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md794"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md795"></a>
Common Issues</h2>
<h3><a class="anchor" id="autotoc_md796"></a>
1. ROM Not Found</h3>
<div class="fragment"><div class="line">Error: ROM file not found: zelda3.sfc</div>
</div><!-- fragment --><p> <b>Solution</b>: Provide correct ROM path or set <code>YAZE_TEST_ROM_PATH</code></p>
<h3><a class="anchor" id="autotoc_md797"></a>
2. Build Failures</h3>
<div class="fragment"><div class="line">Error: Failed to build golden data extractor</div>
</div><!-- fragment --><p> <b>Solution</b>: Ensure project is built with tests enabled: </p><div class="fragment"><div class="line">cmake -DBUILD_TESTS=ON ..</div>
<div class="line">cmake --build build</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md798"></a>
3. Test Failures</h3>
<div class="fragment"><div class="line">Error: Some tests failed. Check the results above.</div>
</div><!-- fragment --><p> <b>Solution</b>:</p><ul>
<li>Check individual test logs for specific failures</li>
<li>Verify ROM file is valid Zelda 3 ROM</li>
<li>Ensure test environment is properly configured</li>
</ul>
<h2><a class="anchor" id="autotoc_md799"></a>
Debug Mode</h2>
<p>Run tests with maximum verbosity:</p>
<div class="fragment"><div class="line"># Enable debug output</div>
<div class="line">export GTEST_VERBOSE=1</div>
<div class="line">export YAZE_DEBUG=1</div>
<div class="line"> </div>
<div class="line"># Run with verbose output</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc --generate-report</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md800"></a>
Advanced Usage</h1>
<h2><a class="anchor" id="autotoc_md801"></a>
Custom Test Scenarios</h2>
<h3><a class="anchor" id="autotoc_md802"></a>
1. Testing Custom ROMs</h3>
<div class="fragment"><div class="line"># Test with modified ROM</div>
<div class="line">./scripts/run_overworld_tests.sh /path/to/modified_rom.sfc</div>
<div class="line"> </div>
<div class="line"># Extract golden data for comparison</div>
<div class="line">./build/bin/overworld_golden_data_extractor /path/to/modified_rom.sfc modified_golden_data.h</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md803"></a>
2. Regression Testing</h3>
<div class="fragment"><div class="line"># Extract golden data from known good ROM</div>
<div class="line">./build/bin/overworld_golden_data_extractor known_good_rom.sfc reference_golden_data.h</div>
<div class="line"> </div>
<div class="line"># Test modified ROM against reference</div>
<div class="line">./scripts/run_overworld_tests.sh modified_rom.sfc --generate-report</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md804"></a>
3. Performance Testing</h3>
<div class="fragment"><div class="line"># Run performance-focused tests</div>
<div class="line">export YAZE_PERFORMANCE_TESTS=1</div>
<div class="line">./scripts/run_overworld_tests.sh zelda3.sfc</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md805"></a>
Integration with CI/CD</h1>
<h2><a class="anchor" id="autotoc_md806"></a>
GitHub Actions Example</h2>
<div class="fragment"><div class="line">name: Overworld Tests</div>
<div class="line"> </div>
<div class="line">on: [push, pull_request]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  test:</div>
<div class="line">    runs-on: ubuntu-latest</div>
<div class="line">    </div>
<div class="line">    steps:</div>
<div class="line">    - uses: actions/checkout@v3</div>
<div class="line">    </div>
<div class="line">    - name: Build YAZE</div>
<div class="line">      run: |</div>
<div class="line">        cmake -DBUILD_TESTS=ON -DCMAKE_BUILD_TYPE=Debug ..</div>
<div class="line">        cmake --build build</div>
<div class="line">    </div>
<div class="line">    - name: Download Test ROM</div>
<div class="line">      run: |</div>
<div class="line">        # Download test ROM (placeholder - use actual ROM)</div>
<div class="line">        wget -O zelda3.sfc https://example.com/test_rom.sfc</div>
<div class="line">    </div>
<div class="line">    - name: Run Overworld Tests</div>
<div class="line">      run: |</div>
<div class="line">        chmod +x scripts/run_overworld_tests.sh</div>
<div class="line">        ./scripts/run_overworld_tests.sh zelda3.sfc --generate-report</div>
<div class="line">    </div>
<div class="line">    - name: Upload Test Reports</div>
<div class="line">      uses: actions/upload-artifact@v3</div>
<div class="line">      with:</div>
<div class="line">        name: test-reports</div>
<div class="line">        path: test/reports/</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md807"></a>
Contributing</h1>
<h2><a class="anchor" id="autotoc_md808"></a>
Adding New Tests</h2>
<ol type="1">
<li><b>Unit Tests</b>: Add to <code><a class="el" href="overworld__test_8cc.html">test/unit/zelda3/overworld_test.cc</a></code></li>
<li><b>Integration Tests</b>: Add to <code><a class="el" href="overworld__integration__test_8cc.html">test/unit/zelda3/overworld_integration_test.cc</a></code></li>
<li><b>E2E Tests</b>: Add to <code><a class="el" href="overworld__e2e__test_8cc.html">test/e2e/overworld/overworld_e2e_test.cc</a></code></li>
</ol>
<h2><a class="anchor" id="autotoc_md809"></a>
Test Guidelines</h2>
<ul>
<li><b>Naming</b>: Use descriptive test names that explain the scenario</li>
<li><b>Documentation</b>: Include comments explaining complex test logic</li>
<li><b>Isolation</b>: Each test should be independent and not rely on others</li>
<li><b>Cleanup</b>: Ensure tests clean up resources and temporary files</li>
</ul>
<h2><a class="anchor" id="autotoc_md810"></a>
Example Test Structure</h2>
<div class="fragment"><div class="line"><span class="comment">// Test descriptive name that explains the scenario</span></div>
<div class="line">TEST_F(OverworldIntegrationTest, Tile32ExpansionDetectionWithV3ASM) {</div>
<div class="line">  <span class="comment">// Setup: Configure test environment</span></div>
<div class="line">  mock_rom_data_[0x01772E] = 0x04; <span class="comment">// Set expansion flag</span></div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Execute: Run the code under test</span></div>
<div class="line">  <span class="keyword">auto</span> status = overworld_-&gt;Load(rom_.get());</div>
<div class="line">  ASSERT_TRUE(status.ok());</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Verify: Check expected outcomes</span></div>
<div class="line">  EXPECT_TRUE(overworld_-&gt;expanded_tile32());</div>
<div class="line">  EXPECT_FALSE(overworld_-&gt;expanded_tile16());</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Cleanup: (handled by test framework)</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md811"></a>
Conclusion</h1>
<p>The YAZE overworld testing framework provides comprehensive validation of the C++ implementation against the ZScream C# reference. The golden data system ensures consistency, while the multi-layered test approach (unit, integration, E2E) provides confidence in the implementation's correctness and robustness.</p>
<p>For questions or issues, refer to the test logs and generated reports, or consult the YAZE development team. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
