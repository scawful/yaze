<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>yaze: CI/CD Testing Strategy - Efficient Workflows</title>
<link rel="icon" href="yaze.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="yaze.ico"/></td>
  <td id="projectalign">
   <div id="projectname">yaze<span id="projectnumber">&#160;0.2.2</span>
   </div>
   <div id="projectbrief">Link to the Past ROM Editor</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2ci-testing-guide.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CI/CD Testing Strategy - Efficient Workflows</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md128"></a></p>
<h1><a class="anchor" id="autotoc_md129"></a>
Overview</h1>
<p>Yaze v0.3.0 implements a sophisticated testing strategy designed for efficient CI/CD pipelines while maintaining comprehensive quality assurance.</p>
<h1><a class="anchor" id="autotoc_md130"></a>
Test Categories &amp; Execution Strategy</h1>
<h2><a class="anchor" id="autotoc_md131"></a>
🟢 STABLE Tests (CI Required)</h2>
<p><b>These tests MUST pass for releases</b></p>
<ul>
<li><b>AsarWrapperTest</b> (11/12 tests passing): Core Asar functionality</li>
<li><b>SnesTileTest</b>: SNES graphics format handling <br  />
</li>
<li><b>CompressionTest</b>: Data compression utilities</li>
<li><b>SnesPaletteTest</b>: SNES palette operations</li>
<li><b>Basic ROM operations</b>: Core file handling</li>
</ul>
<p><b>Execution Time</b>: &lt; 30 seconds total <br  />
 <b>CI Strategy</b>: Run on every commit, block merge if failing</p>
<h2><a class="anchor" id="autotoc_md132"></a>
🟡 EXPERIMENTAL Tests (CI Informational)</h2>
<p><b>These tests can fail without blocking releases</b></p>
<ul>
<li><b>CpuTest</b> (400+ tests): 65816 CPU emulation - complex timing issues</li>
<li><b>Spc700Test</b>: SPC700 audio processor - emulation accuracy <br  />
</li>
<li><b>Complex Integration Tests</b>: Multi-component scenarios</li>
<li><b>MessageTest</b>: Text parsing - may have encoding issues</li>
<li><b>DungeonIntegrationTest</b>: Complex editor workflows</li>
</ul>
<p><b>Execution Time</b>: 5-10 minutes <br  />
 <b>CI Strategy</b>: Run separately with <code>continue-on-error: true</code></p>
<h2><a class="anchor" id="autotoc_md133"></a>
🔴 ROM_DEPENDENT Tests (Development Only)</h2>
<p><b>These tests require actual ROM files</b></p>
<ul>
<li><b>AsarRomIntegrationTest</b>: Real ROM patching tests</li>
<li><b>ROM-based validation</b>: Tests with actual game data</li>
</ul>
<p><b>Execution</b>: Only in development environment <br  />
 <b>CI Strategy</b>: Automatically skipped in CI (<code>--label-exclude ROM_DEPENDENT</code>)</p>
<h1><a class="anchor" id="autotoc_md134"></a>
Dependency Management</h1>
<h2><a class="anchor" id="autotoc_md135"></a>
NFD (Native File Dialog) - Optional</h2>
<div class="fragment"><div class="line"># Conditional inclusion for CI efficiency</div>
<div class="line">option(YAZE_MINIMAL_BUILD &quot;Minimal build for CI&quot; OFF)</div>
<div class="line"> </div>
<div class="line">if(NOT YAZE_MINIMAL_BUILD)</div>
<div class="line">    add_subdirectory(lib/nativefiledialog-extended)  # Requires GTK on Linux</div>
<div class="line">else()</div>
<div class="line">    # Skip NFD to avoid GTK dependency in CI</div>
<div class="line">endif()</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md136"></a>
Linux Dependencies for Full Build</h2>
<div class="fragment"><div class="line"># Required for NFD on Linux</div>
<div class="line">sudo apt-get install libgtk-3-dev libdbus-1-dev</div>
<div class="line"> </div>
<div class="line"># Core dependencies (always required)  </div>
<div class="line">sudo apt-get install libglew-dev libxext-dev libwavpack-dev libpng-dev</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md137"></a>
CI Configuration Examples</h1>
<h2><a class="anchor" id="autotoc_md138"></a>
Fast CI Pipeline (&lt; 5 minutes)</h2>
<div class="fragment"><div class="line">- name: Configure (Minimal)</div>
<div class="line">  run: cmake -B build -DYAZE_MINIMAL_BUILD=ON -DYAZE_ENABLE_EXPERIMENTAL_TESTS=OFF</div>
<div class="line"> </div>
<div class="line">- name: Build</div>
<div class="line">  run: cmake --build build --parallel</div>
<div class="line"> </div>
<div class="line">- name: Test (Stable Only)  </div>
<div class="line">  run: ctest --test-dir build --label-regex &quot;STABLE&quot; --parallel</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md139"></a>
Development Pipeline (Complete)</h2>
<div class="fragment"><div class="line">- name: Configure (Full)</div>
<div class="line">  run: cmake -B build -DYAZE_ENABLE_ROM_TESTS=ON -DYAZE_ENABLE_EXPERIMENTAL_TESTS=ON</div>
<div class="line"> </div>
<div class="line">- name: Build</div>
<div class="line">  run: cmake --build build --parallel</div>
<div class="line"> </div>
<div class="line">- name: Test (All)</div>
<div class="line">  run: ctest --test-dir build --output-on-failure</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md140"></a>
Local Development Workflows</h1>
<h2><a class="anchor" id="autotoc_md141"></a>
Quick Development Testing</h2>
<div class="fragment"><div class="line"># Test only Asar functionality (&lt; 30 seconds)</div>
<div class="line">ctest --test-dir build -R &quot;*AsarWrapper*&quot; --parallel</div>
<div class="line"> </div>
<div class="line"># Test stable features only  </div>
<div class="line">ctest --test-dir build --label-regex &quot;STABLE&quot; --parallel</div>
<div class="line"> </div>
<div class="line"># Full development testing</div>
<div class="line">cmake --preset dev</div>
<div class="line">cmake --build --preset dev  </div>
<div class="line">ctest --preset dev</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md142"></a>
Release Validation</h2>
<div class="fragment"><div class="line"># Release candidate testing (stable tests only)</div>
<div class="line">cmake --preset release</div>
<div class="line">cmake --build --preset release</div>
<div class="line">ctest --test-dir build --label-regex &quot;STABLE&quot; --stop-on-failure</div>
<div class="line"> </div>
<div class="line"># Performance validation  </div>
<div class="line">ctest --test-dir build --label-regex &quot;STABLE&quot; --repeat until-pass:3</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md143"></a>
Test Maintenance Strategy</h1>
<h2><a class="anchor" id="autotoc_md144"></a>
Weekly Review Process</h2>
<ol type="1">
<li><b>Check experimental test results</b> - identify tests ready for promotion</li>
<li><b>Update test categorization</b> - move stable experimental tests to STABLE</li>
<li><b>Performance monitoring</b> - track test execution times</li>
<li><b>Failure analysis</b> - investigate patterns in experimental test failures</li>
</ol>
<h2><a class="anchor" id="autotoc_md145"></a>
Promotion Criteria (Experimental → Stable)</h2>
<ul>
<li><b>Consistent passing</b> for 2+ weeks</li>
<li><b>Fast execution</b> (&lt; 10 seconds per test)</li>
<li><b>No external dependencies</b> (ROM files, GUI, complex setup)</li>
<li><b>Deterministic results</b> across platforms</li>
</ul>
<h2><a class="anchor" id="autotoc_md146"></a>
Test Categories by Stability</h2>
<h3><a class="anchor" id="autotoc_md147"></a>
Currently Stable (22/24 tests passing)</h3>
<ul>
<li>AsarWrapperTest.InitializationAndShutdown ✅</li>
<li>AsarWrapperTest.ValidPatchApplication ✅</li>
<li>AsarWrapperTest.SymbolExtraction ✅</li>
<li>AsarWrapperTest.PatchFromString ✅</li>
<li>AsarWrapperTest.ResetFunctionality ✅</li>
</ul>
<h3><a class="anchor" id="autotoc_md148"></a>
Needs Attention (2/24 tests failing)</h3>
<ul>
<li>AsarWrapperTest.AssemblyValidation ⚠️ (Error message format mismatch)</li>
</ul>
<h3><a class="anchor" id="autotoc_md149"></a>
Experimental (Many failing but expected)</h3>
<ul>
<li>CpuTest.* (400+ tests) - Complex 65816 emulation <br  />
</li>
<li>MessageTest.* - Text parsing edge cases</li>
<li>Complex integration tests - Multi-component scenarios</li>
</ul>
<h1><a class="anchor" id="autotoc_md150"></a>
Efficiency Metrics</h1>
<h2><a class="anchor" id="autotoc_md151"></a>
Target CI Times</h2>
<ul>
<li><b>Stable Test Suite</b>: &lt; 30 seconds</li>
<li><b>Full Build</b>: &lt; 5 minutes <br  />
</li>
<li><b>Total CI Pipeline</b>: &lt; 10 minutes per platform</li>
</ul>
<h2><a class="anchor" id="autotoc_md152"></a>
Resource Optimization</h2>
<ul>
<li><b>Parallel Testing</b>: Use all available CPU cores</li>
<li><b>Selective Dependencies</b>: Skip optional dependencies in CI</li>
<li><b>Test Categorization</b>: Run only relevant tests for changes</li>
<li><b>Artifact Caching</b>: Cache build dependencies between runs</li>
</ul>
<h1><a class="anchor" id="autotoc_md153"></a>
Error Handling Strategy</h1>
<h2><a class="anchor" id="autotoc_md154"></a>
Build Failures</h2>
<ul>
<li><b>NFD/GTK Issues</b>: Use YAZE_MINIMAL_BUILD=ON to skip</li>
<li><b>Dependency Problems</b>: Clear dependency installation in CI</li>
<li><b>Platform-Specific</b>: Use matrix builds with proper toolchains</li>
</ul>
<h2><a class="anchor" id="autotoc_md155"></a>
Test Failures</h2>
<ul>
<li><b>Stable Tests</b>: Must be fixed before merge</li>
<li><b>Experimental Tests</b>: Log for review, don't block pipeline</li>
<li><b>ROM Tests</b>: Skip gracefully when ROM unavailable</li>
<li><b>GUI Tests</b>: May need headless display configuration</li>
</ul>
<h1><a class="anchor" id="autotoc_md156"></a>
Monitoring &amp; Metrics</h1>
<h2><a class="anchor" id="autotoc_md157"></a>
Success Metrics</h2>
<ul>
<li><b>Stable Test Pass Rate</b>: 95%+ required</li>
<li><b>CI Pipeline Duration</b>: &lt; 10 minutes target</li>
<li><b>Build Success Rate</b>: 98%+ across all platforms</li>
<li><b>Release Cadence</b>: Monthly releases with high confidence</li>
</ul>
<h2><a class="anchor" id="autotoc_md158"></a>
Quality Gates</h2>
<ol type="1">
<li>All stable tests pass</li>
<li>Build succeeds on all platforms <br  />
</li>
<li>No critical security issues</li>
<li>Performance regression check</li>
<li>Documentation updated</li>
</ol>
<p>This strategy ensures efficient CI/CD while maintaining high quality standards for the yaze project. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
